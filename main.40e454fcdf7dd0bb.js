(self.webpackChunkui=self.webpackChunkui||[]).push([[179],{644:(re,g,N)=>{"use strict";function d(n){return"function"==typeof n}function q(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const G=q(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class j{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(d(i))try{i()}catch(o){e=o instanceof G?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{X(o)}catch(s){e=e??[],s instanceof G?e=[...e,...s.errors]:e.push(s)}}if(e)throw new G(e)}}add(e){var t;if(e&&e!==this)if(this.closed)X(e);else{if(e instanceof j){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oe(t,e)}remove(e){const{_finalizers:t}=this;t&&oe(t,e),e instanceof j&&e._removeParent(this)}}j.EMPTY=(()=>{const n=new j;return n.closed=!0,n})();const H=j.EMPTY;function k(n){return n instanceof j||n&&"closed"in n&&d(n.remove)&&d(n.add)&&d(n.unsubscribe)}function X(n){d(n)?n():n.unsubscribe()}const ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},se={setTimeout(n,e,...t){const{delegate:i}=se;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=se;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Q(n){se.setTimeout(()=>{const{onUnhandledError:e}=ee;if(!e)throw n;e(n)})}function ie(){}const T=L("C",void 0,void 0);function L(n,e,t){return{kind:n,value:e,error:t}}let P=null;function R(n){if(ee.useDeprecatedSynchronousErrorHandling){const e=!P;if(e&&(P={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=P;if(P=null,t)throw i}}else n()}class f extends j{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,k(e)&&e.add(this)):this.destination=W}static create(e,t,i){return new M(e,t,i)}next(e){this.isStopped?$(function I(n){return L("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$(function B(n){return L("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function F(n,e){return w.call(n,e)}class D{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){S(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){S(i)}else S(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){S(t)}}}class M extends f{constructor(e,t,i){let r;if(super(),d(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ee.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&F(e.next,o),error:e.error&&F(e.error,o),complete:e.complete&&F(e.complete,o)}):r=e}this.destination=new D(r)}}function S(n){ee.useDeprecatedSynchronousErrorHandling?function h(n){ee.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=n)}(n):Q(n)}function $(n,e){const{onStoppedNotification:t}=ee;t&&se.setTimeout(()=>t(n,e))}const W={closed:!0,next:ie,error:function v(n){throw n},complete:ie},te="function"==typeof Symbol&&Symbol.observable||"@@observable";function ue(n){return n}let _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function z(n){return n&&n instanceof f||function Te(n){return n&&d(n.next)&&d(n.error)&&d(n.complete)}(n)&&k(n)}(t)?t:new M(t,i,r);return R(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=ke(i))((r,o)=>{const s=new M({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[te](){return this}pipe(...t){return function me(n){return 0===n.length?ue:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=ke(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function ke(n){var e;return null!==(e=n??ee.Promise)&&void 0!==e?e:Promise}const m=q(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let c=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new p(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new m}next(t){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?H:(this.currentObservers=null,o.push(t),new j(()=>{this.currentObservers=null,oe(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new _e;return t.source=this,t}}return n.create=(e,t)=>new p(e,t),n})();class p extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:H}}function b(n){return d(n?.lift)}function E(n){return e=>{if(b(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function C(n,e,t,i,r){return new y(n,e,t,i,r)}class y extends f{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function O(n,e){return E((t,i)=>{let r=0;t.subscribe(C(i,o=>{i.next(n.call(e,o,r++))}))})}function Ue(n){return this instanceof Ue?(this.v=n,this):new Ue(n)}function ve(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(V){i[V]&&(r[V]=function(Y){return new Promise(function(ce,ge){o.push([V,Y,ce,ge])>1||a(V,Y)})})}function a(V,Y){try{!function l(V){V.value instanceof Ue?Promise.resolve(V.value.v).then(u,_):x(o[0][2],V)}(i[V](Y))}catch(ce){x(o[0][3],ce)}}function u(V){a("next",V)}function _(V){a("throw",V)}function x(V,Y){V(Y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function fe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function et(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const ot=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ce(n){return d(n?.then)}function Ie(n){return d(n[te])}function qe(n){return Symbol.asyncIterator&&d(n?.[Symbol.asyncIterator])}function Ke(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tt=function Ne(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ze(n){return d(n?.[tt])}function rt(n){return ve(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ue(t.read());if(r)return yield Ue(void 0);yield yield Ue(i)}}finally{t.releaseLock()}})}function mt(n){return d(n?.getReader)}function dt(n){if(n instanceof _e)return n;if(null!=n){if(Ie(n))return function Lt(n){return new _e(e=>{const t=n[te]();if(d(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ot(n))return function Un(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ce(n))return function Xt(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Q)})}(n);if(qe(n))return Qt(n);if(ze(n))return function Dn(n){return new _e(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(mt(n))return function nn(n){return Qt(rt(n))}(n)}throw Ke(n)}function Qt(n){return new _e(e=>{(function Sn(n,e){var t,i,r,o;return function Ve(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(_){try{u(i.next(_))}catch(x){s(x)}}function l(_){try{u(i.throw(_))}catch(x){s(x)}}function u(_){_.done?o(_.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(_.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=fe(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function rn(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ti(n,e,t=1/0){return d(e)?ti((i,r)=>O((o,s)=>e(i,o,r,s))(dt(n(i,r))),t):("number"==typeof e&&(t=e),E((i,r)=>function ei(n,e,t,i,r,o,s,a){const l=[];let u=0,_=0,x=!1;const V=()=>{x&&!l.length&&!u&&e.complete()},Y=ge=>u<i?ce(ge):l.push(ge),ce=ge=>{o&&e.next(ge),u++;let Ee=!1;dt(t(ge,_++)).subscribe(C(e,Se=>{r?.(Se),o?Y(Se):e.next(Se)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(u--;l.length&&u<i;){const Se=l.shift();s?rn(e,s,()=>ce(Se)):ce(Se)}V()}catch(Se){e.error(Se)}}))};return n.subscribe(C(e,Y,()=>{x=!0,V()})),()=>{a?.()}}(i,r,n,t)))}function Ph(n=1/0){return ti(ue,n)}const Ll=new _e(n=>n.complete());function Ih(n){return n&&d(n.schedule)}function Nl(n){return n[n.length-1]}function Co(n){return Ih(Nl(n))?n.pop():void 0}function Rh(n,e=0){return E((t,i)=>{t.subscribe(C(i,r=>rn(i,n,()=>i.next(r),e),()=>rn(i,n,()=>i.complete(),e),r=>rn(i,n,()=>i.error(r),e)))})}function Fh(n,e=0){return E((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Oh(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{rn(t,e,()=>{const i=n[Symbol.asyncIterator]();rn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ar(n,e){return e?function d0(n,e){if(null!=n){if(Ie(n))return function s0(n,e){return dt(n).pipe(Fh(e),Rh(e))}(n,e);if(ot(n))return function l0(n,e){return new _e(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Ce(n))return function a0(n,e){return dt(n).pipe(Fh(e),Rh(e))}(n,e);if(qe(n))return Oh(n,e);if(ze(n))return function c0(n,e){return new _e(t=>{let i;return rn(t,e,()=>{i=n[tt](),rn(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>d(i?.return)&&i.return()})}(n,e);if(mt(n))return function u0(n,e){return Oh(rt(n),e)}(n,e)}throw Ke(n)}(n,e):dt(n)}function Bl(...n){const e=Co(n),t=function o0(n,e){return"number"==typeof Nl(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?dt(i[0]):Ph(t)(ar(i,e)):Ll}function jl(n={}){const{connector:e=(()=>new c),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,u=0,_=!1,x=!1;const V=()=>{a?.unsubscribe(),a=void 0},Y=()=>{V(),s=l=void 0,_=x=!1},ce=()=>{const ge=s;Y(),ge?.unsubscribe()};return E((ge,Ee)=>{u++,!x&&!_&&V();const Se=l=l??e();Ee.add(()=>{u--,0===u&&!x&&!_&&(a=Vl(ce,r))}),Se.subscribe(Ee),!s&&u>0&&(s=new M({next:Le=>Se.next(Le),error:Le=>{x=!0,V(),a=Vl(Y,t,Le),Se.error(Le)},complete:()=>{_=!0,V(),a=Vl(Y,i),Se.complete()}}),dt(ge).subscribe(s))})(o)}}function Vl(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new M({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function It(n){for(let e in n)if(n[e]===It)return e;throw Error("Could not find renamed property on target object.")}function kt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(kt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ul(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const h0=It({__forward_ref__:It});function Wl(n){return n.__forward_ref__=Wl,n.toString=function(){return kt(this())},n}function at(n){return function $l(n){return"function"==typeof n&&n.hasOwnProperty(h0)&&n.__forward_ref__===Wl}(n)?n():n}function zl(n){return n&&!!n.\u0275providers}class Oe extends Error{constructor(e,t){super(function Vs(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():function ht(n){return"string"==typeof n?n:null==n?"":String(n)}(n)}function Hs(n,e){throw new Oe(-201,!1)}function Wn(n,e){null==n&&function Mt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function on(n){return{providers:n.providers||[],imports:n.imports||[]}}function Us(n){return Lh(n,Ws)||Lh(n,Bh)}function Lh(n,e){return n.hasOwnProperty(e)?n[e]:null}function Nh(n){return n&&(n.hasOwnProperty(Gl)||n.hasOwnProperty(v0))?n[Gl]:null}const Ws=It({\u0275prov:It}),Gl=It({\u0275inj:It}),Bh=It({ngInjectableDef:It}),v0=It({ngInjectorDef:It});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let ql;function $n(n){const e=ql;return ql=n,e}function jh(n,e,t){const i=Us(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ut.Optional?null:void 0!==e?e:void Hs(kt(n))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ao={},$s="ngTempTokenPath",C0=/\n/gm,Vh="__source";let Do;function kr(n){const e=Do;return Do=n,e}function D0(n,e=ut.Default){if(void 0===Do)throw new Oe(-203,!1);return null===Do?jh(n,void 0,e):Do.get(n,e&ut.Optional?null:void 0,e)}function nt(n,e=ut.Default){return(function w0(){return ql}()||D0)(at(n),e)}function So(n,e=ut.Default){return nt(n,zs(e))}function zs(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xl(n){const e=[];for(let t=0;t<n.length;t++){const i=at(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Oe(900,!1);let r,o=ut.Default;for(let s=0;s<i.length;s++){const a=i[s],l=S0(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(nt(r,o))}else e.push(nt(i))}return e}function S0(n){return n.__NG_DI_FLAG__}function qi(n){return{toString:n}.toString()}var ni=(()=>((ni=ni||{})[ni.OnPush=0]="OnPush",ni[ni.Default=1]="Default",ni))(),ii=(()=>{return(n=ii||(ii={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ii;var n})();const Si={},St=[],Gs=It({\u0275cmp:It}),Ql=It({\u0275dir:It}),Yl=It({\u0275pipe:It}),Uh=It({\u0275mod:It}),xi=It({\u0275fac:It}),To=It({__NG_ELEMENT_ID__:It});let M0=0;function qs(n){return qi(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ni.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||St,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ii.Emulated,id:"c"+M0++,styles:n.styles||St,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,s=n.features;return r.inputs=zh(n.inputs,i),r.outputs=zh(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(Wh).filter($h):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(yn).filter($h):null,r})}function Wh(n){return Pt(n)||dn(n)}function $h(n){return null!==n}function an(n){return qi(()=>({type:n.type,bootstrap:n.bootstrap||St,declarations:n.declarations||St,imports:n.imports||St,exports:n.exports||St,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zh(n,e){if(null==n)return Si;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Pt(n){return n[Gs]||null}function dn(n){return n[Ql]||null}function yn(n){return n[Yl]||null}function Rn(n){return Array.isArray(n)&&"object"==typeof n[1]}function oi(n){return Array.isArray(n)&&!0===n[1]}function ec(n){return 0!=(4&n.flags)}function Ro(n){return n.componentOffset>-1}function si(n){return null!==n.template}function k0(n){return 0!=(256&n[2])}function cr(n,e){return n.hasOwnProperty(xi)?n[xi]:null}class O0{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Fo(){return Yh}function Yh(n){return n.type.prototype.ngOnChanges&&(n.setInput=N0),L0}function L0(){const n=Jh(this),e=n?.current;if(e){const t=n.previous;if(t===Si)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function N0(n,e,t,i){const r=this.declaredInputs[t],o=Jh(n)||function B0(n,e){return n[Zh]=e}(n,{previous:Si,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new O0(l&&l.currentValue,e,a===Si),n[i]=e}Fo.ngInherit=!0;const Zh="__ngSimpleChanges__";function Jh(n){return n[Zh]||null}function ln(n){for(;Array.isArray(n);)n=n[0];return n}function Fn(n,e){return ln(e[n.index])}function nf(n,e){return n.data[e]}function On(n,e){const t=e[n];return Rn(t)?t:t[0]}function ea(n){return 64==(64&n[2])}function Ki(n,e){return null==e?null:n[e]}function rf(n){n[18]=0}function nc(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ft={lFrame:mf(null),bindingsEnabled:!0};function af(){return ft.bindingsEnabled}function Pe(){return ft.lFrame.lView}function Et(){return ft.lFrame.tView}function cn(){let n=lf();for(;null!==n&&64===n.type;)n=n.parent;return n}function lf(){return ft.lFrame.currentTNode}function pi(n,e){const t=ft.lFrame;t.currentTNode=n,t.isParent=e}function ic(){return ft.lFrame.isParent}function J0(n,e){const t=ft.lFrame;t.bindingIndex=t.bindingRootIndex=n,oc(e)}function oc(n){ft.lFrame.currentDirectiveIndex=n}function hf(){return ft.lFrame.currentQueryIndex}function ac(n){ft.lFrame.currentQueryIndex=n}function tw(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ff(n,e,t){if(t&ut.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ut.Host||(r=tw(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ft.lFrame=pf();return i.currentTNode=e,i.lView=n,!0}function lc(n){const e=pf(),t=n[1];ft.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pf(){const n=ft.lFrame,e=null===n?null:n.child;return null===e?mf(n):e}function mf(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function gf(){const n=ft.lFrame;return ft.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _f=gf;function cc(){const n=gf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function En(){return ft.lFrame.selectedIndex}function ur(n){ft.lFrame.selectedIndex=n}function ta(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:_}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=_&&(n.destroyHooks||(n.destroyHooks=[])).push(t,_)}}function na(n,e,t){bf(n,e,3,t)}function ia(n,e,t,i){(3&n[2])===t&&bf(n,e,t,i)}function uc(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function bf(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(uw(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function uw(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Lo{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function hc(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];vf(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function yf(n){return 3===n||4===n||6===n}function vf(n){return 64===n.charCodeAt(0)}function No(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||wf(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function wf(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Ef(n){return-1!==n}function ra(n){return 32767&n}function oa(n,e){let t=function pw(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let fc=!0;function sa(n){const e=fc;return fc=n,e}let mw=0;const mi={};function aa(n,e){const t=Df(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,pc(i.data,n),pc(e,null),pc(i.blueprint,null));const r=mc(n,e),o=n.injectorIndex;if(Ef(r)){const s=ra(r),a=oa(r,e),l=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function pc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Df(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function mc(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=kf(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function gc(n,e,t){!function gw(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(To)&&(i=t[To]),null==i&&(i=t[To]=mw++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function Sf(n,e,t){if(t&ut.Optional||void 0!==n)return n;Hs()}function xf(n,e,t,i){if(t&ut.Optional&&void 0===i&&(i=null),!(t&(ut.Self|ut.Host))){const r=n[9],o=$n(void 0);try{return r?r.get(e,i,t&ut.Optional):jh(e,i,t&ut.Optional)}finally{$n(o)}}return Sf(i,0,t)}function Tf(n,e,t,i=ut.Default,r){if(null!==n){if(1024&e[2]){const s=function Ew(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Mf(o,s,t,i|ut.Self,mi);if(a!==mi)return a;let l=o.parent;if(!l){const u=s[21];if(u){const _=u.get(t,mi,i);if(_!==mi)return _}l=kf(s),s=s[15]}o=l}return r}(n,e,t,i,mi);if(s!==mi)return s}const o=Mf(n,e,t,i,mi);if(o!==mi)return o}return xf(e,t,i,r)}function Mf(n,e,t,i,r){const o=function yw(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(To)?n[To]:void 0;return"number"==typeof e?e>=0?255&e:vw:e}(t);if("function"==typeof o){if(!ff(e,n,i))return i&ut.Host?Sf(r,0,i):xf(e,t,i,r);try{const s=o(i);if(null!=s||i&ut.Optional)return s;Hs()}finally{_f()}}else if("number"==typeof o){let s=null,a=Df(n,e),l=-1,u=i&ut.Host?e[16][6]:null;for((-1===a||i&ut.SkipSelf)&&(l=-1===a?mc(n,e):e[a+8],-1!==l&&If(i,!1)?(s=e[1],a=ra(l),e=oa(l,e)):a=-1);-1!==a;){const _=e[1];if(Pf(o,a,_.data)){const x=bw(a,e,t,s,i,u);if(x!==mi)return x}l=e[a+8],-1!==l&&If(i,e[1].data[a+8]===u)&&Pf(o,a,e)?(s=_,a=ra(l),e=oa(l,e)):a=-1}}return r}function bw(n,e,t,i,r,o){const s=e[1],a=s.data[n+8],_=la(a,s,t,null==i?Ro(a)&&fc:i!=s&&0!=(3&a.type),r&ut.Host&&o===a);return null!==_?dr(e,s,_,a):mi}function la(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,_=o>>20,V=r?a+_:n.directiveEnd;for(let Y=i?a:a+_;Y<V;Y++){const ce=s[Y];if(Y<l&&t===ce||Y>=l&&ce.type===t)return Y}if(r){const Y=s[l];if(Y&&si(Y)&&Y.type===t)return l}return null}function dr(n,e,t,i){let r=n[t];const o=e.data;if(function dw(n){return n instanceof Lo}(r)){const s=r;s.resolving&&function f0(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${n}${t}`)}(Tt(o[t]));const a=sa(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?$n(s.injectImpl):null;ff(n,i,ut.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function cw(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Yh(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&$n(l),sa(a),s.resolving=!1,_f()}}return r}function Pf(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function If(n,e){return!(n&ut.Self||n&ut.Host&&e)}class Vr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Tf(this._tNode,this._lView,e,zs(i),t)}}function vw(){return new Vr(cn(),Pe())}function kf(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}class Ye{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=vt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hr(n,e){n.forEach(t=>Array.isArray(t)?hr(t,e):e(t))}function Ff(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ca(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();const xc=new Map;let Kw=0;const Mc="__ngContext__";function pn(n,e){Rn(e)?(n[Mc]=e[20],function Qw(n){xc.set(n[20],n)}(e)):n[Mc]=e}function Ic(n,e){return undefined(n,e)}function zo(n){const e=n[3];return oi(e)?e[3]:e}function kc(n){return tp(n[13])}function Rc(n){return tp(n[4])}function tp(n){for(;null!==n&&!oi(n);)n=n[4];return n}function qr(n,e,t,i,r){if(null!=i){let o,s=!1;oi(i)?o=i:Rn(i)&&(s=!0,i=i[0]);const a=ln(i);0===n&&null!==t?null==r?ap(e,t,a):pr(e,t,a,r||null,!0):1===n&&null!==t?pr(e,t,a,r||null,!0):2===n?function Vc(n,e,t){const i=fa(n,e);i&&function gE(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function yE(n,e,t,i,r){const o=t[7];o!==ln(t)&&qr(e,n,i,o,r);for(let a=10;a<t.length;a++){const l=t[a];Go(l[1],l,n,e,i,o)}}(e,n,o,t,r)}}function Oc(n,e,t){return n.createElement(e,t)}function ip(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,nc(r,-1)),t.splice(i,1)}function Lc(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&ip(r,i),e>0&&(n[t-1][4]=i[4]);const o=ca(n,10+e);!function lE(n,e){Go(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function rp(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Go(n,e,t,3,null,null),function dE(n){let e=n[13];if(!e)return Nc(n[1],n);for(;e;){let t=null;if(Rn(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Rn(e)&&Nc(e[1],e),e=e[3];null===e&&(e=n),Rn(e)&&Nc(e[1],e),t=e&&e[4]}e=t}}(e)}}function Nc(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function mE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Lo)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,e),function pE(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[r=s]():i[r=-s].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&oi(e[3])){t!==e[3]&&ip(t,e);const i=e[19];null!==i&&i.detachView(n)}!function Yw(n){xc.delete(n[20])}(e)}}function op(n,e,t){return function sp(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===ii.None||o===ii.Emulated)return null}return Fn(i,t)}}(n,e.parent,t)}function pr(n,e,t,i,r){n.insertBefore(e,t,i,r)}function ap(n,e,t){n.appendChild(e,t)}function lp(n,e,t,i,r){null!==i?pr(n,e,t,i,r):ap(n,e,t)}function fa(n,e){return n.parentNode(e)}let Wc,dp=function up(n,e,t){return 40&n.type?Fn(n,t):null};function pa(n,e,t,i){const r=op(n,i,e),o=e[11],a=function cp(n,e,t){return dp(n,e,t)}(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)lp(o,r,t[l],a,!1);else lp(o,r,t,a,!1)}function ma(n,e){if(null!==e){const t=e.type;if(3&t)return Fn(e,n);if(4&t)return jc(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return ma(n,i);{const r=n[e.index];return oi(r)?jc(-1,r):ln(r)}}if(32&t)return Ic(e,n)()||ln(n[e.index]);{const i=fp(n,e);return null!==i?Array.isArray(i)?i[0]:ma(zo(n[16]),i):ma(n,e.next)}}return null}function fp(n,e){return null!==e?n[16][6].projection[e.projection]:null}function jc(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return ma(i,r)}return e[7]}function Hc(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&pn(ln(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)Hc(n,e,t.child,i,r,o,!1),qr(e,n,r,a,o);else if(32&l){const u=Ic(t,i);let _;for(;_=u();)qr(e,n,r,_,o);qr(e,n,r,a,o)}else 16&l?pp(n,e,i,t,r,o):qr(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Go(n,e,t,i,r,o){Hc(t,i,n.firstChild,e,r,o,!1)}function pp(n,e,t,i,r,o){const s=t[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)qr(e,n,r,l[u],o);else Hc(n,e,l,s[3],r,o,!0)}function mp(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gp(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&hc(n,e,i),null!==r&&mp(n,e,r),null!==o&&function wE(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Pp=new Ye("ENVIRONMENT_INITIALIZER"),Ip=new Ye("INJECTOR",-1),kp=new Ye("INJECTOR_DEF_TYPES");class Rp{get(e,t=Ao){if(t===Ao){const i=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw i.name="NullInjectorError",i}return t}}function JE(...n){return{\u0275providers:Fp(0,n),\u0275fromNgModule:!0}}function Fp(n,...e){const t=[],i=new Set;let r;return hr(e,o=>{const s=o;Kc(s,t,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&Op(r,t),t}function Op(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Xc(r,o=>{e.push(o)})}}function Kc(n,e,t,i){if(!(n=at(n)))return!1;let r=null,o=Nh(n);const s=!o&&Pt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Nh(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Kc(u,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{hr(o.imports,_=>{Kc(_,e,t,i)&&(u||(u=[]),u.push(_))})}finally{}void 0!==u&&Op(u,e)}if(!a){const u=cr(r)||(()=>new r);e.push({provide:r,useFactory:u,deps:St},{provide:kp,useValue:r,multi:!0},{provide:Pp,useValue:()=>nt(r),multi:!0})}const l=o.providers;null==l||a||Xc(l,_=>{e.push(_)})}}return r!==n&&void 0!==n.providers}function Xc(n,e){for(let t of n)zl(t)&&(t=t.\u0275providers),Array.isArray(t)?Xc(t,e):e(t)}const eC=It({provide:String,useValue:It});function Qc(n){return null!==n&&"object"==typeof n&&eC in n}function _r(n){return"function"==typeof n}const Yc=new Ye("Set Injector scope."),va={},nC={};let Zc;function wa(){return void 0===Zc&&(Zc=new Rp),Zc}class Kr{}class Bp extends Kr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eu(e,s=>this.processProvider(s)),this.records.set(Ip,Xr(void 0,this)),r.has("environment")&&this.records.set(Kr,Xr(void 0,this));const o=this.records.get(Yc);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kp.multi,St,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=kr(this),i=$n(void 0);try{return e()}finally{kr(t),$n(i)}}get(e,t=Ao,i=ut.Default){this.assertNotDestroyed(),i=zs(i);const r=kr(this),o=$n(void 0);try{if(!(i&ut.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function aC(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ye}(e)&&Us(e);a=l&&this.injectableDefInScope(l)?Xr(Jc(e),va):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ut.Self?wa():this.parent).get(e,t=i&ut.Optional&&t===Ao?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[$s]=s[$s]||[]).unshift(kt(e)),r)throw s;return function x0(n,e,t,i){const r=n[$s];throw e[Vh]&&r.unshift(e[Vh]),n.message=function T0(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=kt(e);if(Array.isArray(e))r=e.map(kt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):kt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(C0,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[$s]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{$n(o),kr(r)}}resolveInjectorInitializers(){const e=kr(this),t=$n(void 0);try{const i=this.get(Pp.multi,St,ut.Self);for(const r of i)r()}finally{kr(e),$n(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(kt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(e){let t=_r(e=at(e))?e:at(e&&e.provide);const i=function rC(n){return Qc(n)?Xr(void 0,n.useValue):Xr(function jp(n,e,t){let i;if(_r(n)){const r=at(n);return cr(r)||Jc(r)}if(Qc(n))i=()=>at(n.useValue);else if(function Np(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Xl(n.deps||[]));else if(function Lp(n){return!(!n||!n.useExisting)}(n))i=()=>nt(at(n.useExisting));else{const r=at(n&&(n.useClass||n.provide));if(!function oC(n){return!!n.deps}(n))return cr(r)||Jc(r);i=()=>new r(...Xl(n.deps))}return i}(n),va)}(e);if(_r(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Xr(void 0,va,!0),r.factory=()=>Xl(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===va&&(t.value=nC,t.value=t.factory()),"object"==typeof t.value&&t.value&&function sC(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=at(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Jc(n){const e=Us(n),t=null!==e?e.factory:cr(n);if(null!==t)return t;if(n instanceof Ye)throw new Oe(204,!1);if(n instanceof Function)return function iC(n){const e=n.length;if(e>0)throw function Vo(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new Oe(204,!1);const t=function b0(n){const e=n&&(n[Ws]||n[Bh]);if(e){const t=function y0(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Oe(204,!1)}function Xr(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eu(n,e){for(const t of n)Array.isArray(t)?eu(t,e):t&&zl(t)?eu(t.\u0275providers,e):e(t)}class lC{}class Vp{}class uC{resolveComponentFactory(e){throw function cC(n){const e=Error(`No component factory found for ${kt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ea=(()=>{class n{}return n.NULL=new uC,n})();function dC(){return Qr(cn(),Pe())}function Qr(n,e){return new Xi(Fn(n,e))}let Xi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=dC,n})();function hC(n){return n instanceof Xi?n.nativeElement:n}class Xo{}let pC=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>null}),n})();class Qo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mC=new Qo("15.1.0"),tu={};function iu(n){return n.ngOriginalError}class Qi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&iu(e);for(;t&&iu(t);)t=iu(t);return t||null}}function $p(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const zp="ng-template";function SC(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==$p(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Gp(n){return 4===n.type&&n.value!==zp}function xC(n,e,t){return e===(4!==n.type||t?n.value:zp)}function TC(n,e,t){let i=4;const r=n.attrs||[],o=function IC(n){for(let e=0;e<n.length;e++)if(yf(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!xC(n,l,t)||""===l&&1===e.length){if(ai(i))return!1;s=!0}}else{const u=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!SC(n.attrs,u,t)){if(ai(i))return!1;s=!0}continue}const x=MC(8&i?"class":l,r,Gp(n),t);if(-1===x){if(ai(i))return!1;s=!0;continue}if(""!==u){let V;V=x>o?"":r[x+1].toLowerCase();const Y=8&i?V:null;if(Y&&-1!==$p(Y,u,0)||2&i&&u!==V){if(ai(i))return!1;s=!0}}}}else{if(!s&&!ai(i)&&!ai(l))return!1;if(s&&ai(l))continue;s=!1,i=l|1&i}}return ai(i)||s}function ai(n){return 0==(1&n)}function MC(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function kC(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function qp(n,e,t=!1){for(let i=0;i<e.length;i++)if(TC(n,e[i],t))return!0;return!1}function Kp(n,e){return n?":not("+e.trim()+")":e}function FC(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ai(s)&&(e+=Kp(o,r),r=""),i=s,o=o||!ai(i);t++}return""!==r&&(e+=Kp(o,r)),e}const pt={};function Qp(n,e,t,i){if(!i)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&na(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ia(e,o,0,t)}ur(t)}function em(n,e=null,t=null,i){const r=tm(n,e,t,i);return r.resolveInjectorInitializers(),r}function tm(n,e=null,t=null,i,r=new Set){const o=[t||St,JE(n)];return i=i||("object"==typeof n?void 0:kt(n)),new Bp(o,e||wa(),i||null,r)}let Ri=(()=>{class n{static create(t,i){if(Array.isArray(t))return em({name:""},i,t,"");{const r=t.name??"";return em({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Ao,n.NULL=new Rp,n.\u0275prov=vt({token:n,providedIn:"any",factory:()=>nt(Ip)}),n.__NG_ELEMENT_ID__=-1,n})();function gt(n,e=ut.Default){const t=Pe();return null===t?nt(n,e):Tf(cn(),t,at(n),e)}function lm(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];ac(t[i]),s.contentQueries(2,e[o],o)}}}function Aa(n,e,t,i,r,o,s,a,l,u,_){const x=e.blueprint.slice();return x[0]=r,x[2]=76|i,(null!==_||n&&1024&n[2])&&(x[2]|=1024),rf(x),x[3]=x[15]=n,x[8]=t,x[10]=s||n&&n[10],x[11]=a||n&&n[11],x[12]=l||n&&n[12]||null,x[9]=u||n&&n[9]||null,x[6]=o,x[20]=function Xw(){return Kw++}(),x[21]=_,x[16]=2==e.type?n[16]:x,x}function Jr(n,e,t,i,r){let o=n.data[e];if(null===o)o=function lu(n,e,t,i,r){const o=lf(),s=ic(),l=n.data[e]=function aA(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,i,r),function Z0(){return ft.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Oo(){const n=ft.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return pi(o,!0),o}function Yo(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function cu(n,e,t){lc(e);try{const i=n.viewQuery;null!==i&&yu(1,i,t);const r=n.template;null!==r&&cm(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lm(n,e),n.staticViewQueries&&yu(2,n.viewQuery,t);const o=n.components;null!==o&&function rA(n,e){for(let t=0;t<e.length;t++)SA(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,cc()}}function Da(n,e,t,i){const r=e[2];if(128!=(128&r)){lc(e);try{rf(e),function uf(n){return ft.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&cm(n,e,t,2,i);const s=3==(3&r);if(s){const u=n.preOrderCheckHooks;null!==u&&na(e,u,null)}else{const u=n.preOrderHooks;null!==u&&ia(e,u,0,null),uc(e,0)}if(function AA(n){for(let e=kc(n);null!==e;e=Rc(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i];512&r[2]||nc(r[3],1),r[2]|=512}}}(e),function CA(n){for(let e=kc(n);null!==e;e=Rc(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];ea(i)&&Da(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&lm(n,e),s){const u=n.contentCheckHooks;null!==u&&na(e,u)}else{const u=n.contentHooks;null!==u&&ia(e,u,1),uc(e,1)}!function nA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ur(~r);else{const o=r,s=t[++i],a=t[++i];J0(s,o),a(2,e[o])}}}finally{ur(-1)}}(n,e);const a=n.components;null!==a&&function iA(n,e){for(let t=0;t<e.length;t++)DA(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&yu(2,l,i),s){const u=n.viewCheckHooks;null!==u&&na(e,u)}else{const u=n.viewHooks;null!==u&&ia(e,u,2),uc(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,nc(e[3],-1))}finally{cc()}}}function cm(n,e,t,i,r){const o=En(),s=2&i;try{ur(-1),s&&e.length>22&&Qp(n,e,22,!1),t(i,r)}finally{ur(o)}}function uu(n,e,t){if(ec(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function um(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=fu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function fu(n,e,t,i,r,o,s,a,l,u){const _=22+i,x=_+r,V=function oA(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:pt);return t}(_,x),Y="function"==typeof u?u():u;return V[1]={type:n,blueprint:V,template:t,queries:null,viewQuery:a,declTNode:e,data:V.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:Y,incompleteFirstPass:!1}}function dm(n,e,t,i){const r=function bm(n){return n[7]||(n[7]=[])}(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&function ym(n){return n.cleanup||(n.cleanup=[])}(n).push(i,r.length-1))}function hm(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?fm(t,e,r,o):i.hasOwnProperty(r)&&fm(t,e,i[r],o)}return t}function fm(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function pm(n,e){const t=On(e,n);16&t[2]||(t[2]|=32)}function mm(n,e,t,i,r,o){for(let u=0;u<i.length;u++)gc(aa(t,e),n,i[u].type);!function bA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let u=0;u<i.length;u++){const _=i[u];_.providersResolver&&_.providersResolver(_)}let s=!1,a=!1,l=Yo(n,e,i.length,null);for(let u=0;u<i.length;u++){const _=i[u];t.mergedAttrs=No(t.mergedAttrs,_.hostAttrs),yA(n,t,e,l,_),_A(l,_,r),null!==_.contentQueries&&(t.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(t.flags|=64);const x=_.type.prototype;!s&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function lA(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,u=null;for(let _=e.directiveStart;_<r;_++){const x=o[_],V=t?t.get(x):null,ce=V?V.outputs:null;l=hm(x.inputs,_,l,V?V.inputs:null),u=hm(x.outputs,_,u,ce);const ge=null===l||null===s||Gp(e)?null:EA(l,_,s);a.push(ge)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(n,t,o)}function gm(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function ew(){return ft.lFrame.currentDirectiveIndex}();try{ur(o);for(let a=i;a<r;a++){const l=n.data[a],u=e[a];oc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&pA(l,u)}}finally{ur(-1),oc(s)}}function pA(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function mu(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function _A(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;si(e)&&(t[""]=n)}}function yA(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=cr(r.type)),s=new Lo(o,si(r),gt);n.blueprint[i]=s,t[i]=s,function dA(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function hA(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Yo(n,t,r.hostVars,pt),r)}function wA(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const u=s[l++],_=s[l++],x=s[l++];null!==a?i.setInput(t,x,u,_):t[_]=x}}}function EA(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function DA(n,e){const t=On(e,n);if(ea(t)){const i=t[1];48&t[2]?Da(i,t,i.template,t[8]):t[5]>0&&_u(t)}}function _u(n){for(let i=kc(n);null!==i;i=Rc(i))for(let r=10;r<i.length;r++){const o=i[r];if(ea(o))if(512&o[2]){const s=o[1];Da(s,o,s.template,o[8])}else o[5]>0&&_u(o)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=On(t[i],n);ea(r)&&r[5]>0&&_u(r)}}function SA(n,e){const t=On(e,n),i=t[1];(function xA(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),cu(i,t,t[8])}function Sa(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function xa(n,e,t,i=!0){const r=e[10];r.begin&&r.begin();try{Da(n,e,n.template,t)}catch(s){throw i&&function wm(n,e){const t=n[9],i=t?t.get(Qi,null):null;i&&i.handleError(e)}(e,s),s}finally{r.end&&r.end()}}function yu(n,e,t){ac(0),e(n,t)}function vu(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],u=n.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Ta(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Ul(r,a):2==o&&(i=Ul(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Ma(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(ln(o)),oi(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&Ma(l[1],l,u,i)}const s=t.type;if(8&s)Ma(n,e,t.child,i);else if(32&s){const a=Ic(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=fp(e,t);if(Array.isArray(a))i.push(...a);else{const l=zo(e[16]);Ma(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Zo{get rootNodes(){const e=this._lView,t=e[1];return Ma(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(oi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Lc(e,i),ca(t,i))}this._attachedToViewContainer=!1}rp(this._lView[1],this._lView)}onDestroy(e){dm(this._lView[1],this._lView,null,e)}markForCheck(){!function bu(n){for(;n;){n[2]|=32;const e=zo(n);if(k0(n)&&!e)return n;n=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){xa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uE(n,e){Go(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=e}}class TA extends Zo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;xa(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Em extends Ea{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Pt(e);return new Jo(t,this.ngModule)}}function Cm(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class PA{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=zs(i);const r=this.injector.get(e,tu,i);return r!==tu||t===tu?r:this.parentInjector.get(e,t,i)}}class Jo extends Vp{get inputs(){return Cm(this.componentDef.inputs)}get outputs(){return Cm(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function OC(n){return n.map(FC).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Kr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new PA(e,o):e,a=s.get(Xo,null);if(null===a)throw new Oe(407,!1);const l=s.get(pC,null),u=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",x=i?function sA(n,e,t){return n.selectRootElement(e,t===ii.ShadowDom)}(u,i,this.componentDef.encapsulation):Oc(u,_,function MA(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(_)),V=this.componentDef.onPush?288:272,Y=fu(0,null,null,1,0,null,null,null,null,null),ce=Aa(null,Y,null,V,null,null,a,u,l,s,null);let ge,Ee;lc(ce);try{const Se=this.componentDef;let Le,Ae=null;Se.findHostDirectiveDefs?(Le=[],Ae=new Map,Se.findHostDirectiveDefs(Se,Le,Ae),Le.push(Se)):Le=[Se];const Qe=function kA(n,e){const t=n[1];return n[22]=e,Jr(t,22,2,"#host",null)}(ce,x),Ct=function RA(n,e,t,i,r,o,s,a){const l=r[1];!function FA(n,e,t,i){for(const r of n)e.mergedAttrs=No(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ta(e,e.mergedAttrs,!0),null!==t&&gp(i,t,e))}(i,n,e,s);const u=o.createRenderer(e,t),_=Aa(r,um(t),null,t.onPush?32:16,r[n.index],n,o,u,a||null,null,null);return l.firstCreatePass&&mu(l,n,i.length-1),Sa(r,_),r[n.index]=_}(Qe,x,Se,Le,ce,a,u);Ee=nf(Y,22),x&&function LA(n,e,t,i){if(i)hc(n,t,["ng-version",mC.full]);else{const{attrs:r,classes:o}=function LC(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!ai(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&hc(n,t,r),o&&o.length>0&&mp(n,t,o.join(" "))}}(u,Se,x,i),void 0!==t&&function NA(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Ee,this.ngContentSelectors,t),ge=function OA(n,e,t,i,r,o){const s=cn(),a=r[1],l=Fn(s,r);mm(a,r,s,t,null,i);for(let _=0;_<t.length;_++)pn(dr(r,a,s.directiveStart+_,s),r);gm(a,r,s),l&&pn(l,r);const u=dr(r,a,s.directiveStart+s.componentOffset,s);if(n[8]=r[8]=u,null!==o)for(const _ of o)_(u,e);return uu(a,s,n),u}(Ct,Se,Le,Ae,ce,[BA]),cu(Y,ce,null)}finally{cc()}return new IA(this.componentType,ge,Qr(Ee,ce),ce,Ee)}}class IA extends lC{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new TA(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;vu(o[1],o,r,e,t),pm(o,this._tNode.index)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function BA(){const n=cn();ta(Pe()[1],n)}let Pa=null;function br(){if(!Pa){const n=Rt.Symbol;if(n&&n.iterator)Pa=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Pa=i)}}}return Pa}function Cu(n,e,t){const i=Pe();return function mn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}(i,function Br(){return ft.lFrame.bindingIndex++}(),e)&&function Bn(n,e,t,i,r,o,s,a){const l=Fn(e,t);let _,u=e.inputs;!a&&null!=u&&(_=u[i])?(vu(n,t,_,i,r),Ro(e)&&pm(t,e.index)):3&e.type&&(i=function cA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}(Et(),function Bt(){const n=ft.lFrame;return nf(n.tView,n.selectedIndex)}(),i,n,e,i[11],t,!1),Cu}function Au(n,e,t,i,r){const s=r?"class":"style";vu(n,t,e.inputs[s],s,i)}function ns(n,e,t,i){const r=Pe(),o=Et(),s=22+n,a=r[11],l=r[s]=Oc(a,e,function lw(){return ft.lFrame.currentNamespace}()),u=o.firstCreatePass?function nD(n,e,t,i,r,o,s){const a=e.consts,u=Jr(e,n,2,r,Ki(a,o));return function pu(n,e,t,i){let r=!1;if(af()){const o=null===i?null:{"":-1},s=function mA(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(qp(e,s.selectors,!1))if(i||(i=[]),si(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),mu(n,e,a.length)}else i.unshift(s),mu(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&(r=!0,mm(n,e,t,a,o,l)),o&&function gA(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Oe(-301,!1);i.push(e[r],o)}}}(t,i,o)}return t.mergedAttrs=No(t.mergedAttrs,t.attrs),r}(e,t,u,Ki(a,s)),null!==u.attrs&&Ta(u,u.attrs,!1),null!==u.mergedAttrs&&Ta(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,r,0,e,t,i):o.data[s];return pi(u,!0),gp(a,l,u),32!=(32&u.flags)&&pa(o,r,l,u),0===function $0(){return ft.lFrame.elementDepthCount}()&&pn(l,r),function z0(){ft.lFrame.elementDepthCount++}(),function Zs(n){return 1==(1&n.flags)}(u)&&(function du(n,e,t){af()&&(function fA(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ro(t)&&function vA(n,e,t){const i=Fn(e,n),r=um(t),o=n[10],s=Sa(n,Aa(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=s}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||aa(t,e),pn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],u=dr(e,n,a,t);pn(u,e),null!==s&&wA(0,a-r,u,l,0,s),si(l)&&(On(t.index,e)[8]=dr(e,n,a,t))}}(n,e,t,Fn(t,e)),64==(64&t.flags)&&gm(n,e,t))}(o,r,u),uu(o,u,r)),null!==i&&function hu(n,e,t=Fn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}(r,u),ns}function is(){let n=cn();ic()?function rc(){ft.lFrame.isParent=!1}():(n=n.parent,pi(n,!1));const e=n;!function G0(){ft.lFrame.elementDepthCount--}();const t=Et();return t.firstCreatePass&&(ta(t,n),ec(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function hw(n){return 0!=(8&n.flags)}(e)&&Au(t,e,Pe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function fw(n){return 0!=(16&n.flags)}(e)&&Au(t,e,Pe(),e.stylesWithoutHost,!1),is}function ka(n,e,t,i){return ns(n,e,t,i),is(),ka}function xu(n){return!!n&&"function"==typeof n.then}const oD=function Vm(n){return!!n&&"function"==typeof n.subscribe},ho="en-US";let Bg=ho;class fo{}class ZS{}class u_ extends fo{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Em(this);const i=function kn(n,e){const t=n[Uh]||null;if(!t&&!0===e)throw new Error(`Type ${kt(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function ki(n){return n instanceof Function?n():n}(i.bootstrap),this._r3Injector=tm(e,t,[{provide:fo,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],kt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vu extends ZS{constructor(e){super(),this.moduleType=e}create(e){return new u_(this.moduleType,e)}}function Uu(n){return e=>{setTimeout(n,void 0,e)}}const gn=class Tx extends c{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Uu(o),r&&(r=Uu(r)),s&&(s=Uu(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof j&&e.add(a),a}};function Mx(){return this._results[br()]()}class Wu{get changes(){return this._changes||(this._changes=new gn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=br(),i=Wu.prototype;i[t]||(i[t]=Mx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function qn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Aw(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=kx,n})();const Px=Oi,Ix=class extends Px{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=Aa(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),cu(i,r,e),new Zo(r)}};function kx(){return ja(cn(),Pe())}function ja(n,e){return 4&n.type?new Ix(e,n,Qr(n,e)):null}let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rx,n})();function Rx(){return D_(cn(),Pe())}const Fx=wi,C_=class extends Fx{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Qr(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){const e=mc(this._hostTNode,this._hostLView);if(Ef(e)){const t=oa(e,this._hostLView),i=ra(e);return new Vr(t[1].data[i+8],t)}return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=A_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,r),s}createComponent(e,t,i,r,o){const s=e&&!function jo(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const x=t||{};a=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}const l=s?e:new Jo(Pt(e)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const V=(s?u:this.parentInjector).get(Kr,null);V&&(o=V)}const _=l.create(u,r,void 0,o);return this.insert(_.hostView,a),_}insert(e,t){const i=e._lView,r=i[1];if(function W0(n){return oi(n[3])}(i)){const _=this.indexOf(e);if(-1!==_)this.detach(_);else{const x=i[3],V=new C_(x,x[6],x[3]);V.detach(V.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function hE(n,e,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=e),i<o-10?(e[4]=t[r],Ff(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function fE(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(r,i,s,o);const a=jc(o,s),l=i[11],u=fa(l,s[7]);return null!==u&&function cE(n,e,t,i,r,o){i[0]=r,i[6]=e,Go(n,i,t,1,r,o)}(r,s[6],l,i,u,a),e.attachToViewContainerRef(),Ff($u(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=A_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Lc(this._lContainer,t);i&&(ca($u(this._lContainer),t),rp(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Lc(this._lContainer,t);return i&&null!=ca($u(this._lContainer),t)?new Zo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function A_(n){return n[8]}function $u(n){return n[8]||(n[8]=[])}function D_(n,e){let t;const i=e[n.index];if(oi(i))t=i;else{let r;if(8&n.type)r=ln(i);else{const o=e[11];r=o.createComment("");const s=Fn(n,e);pr(o,fa(o,s),r,function _E(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=function _m(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}(i,e,r,n),Sa(e,t)}return new C_(t,n,e)}class zu{constructor(e){this.queryList=e,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gu{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Gu(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==R_(e,t).matches&&this.queries[t].setDirty()}}class S_{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class qu{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new qu(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ku{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ku(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Ox(t,o)),this.matchTNodeWithReadOption(e,t,la(t,e,o,!1,!1))}else i===Oi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,la(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xi||r===wi||r===Oi&&4&t.type)this.addMatch(t.index,-2);else{const o=la(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ox(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Nx(n,e,t,i){return-1===t?function Lx(n,e){return 11&n.type?Qr(n,e):4&n.type?ja(n,e):null}(e,n):-2===t?function Bx(n,e,t){return t===Xi?Qr(e,n):t===Oi?ja(e,n):t===wi?D_(e,n):void 0}(n,e,i):dr(n,n[1],t,e)}function x_(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:Nx(e,o[u],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function Xu(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=x_(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],_=e[-l];for(let x=10;x<_.length;x++){const V=_[x];V[17]===V[3]&&Xu(V[1],V,u,i)}if(null!==_[9]){const x=_[9];for(let V=0;V<x.length;V++){const Y=x[V];Xu(Y[1],Y,u,i)}}}}}return i}function T_(n){const e=Pe(),t=Et(),i=hf();ac(i+1);const r=R_(t,i);if(n.dirty&&function U0(n){return 4==(4&n[2])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Xu(t,e,i,[]):x_(t,e,r,i);n.reset(o,hC),n.notifyOnChanges()}return!0}return!1}function M_(n,e,t){const i=Et();i.firstCreatePass&&(function k_(n,e,t){null===n.queries&&(n.queries=new qu),n.queries.track(new Ku(e,t))}(i,new S_(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function I_(n,e,t){const i=new Wu(4==(4&t));dm(n,e,i,i.destroy),null===e[19]&&(e[19]=new Gu),e[19].queries.push(new zu(i))}(i,Pe(),e)}function R_(n,e){return n.queries.getByIndex(e)}function Ha(...n){}const ed=new Ye("Application Initializer");let Ua=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ha,this.reject=Ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(xu(o))t.push(o);else if(oD(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(nt(ed,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fs=new Ye("AppId",{providedIn:"root",factory:function Z_(){return`${td()}${td()}${td()}`}});function td(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const J_=new Ye("Platform Initializer"),ps=new Ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lT=new Ye("appBootstrapListener"),eb=new Ye("AnimationModuleType"),Ei=new Ye("LocaleId",{providedIn:"root",factory:()=>So(Ei,ut.Optional|ut.SkipSelf)||function cT(){return typeof $localize<"u"&&$localize.locale||ho}()}),pT=(()=>Promise.resolve(0))();function nd(n){typeof Zone>"u"?pT.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class zt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function mT(){let n=Rt.requestAnimationFrame,e=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bT(n){const e=()=>{!function _T(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,rd(n),n.isCheckStableRunning=!0,id(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),rd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return ib(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),rb(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return ib(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),rb(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,rd(n),id(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zt.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(zt.isInAngularZone())throw new Oe(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,gT,Ha,Ha);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const gT={};function id(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ib(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rb(n){n._nesting--,id(n)}class yT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const ob=new Ye(""),Wa=new Ye("");let ad,od=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ad||(function vT(n){ad=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zt.assertNotInAngularZone(),nd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nd(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(nt(zt),nt(sd),nt(Wa))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),sd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return ad?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Zi=null;const sb=new Ye("AllowMultipleToken"),ld=new Ye("PlatformDestroyListeners");function lb(n,e,t=[]){const i=`Platform: ${e}`,r=new Ye(i);return(o=[])=>{let s=cd();if(!s||s.injector.get(sb,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function CT(n){if(Zi&&!Zi.get(sb,!1))throw new Oe(400,!1);Zi=n;const e=n.get(ub);(function ab(n){const e=n.get(J_,null);e&&e.forEach(t=>t())})(n)}(function cb(n=[],e){return Ri.create({name:e,providers:[{provide:Yc,useValue:"platform"},{provide:ld,useValue:new Set([()=>Zi=null])},...n]})}(a,i))}return function DT(n){const e=cd();if(!e)throw new Oe(401,!1);return e}()}}function cd(){return Zi?.get(ub)??null}let ub=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function hb(n,e){let t;return t="noop"===n?new yT:("zone.js"===n?void 0:n)||new zt(e),t}(i?.ngZone,function db(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:zt,useValue:r}];return r.run(()=>{const s=Ri.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(Qi,null);if(!l)throw new Oe(402,!1);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:_=>{l.handleError(_)}});a.onDestroy(()=>{$a(this._modules,a),u.unsubscribe()})}),function fb(n,e,t){try{const i=t();return xu(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const u=a.injector.get(Ua);return u.runInitializers(),u.donePromise.then(()=>(function jg(n){Wn(n,"Expected localeId to be defined"),"string"==typeof n&&(Bg=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ei,ho)||ho),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=pb({},i);return function wT(n,e,t){const i=new Vu(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ms);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Oe(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(ld,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(nt(Ri))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function pb(n,e){return Array.isArray(e)?e.reduce(pb,n):{...n,...e}}let ms=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _e(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new _e(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{zt.assertNotInAngularZone(),nd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{zt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=Bl(o,s.pipe(jl()))}bootstrap(t,i){const r=t instanceof Vp;if(!this._injector.get(Ua).done)throw!r&&function Mo(n){const e=Pt(n)||dn(n)||yn(n);return null!==e&&e.standalone}(t),new Oe(405,false);let s;s=r?t:this._injector.get(Ea).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function ET(n){return n.isBoundToModule}(s)?void 0:this._injector.get(fo),u=s.create(Ri.NULL,[],i||s.selector,a),_=u.location.nativeElement,x=u.injector.get(ob,null);return x?.registerApplication(_),u.onDestroy(()=>{this.detachView(u.hostView),$a(this.components,u),x?.unregisterApplication(_)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;$a(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(lT,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$a(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Oe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(nt(zt),nt(Kr),nt(Qi))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $a(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const WT=lb(null,"core",[]);let $T=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(nt(ms))},n.\u0275mod=an({type:n}),n.\u0275inj=on({}),n})(),pd=null;function _s(){return pd}class qT{}const Jt=new Ye("DocumentToken");let Vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({}),n})();const Hb="browser";function Td(n){return n===Hb}class HP extends qT{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Id extends HP{static makeCurrent(){!function GT(n){pd||(pd=n)}(new Id)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function UP(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}();return null==t?null:function WP(n){rl=rl||document.createElement("a"),rl.setAttribute("href",n);const e=rl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function kM(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let rl,ws=null;const Kb=new Ye("TRANSITION_ID"),zP=[{provide:ed,useFactory:function $P(n,e,t){return()=>{t.get(Ua).donePromise.then(()=>{const i=_s(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Kb,Jt,Ri],multi:!0}];let qP=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const ol=new Ye("EventManagerPlugins");let sl=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(nt(ol),nt(zt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class Xb{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=_s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Qb=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Es=(()=>{class n extends Qb{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Yb),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yb))}}return n.\u0275fac=function(t){return new(t||n)(nt(Jt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function Yb(n){_s().remove(n)}const kd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rd=/%COMP%/g;function Fd(n,e){return e.flat(100).map(t=>t.replace(Rd,n))}function ey(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let al=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Od(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case ii.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new JP(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case ii.ShadowDom:return new eI(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fd(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(nt(sl),nt(Es),nt(fs))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class Od{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(kd[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ny(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ny(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=kd[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=kd[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Tn.DashCase|Tn.Important)?e.style.setProperty(t,i,r&Tn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Tn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ey(i)):this.eventManager.addEventListener(e,t,ey(i))}}function ny(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class JP extends Od{constructor(e,t,i,r){super(e),this.component=i;const o=Fd(r+"-"+i.id,i.styles);t.addStyles(o),this.contentAttr=function QP(n){return"_ngcontent-%COMP%".replace(Rd,n)}(r+"-"+i.id),this.hostAttr=function YP(n){return"_nghost-%COMP%".replace(Rd,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class eI extends Od{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Fd(r.id,r.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tI=(()=>{class n extends Xb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(nt(Jt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const iy=["alt","control","meta","shift"],nI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iI={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rI=(()=>{class n extends Xb{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_s().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),iy.forEach(u=>{const _=i.indexOf(u);_>-1&&(i.splice(_,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=nI[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),iy.forEach(s=>{s!==r&&(0,iI[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(nt(Jt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const lI=lb(WT,"browser",[{provide:ps,useValue:Hb},{provide:J_,useValue:function oI(){Id.makeCurrent()},multi:!0},{provide:Jt,useFactory:function aI(){return function DE(n){Wc=n}(document),document},deps:[]}]),sy=new Ye(""),ay=[{provide:Wa,useClass:class GP{addToWindow(e){Rt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(i=>{const r=Rt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?_s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:ob,useClass:od,deps:[zt,sd,Wa]},{provide:od,useClass:od,deps:[zt,sd,Wa]}],ly=[{provide:Yc,useValue:"root"},{provide:Qi,useFactory:function sI(){return new Qi},deps:[]},{provide:ol,useClass:tI,multi:!0,deps:[Jt,zt,ps]},{provide:ol,useClass:rI,multi:!0,deps:[Jt]},{provide:al,useClass:al,deps:[sl,Es,fs]},{provide:Xo,useExisting:al},{provide:Qb,useExisting:Es},{provide:Es,useClass:Es,deps:[Jt]},{provide:sl,useClass:sl,deps:[ol,zt]},{provide:class pP{},useClass:qP,deps:[]},[]];let cy=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:fs,useValue:t.appId},{provide:Kb,useExisting:fs},zP]}}}return n.\u0275fac=function(t){return new(t||n)(nt(sy,12))},n.\u0275mod=an({type:n}),n.\u0275inj=on({providers:[...ly,...ay],imports:[Vb,$T]}),n})();typeof window<"u"&&window;class fy{}class bI{}const Bi="*";function py(n,e=null){return{type:2,steps:n,options:e}}function Cr(n){return{type:6,styles:n,offset:null}}function my(n){Promise.resolve().then(n)}class Cs{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){my(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class gy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?my(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function _y(n){return new Oe(3e3,!1)}function ek(){return typeof window<"u"&&typeof window.document<"u"}function Wd(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function er(n){switch(n.length){case 0:return new Cs;case 1:return n[0];default:return new gy(n)}}function by(n,e,t,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,u=null;if(i.forEach(_=>{const x=_.get("offset"),V=x==l,Y=V&&u||new Map;_.forEach((ce,ge)=>{let Ee=ge,Se=ce;if("offset"!==ge)switch(Ee=e.normalizePropertyName(Ee,s),Se){case"!":Se=r.get(ge);break;case Bi:Se=o.get(ge);break;default:Se=e.normalizeStyleValue(ge,Ee,Se,s)}Y.set(Ee,Se)}),V||a.push(Y),u=Y,l=x}),s.length)throw function UI(n){return new Oe(3502,!1)}();return a}function $d(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&zd(t,"start",n)));break;case"done":n.onDone(()=>i(t&&zd(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&zd(t,"destroy",n)))}}function zd(n,e,t){const o=Gd(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Gd(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function jn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function yy(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let qd=(n,e)=>!1,vy=(n,e,t)=>[],wy=null;function Kd(n){const e=n.parentNode||n.host;return e===wy?null:e}(Wd()||typeof Element<"u")&&(ek()?(wy=(()=>document.documentElement)(),qd=(n,e)=>{for(;e;){if(e===n)return!0;e=Kd(e)}return!1}):qd=(n,e)=>n.contains(e),vy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ar=null,Ey=!1;const Cy=qd,Ay=vy;let Dy=(()=>{class n{validateStyleProperty(t){return function nk(n){Ar||(Ar=function ik(){return typeof document<"u"?document.body:null}()||{},Ey=!!Ar.style&&"WebkitAppearance"in Ar.style);let e=!0;return Ar.style&&!function tk(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ar.style,!e&&Ey&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ar.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Cy(t,i)}getParentElement(t){return Kd(t)}query(t,i,r){return Ay(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Cs(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Xd=(()=>{class n{}return n.NOOP=new Dy,n})();const Qd="ng-enter",ll="ng-leave",cl="ng-trigger",ul=".ng-trigger",xy="ng-animating",Yd=".ng-animating";function ji(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zd(parseFloat(e[1]),e[2])}function Zd(n,e){return"s"===e?1e3*n:n}function dl(n,e,t){return n.hasOwnProperty("duration")?n:function sk(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(_y()),{duration:0,delay:0,easing:""};r=Zd(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Zd(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function vI(){return new Oe(3100,!1)}()),a=!0),o<0&&(e.push(function wI(){return new Oe(3101,!1)}()),a=!0),a&&e.splice(l,0,_y())}return{duration:r,delay:o,easing:s}}(n,e,t)}function As(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ty(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function tr(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Py(n,e,t){return t?e+":"+t+";":""}function Iy(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Py(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Py(0,uk(t),n.style[t]));n.setAttribute("style",e)}function Ci(n,e,t){n.style&&(e.forEach((i,r)=>{const o=eh(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),Wd()&&Iy(n))}function Dr(n,e){n.style&&(e.forEach((t,i)=>{const r=eh(i);n.style[r]=""}),Wd()&&Iy(n))}function Ds(n){return Array.isArray(n)?1==n.length?n[0]:py(n):n}const Jd=new RegExp("{{\\s*(.+?)\\s*}}","g");function ky(n){let e=[];if("string"==typeof n){let t;for(;t=Jd.exec(n);)e.push(t[1]);Jd.lastIndex=0}return e}function Ss(n,e,t){const i=n.toString(),r=i.replace(Jd,(o,s)=>{let a=e[s];return null==a&&(t.push(function CI(n){return new Oe(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function hl(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ck=/-+([a-z0-9])/g;function eh(n){return n.replace(ck,(...e)=>e[1].toUpperCase())}function uk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function AI(n){return new Oe(3004,!1)}()}}function Ry(n,e){return window.getComputedStyle(n)[e]}function gk(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _k(n,e,t){if(":"==n[0]){const l=function bk(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function BI(n){return new Oe(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function NI(n){return new Oe(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Fy(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&e.push(Fy(s,r))}(i,t,e)):t.push(n),t}const gl=new Set(["true","1"]),_l=new Set(["false","0"]);function Fy(n,e){const t=gl.has(n)||_l.has(n),i=gl.has(e)||_l.has(e);return(r,o)=>{let s="*"==n||n==r,a="*"==e||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?gl.has(n):_l.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?gl.has(e):_l.has(e)),s&&a}}const yk=new RegExp("s*:selfs*,?","g");function th(n,e,t,i){return new vk(n).build(e,t,i)}class vk{constructor(e){this._driver=e}build(e,t,i){const r=new Ck(t);return this._resetContextStyleTimingState(r),Vn(this,Ds(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function SI(){return new Oe(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(_=>{l.name=_,o.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function xI(){return new Oe(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ky(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&(hl(o.values()),t.errors.push(function TI(n,e){return new Oe(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Vn(this,Ds(e.animation),t);return{type:1,matchers:gk(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Sr(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Vn(this,i,t)),options:Sr(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Vn(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Sr(e.options)}}visitAnimate(e,t){const i=function Dk(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return nh(dl(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=nh(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=dl(t,e);return nh(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Cr({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=Cr(u)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Bi?i.push(a):t.errors.push(new Oe(3002,!1)):i.push(Ty(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),_=u.get(l);let x=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(t.errors.push(function PI(n,e,t,i,r){return new Oe(3010,!1)}()),x=!1),o=_.startTime),x&&u.set(l,{startTime:o,endTime:r}),t.options&&function lk(n,e,t){const i=e.params||{},r=ky(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function EI(n){return new Oe(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function II(){return new Oe(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const _=e.steps.map(Se=>{const Le=this._makeStyleAst(Se,t);let Ae=null!=Le.offset?Le.offset:function Ak(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Le.styles),Qe=0;return null!=Ae&&(o++,Qe=Le.offset=Ae),l=l||Qe<0||Qe>1,a=a||Qe<u,u=Qe,s.push(Qe),Le});l&&t.errors.push(function kI(){return new Oe(3012,!1)}()),a&&t.errors.push(function RI(){return new Oe(3200,!1)}());const x=e.steps.length;let V=0;o>0&&o<x?t.errors.push(function FI(){return new Oe(3202,!1)}()):0==o&&(V=1/(x-1));const Y=x-1,ce=t.currentTime,ge=t.currentAnimateTimings,Ee=ge.duration;return _.forEach((Se,Le)=>{const Ae=V>0?Le==Y?1:V*Le:s[Le],Qe=Ae*Ee;t.currentTime=ce+ge.delay+Qe,ge.duration=Qe,this._validateStyleAst(Se,t),Se.offset=Ae,i.styles.push(Se)}),i}visitReference(e,t){return{type:8,animation:Vn(this,Ds(e.animation),t),options:Sr(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sr(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sr(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function wk(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(yk,"")),n=n.replace(/@\*/g,ul).replace(/@\w+/g,t=>ul+"-"+t.slice(1)).replace(/:animating/g,Yd),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,jn(t.collectedStyles,t.currentQuerySelector,new Map);const a=Vn(this,Ds(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Sr(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function OI(){return new Oe(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:dl(e.timings,t.errors,!0);return{type:12,animation:Vn(this,Ds(e.animation),t),timings:i,options:null}}}class Ck{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sr(n){return n?(n=As(n)).params&&(n.params=function Ek(n){return n?As(n):null}(n.params)):n={},n}function nh(n,e,t){return{duration:n,delay:e,easing:t}}function ih(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class bl{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Tk=new RegExp(":enter","g"),Pk=new RegExp(":leave","g");function rh(n,e,t,i,r,o=new Map,s=new Map,a,l,u=[]){return(new Ik).buildKeyframes(n,e,t,i,r,o,s,a,l,u)}class Ik{buildKeyframes(e,t,i,r,o,s,a,l,u,_=[]){u=u||new bl;const x=new oh(e,t,u,r,o,_,[]);x.options=l;const V=l.delay?ji(l.delay):0;x.currentTimeline.delayNextStep(V),x.currentTimeline.setStyles([s],null,x.errors,l),Vn(this,i,x);const Y=x.timelines.filter(ce=>ce.containsAnimation());if(Y.length&&a.size){let ce;for(let ge=Y.length-1;ge>=0;ge--){const Ee=Y[ge];if(Ee.element===t){ce=Ee;break}}ce&&!ce.allowOnlyTimelineStyles()&&ce.setStyles([a],null,x.errors,l)}return Y.length?Y.map(ce=>ce.buildKeyframes()):[ih(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:ji(Ss(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?ji(i.duration):null,a=null!=i.delay?ji(i.delay):null;return 0!==s&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Vn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yl);const s=ji(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Vn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ji(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Vn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return dl(t.params?Ss(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ji(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yl);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,_)=>{t.currentQueryIndex=_;const x=t.createSubContext(e.options,u);o&&x.delayNextStep(o),u===t.element&&(l=x.currentTimeline),Vn(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const _=t.currentTimeline;l&&_.delayNextStep(l);const x=_.currentTime;Vn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const yl={};class oh{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new vl(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ji(i.duration)),null!=i.delay&&(r.delay=ji(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ss(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new oh(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=yl,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new kk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Tk,"."+this._enterClassName)).replace(Pk,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function LI(n){return new Oe(3014,!1)}()),a}}class vl{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Bi),this._currentKeyframe.set(t,Bi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Rk(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Bi)}else tr(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const u=Ss(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Bi),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=tr(a,new Map,this._backFill);u.forEach((_,x)=>{"!"===_?e.add(x):_===Bi&&t.add(x)}),i||u.set("offset",l/this.duration),r.push(u)});const o=e.size?hl(e.values()):[],s=t.size?hl(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return ih(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class kk extends vl{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=tr(e[0]);l.set("offset",0),o.push(l);const u=tr(e[0]);u.set("offset",Ny(a)),o.push(u);const _=e.length-1;for(let x=1;x<=_;x++){let V=tr(e[x]);const Y=V.get("offset");V.set("offset",Ny((t+Y*i)/s)),o.push(V)}i=s,t=0,r="",e=o}return ih(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Ny(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class sh{}const Fk=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ok extends sh{normalizePropertyName(e,t){return eh(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Fk.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function DI(n,e){return new Oe(3005,!1)}())}return s+o}}function By(n,e,t,i,r,o,s,a,l,u,_,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:_,totalTime:x,errors:V}}const ah={};class jy{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Lk(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,u,_){const x=[],V=this.ast.options&&this.ast.options.params||ah,ce=this.buildStyles(i,a&&a.params||ah,x),ge=l&&l.params||ah,Ee=this.buildStyles(r,ge,x),Se=new Set,Le=new Map,Ae=new Map,Qe="void"===r,Ct={params:Nk(ge,V),delay:this.ast.options?.delay},Dt=_?[]:rh(e,t,this.ast.animation,o,s,ce,Ee,Ct,u,x);let _n=0;if(Dt.forEach($i=>{_n=Math.max($i.duration+$i.delay,_n)}),x.length)return By(t,this._triggerName,i,r,Qe,ce,Ee,[],[],Le,Ae,_n,x);Dt.forEach($i=>{const zi=$i.element,Jv=jn(Le,zi,new Set);$i.preStyleProps.forEach(Pr=>Jv.add(Pr));const Bs=jn(Ae,zi,new Set);$i.postStyleProps.forEach(Pr=>Bs.add(Pr)),zi!==t&&Se.add(zi)});const Wi=hl(Se.values());return By(t,this._triggerName,i,r,Qe,ce,Ee,Dt,Wi,Le,Ae,_n)}}function Nk(n,e){const t=As(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Bk{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=As(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ss(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class Vk{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Bk(r.style,r.options&&r.options.params||{},i))}),Vy(this.states,"true","1"),Vy(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new jy(e,r,this.states))}),this.fallbackTransition=function Hk(n,e,t){return new jy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Vy(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Uk=new bl;class Wk{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=th(this._driver,t,i,[]);if(i.length)throw function WI(n){return new Oe(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=by(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=rh(this._driver,t,o,Qd,ll,new Map,new Map,i,Uk,r),s.forEach(_=>{const x=jn(a,_.element,new Map);_.postStyleProps.forEach(V=>x.set(V,null))})):(r.push(function $I(){return new Oe(3300,!1)}()),s=[]),r.length)throw function zI(n){return new Oe(3504,!1)}();a.forEach((_,x)=>{_.forEach((V,Y)=>{_.set(Y,this._driver.computeStyle(x,Y,Bi))})});const u=er(s.map(_=>{const x=a.get(_.element);return this._buildPlayer(_,new Map,x)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function GI(n){return new Oe(3301,!1)}();return t}listen(e,t,i,r){const o=Gd(t,"","","");return $d(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Hy="ng-animate-queued",lh="ng-animate-disabled",Kk=[],Uy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yn="__ng_removed";class ch{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Jk(n){return n??null}(i?e.value:e),i){const o=As(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const xs="void",uh=new ch(xs);class Qk{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zn(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function qI(n,e){return new Oe(3302,!1)}();if(null==i||0==i.length)throw function KI(n){return new Oe(3303,!1)}();if(!function e1(n){return"start"==n||"done"==n}(i))throw function XI(n,e){return new Oe(3400,!1)}();const o=jn(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=jn(this._engine.statesByElement,e,new Map);return a.has(t)||(Zn(e,cl),Zn(e,cl+"-"+t),a.set(t,uh)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function QI(n){return new Oe(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new dh(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Zn(e,cl),Zn(e,cl+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new ch(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=uh),u.value!==xs&&l.value===u.value){if(!function r1(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,u.params)){const ge=[],Ee=o.matchStyles(l.value,l.params,ge),Se=o.matchStyles(u.value,u.params,ge);ge.length?this._engine.reportError(ge):this._engine.afterFlush(()=>{Dr(e,Ee),Ci(e,Se)})}return}const V=jn(this._engine.playersByElement,e,[]);V.forEach(ge=>{ge.namespaceId==this.id&&ge.triggerName==t&&ge.queued&&ge.destroy()});let Y=o.matchTransition(l.value,u.value,e,u.params),ce=!1;if(!Y){if(!r)return;Y=o.fallbackTransition,ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Y,fromState:l,toState:u,player:s,isFallbackTransition:ce}),ce||(Zn(e,Hy),s.onStart(()=>{go(e,Hy)})),s.onDone(()=>{let ge=this.players.indexOf(s);ge>=0&&this.players.splice(ge,1);const Ee=this._engine.playersByElement.get(e);if(Ee){let Se=Ee.indexOf(s);Se>=0&&Ee.splice(Se,1)}}),this.players.push(s),V.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ul,!0);i.forEach(r=>{if(r[Yn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const _=this.trigger(e,u,xs,r);_&&a.push(_)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&er(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,u=i.get(s)||uh,_=new ch(xs),x=new dh(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:_,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Yn];(!o||o===Uy)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Zn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Gd(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,$d(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Yk{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Qk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(wl(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!wl(t))return;const o=t[Yn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zn(e,lh)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),go(e,lh))}removeNode(e,t,i,r){if(wl(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Yn]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return wl(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ul,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Yd,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return er(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Yn];if(t&&t.setForRemoval){if(e[Yn]=Uy,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lh)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?er(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function YI(n){return new Oe(3402,!1)}()}_flushAnimations(e,t){const i=new bl,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,_=new Set;this.disabledNodes.forEach(Je=>{_.add(Je);const it=this.driver.query(Je,".ng-animate-queued",!0);for(let ct=0;ct<it.length;ct++)_.add(it[ct])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),Y=zy(V,this.collectedEnterElements),ce=new Map;let ge=0;Y.forEach((Je,it)=>{const ct=Qd+ge++;ce.set(it,ct),Je.forEach(At=>Zn(At,ct))});const Ee=[],Se=new Set,Le=new Set;for(let Je=0;Je<this.collectedLeaveElements.length;Je++){const it=this.collectedLeaveElements[Je],ct=it[Yn];ct&&ct.setForRemoval&&(Ee.push(it),Se.add(it),ct.hasAnimation?this.driver.query(it,".ng-star-inserted",!0).forEach(At=>Se.add(At)):Le.add(it))}const Ae=new Map,Qe=zy(V,Array.from(Se));Qe.forEach((Je,it)=>{const ct=ll+ge++;Ae.set(it,ct),Je.forEach(At=>Zn(At,ct))}),e.push(()=>{Y.forEach((Je,it)=>{const ct=ce.get(it);Je.forEach(At=>go(At,ct))}),Qe.forEach((Je,it)=>{const ct=Ae.get(it);Je.forEach(At=>go(At,ct))}),Ee.forEach(Je=>{this.processLeaveNode(Je)})});const Ct=[],Dt=[];for(let Je=this._namespaceList.length-1;Je>=0;Je--)this._namespaceList[Je].drainQueuedTransitions(t).forEach(ct=>{const At=ct.player,sn=ct.element;if(Ct.push(At),this.collectedEnterElements.length){const bn=sn[Yn];if(bn&&bn.setForMove){if(bn.previousTriggersValues&&bn.previousTriggersValues.has(ct.triggerName)){const Ir=bn.previousTriggersValues.get(ct.triggerName),Jn=this.statesByElement.get(ct.element);if(Jn&&Jn.has(ct.triggerName)){const Ol=Jn.get(ct.triggerName);Ol.value=Ir,Jn.set(ct.triggerName,Ol)}}return void At.destroy()}}const Di=!x||!this.driver.containsElement(x,sn),Hn=Ae.get(sn),sr=ce.get(sn),Ht=this._buildInstruction(ct,i,sr,Hn,Di);if(Ht.errors&&Ht.errors.length)return void Dt.push(Ht);if(Di)return At.onStart(()=>Dr(sn,Ht.fromStyles)),At.onDestroy(()=>Ci(sn,Ht.toStyles)),void r.push(At);if(ct.isFallbackTransition)return At.onStart(()=>Dr(sn,Ht.fromStyles)),At.onDestroy(()=>Ci(sn,Ht.toStyles)),void r.push(At);const n0=[];Ht.timelines.forEach(bn=>{bn.stretchStartingKeyframe=!0,this.disabledNodes.has(bn.element)||n0.push(bn)}),Ht.timelines=n0,i.append(sn,Ht.timelines),s.push({instruction:Ht,player:At,element:sn}),Ht.queriedElements.forEach(bn=>jn(a,bn,[]).push(At)),Ht.preStyleProps.forEach((bn,Ir)=>{if(bn.size){let Jn=l.get(Ir);Jn||l.set(Ir,Jn=new Set),bn.forEach((Ol,Mh)=>Jn.add(Mh))}}),Ht.postStyleProps.forEach((bn,Ir)=>{let Jn=u.get(Ir);Jn||u.set(Ir,Jn=new Set),bn.forEach((Ol,Mh)=>Jn.add(Mh))})});if(Dt.length){const Je=[];Dt.forEach(it=>{Je.push(function ZI(n,e){return new Oe(3505,!1)}())}),Ct.forEach(it=>it.destroy()),this.reportError(Je)}const _n=new Map,Wi=new Map;s.forEach(Je=>{const it=Je.element;i.has(it)&&(Wi.set(it,it),this._beforeAnimationBuild(Je.player.namespaceId,Je.instruction,_n))}),r.forEach(Je=>{const it=Je.element;this._getPreviousPlayers(it,!1,Je.namespaceId,Je.triggerName,null).forEach(At=>{jn(_n,it,[]).push(At),At.destroy()})});const $i=Ee.filter(Je=>qy(Je,l,u)),zi=new Map;$y(zi,this.driver,Le,u,Bi).forEach(Je=>{qy(Je,l,u)&&$i.push(Je)});const Bs=new Map;Y.forEach((Je,it)=>{$y(Bs,this.driver,new Set(Je),l,"!")}),$i.forEach(Je=>{const it=zi.get(Je),ct=Bs.get(Je);zi.set(Je,new Map([...Array.from(it?.entries()??[]),...Array.from(ct?.entries()??[])]))});const Pr=[],e0=[],t0={};s.forEach(Je=>{const{element:it,player:ct,instruction:At}=Je;if(i.has(it)){if(_.has(it))return ct.onDestroy(()=>Ci(it,At.toStyles)),ct.disabled=!0,ct.overrideTotalTime(At.totalTime),void r.push(ct);let sn=t0;if(Wi.size>1){let Hn=it;const sr=[];for(;Hn=Hn.parentNode;){const Ht=Wi.get(Hn);if(Ht){sn=Ht;break}sr.push(Hn)}sr.forEach(Ht=>Wi.set(Ht,sn))}const Di=this._buildAnimation(ct.namespaceId,At,_n,o,Bs,zi);if(ct.setRealPlayer(Di),sn===t0)Pr.push(ct);else{const Hn=this.playersByElement.get(sn);Hn&&Hn.length&&(ct.parentPlayer=er(Hn)),r.push(ct)}}else Dr(it,At.fromStyles),ct.onDestroy(()=>Ci(it,At.toStyles)),e0.push(ct),_.has(it)&&r.push(ct)}),e0.forEach(Je=>{const it=o.get(Je.element);if(it&&it.length){const ct=er(it);Je.setRealPlayer(ct)}}),r.forEach(Je=>{Je.parentPlayer?Je.syncPlayerEvents(Je.parentPlayer):Je.destroy()});for(let Je=0;Je<Ee.length;Je++){const it=Ee[Je],ct=it[Yn];if(go(it,ll),ct&&ct.hasAnimation)continue;let At=[];if(a.size){let Di=a.get(it);Di&&Di.length&&At.push(...Di);let Hn=this.driver.query(it,Yd,!0);for(let sr=0;sr<Hn.length;sr++){let Ht=a.get(Hn[sr]);Ht&&Ht.length&&At.push(...Ht)}}const sn=At.filter(Di=>!Di.destroyed);sn.length?t1(this,it,sn):this.processLeaveNode(it)}return Ee.length=0,Pr.forEach(Je=>{this.players.push(Je),Je.onDone(()=>{Je.destroy();const it=this.players.indexOf(Je);this.players.splice(it,1)}),Je.play()}),Pr}elementContainsData(e,t){let i=!1;const r=t[Yn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==xs;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,_=u!==o,x=jn(i,u,[]);this._getPreviousPlayers(u,_,s,a,t.toState).forEach(Y=>{const ce=Y.getRealPlayer();ce.beforeDestroy&&ce.beforeDestroy(),Y.destroy(),x.push(Y)})}Dr(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,u=[],_=new Set,x=new Set,V=t.timelines.map(ce=>{const ge=ce.element;_.add(ge);const Ee=ge[Yn];if(Ee&&Ee.removedBeforeQueried)return new Cs(ce.duration,ce.delay);const Se=ge!==l,Le=function n1(n){const e=[];return Gy(n,e),e}((i.get(ge)||Kk).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===ge),Ae=o.get(ge),Qe=s.get(ge),Ct=by(0,this._normalizer,0,ce.keyframes,Ae,Qe),Dt=this._buildPlayer(ce,Ct,Le);if(ce.subTimeline&&r&&x.add(ge),Se){const _n=new dh(e,a,ge);_n.setRealPlayer(Dt),u.push(_n)}return Dt});u.forEach(ce=>{jn(this.playersByQueriedElement,ce.element,[]).push(ce),ce.onDone(()=>function Zk(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ce.element,ce))}),_.forEach(ce=>Zn(ce,xy));const Y=er(V);return Y.onDestroy(()=>{_.forEach(ce=>go(ce,xy)),Ci(l,t.toStyles)}),x.forEach(ce=>{jn(r,ce,[]).push(Y)}),Y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Cs(e.duration,e.delay)}}class dh{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Cs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>$d(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wl(n){return n&&1===n.nodeType}function Wy(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $y(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Wy(l)));const s=[];i.forEach((l,u)=>{const _=new Map;l.forEach(x=>{const V=e.computeStyle(u,x,r);_.set(x,V),(!V||0==V.length)&&(u[Yn]=Xk,s.push(u))}),n.set(u,_)});let a=0;return t.forEach(l=>Wy(l,o[a++])),s}function zy(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Zn(n,e){n.classList?.add(e)}function go(n,e){n.classList?.remove(e)}function t1(n,e,t){er(t).onDone(()=>n.processLeaveNode(e))}function Gy(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof gy?Gy(i.players,e):e.push(i)}}function qy(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class El{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Yk(e,t,i),this._timelineEngine=new Wk(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],_=th(this._driver,o,l,[]);if(l.length)throw function HI(n,e){return new Oe(3404,!1)}();a=function jk(n,e,t){return new Vk(n,e,t)}(r,_,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=yy(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=yy(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let s1=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ci(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ci(this._element,this._initialStyles),this._endStyles&&(Ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dr(this._element,this._endStyles),this._endStyles=null),Ci(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function hh(n){let e=null;return n.forEach((t,i)=>{(function a1(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Ky{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Ry(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class l1{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Cy(e,t)}getParentElement(e){return Kd(e)}query(e,t,i){return Ay(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u=new Map,_=s.filter(Y=>Y instanceof Ky);(function dk(n,e){return 0===n||0===e})(i,r)&&_.forEach(Y=>{Y.currentSnapshot.forEach((ce,ge)=>u.set(ge,ce))});let x=function ak(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ty(e)):[]}(t).map(Y=>tr(Y));x=function hk(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Ry(n,a)))}}return e}(e,x,u);const V=function o1(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=hh(e[0]),e.length>1&&(i=hh(e[e.length-1]))):e instanceof Map&&(t=hh(e)),t||i?new s1(n,t,i):null}(e,x);return new Ky(e,x,l,V)}}let c1=(()=>{class n extends fy{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:ii.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?py(t):t;return Xy(this._renderer,null,i,"register",[r]),new u1(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(nt(Xo),nt(Jt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class u1 extends bI{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new d1(this._id,e,t||{},this._renderer)}}class d1{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Xy(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Xy(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Qy="@.disabled";let h1=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(o);return _||(_=new Yy("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,_)),_}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=_=>{Array.isArray(_)?_.forEach(l):this.engine.registerTrigger(s,a,t,_.name,_)};return i.data.animation.forEach(l),new f1(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(nt(Xo),nt(El),nt(zt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class Yy{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Qy?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class f1 extends Yy{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Qy?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function p1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function m1(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}const Zy=[{provide:fy,useClass:c1},{provide:sh,useFactory:function _1(){return new Ok}},{provide:El,useClass:(()=>{class n extends El{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(nt(Jt),nt(Xd),nt(sh),nt(ms))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})()},{provide:Xo,useFactory:function b1(n,e,t){return new h1(n,e,t)},deps:[al,El,zt]}],fh=[{provide:Xd,useFactory:()=>new l1},{provide:eb,useValue:"BrowserAnimations"},...Zy],Jy=[{provide:Xd,useClass:Dy},{provide:eb,useValue:"NoopAnimations"},...Zy];let y1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Jy:fh}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({providers:fh,imports:[cy]}),n})();function ev(n){return new _e(e=>{dt(n()).subscribe(e)})}const{isArray:v1}=Array;function ph(n){return O(e=>function w1(n,e){return v1(e)?n(...e):n(e)}(n,e))}const E1=["addListener","removeListener"],C1=["addEventListener","removeEventListener"],A1=["on","off"];function Nt(n,e,t,i){if(d(t)&&(i=t,t=void 0),i)return Nt(n,e,t).pipe(ph(i));const[r,o]=function x1(n){return d(n.addEventListener)&&d(n.removeEventListener)}(n)?C1.map(s=>a=>n[s](e,a,t)):function D1(n){return d(n.addListener)&&d(n.removeListener)}(n)?E1.map(nv(n,e)):function S1(n){return d(n.on)&&d(n.off)}(n)?A1.map(nv(n,e)):[];if(!r&&ot(n))return ti(s=>Nt(s,e,t))(dt(n));if(!r)throw new TypeError("Invalid event target");return new _e(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function nv(n,e){return t=>i=>n[t](e,i)}function Vi(...n){return ar(n,Co(n))}function Ts(...n){return function T1(){return Ph(1)}()(ar(n,Co(n)))}const nr=new _e(ie);function Hi(n,e){return E((t,i)=>{let r=0;t.subscribe(C(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Al(n,e){return E((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(C(i,l=>{r?.unsubscribe();let u=0;const _=o++;dt(n(l,_)).subscribe(r=C(i,x=>i.next(e?e(l,x,_,u++):x),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class P1 extends _e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,b(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new j;const t=this.getSubject();e.add(this.source.subscribe(C(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=j.EMPTY)}return e}refCount(){return function M1(){return E((n,e)=>{let t=null;n._refCount++;const i=C(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}()(this)}}const k1={connector:()=>new c};function iv(n,e=k1){const{connector:t}=e;return E((i,r)=>{const o=t();dt(n(function I1(n){return new _e(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function Ui(n){return n<=0?()=>Ll:E((e,t)=>{let i=0;e.subscribe(C(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}class O1 extends j{constructor(e,t){super()}schedule(e,t=0){return this}}const Sl={setInterval(n,e,...t){const{delegate:i}=Sl;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Sl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},mh={now:()=>(mh.delegate||Date).now(),delegate:void 0};class Ms{constructor(e,t=Ms.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Ms.now=mh.now;const gh=new class N1 extends Ms{constructor(e,t=Ms.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class L1 extends O1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Sl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Sl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oe(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),B1=gh;function rv(n,e){return e?t=>Ts(e.pipe(Ui(1),function j1(){return E((n,e)=>{n.subscribe(C(e,ie))})}()),t.pipe(rv(n))):ti((t,i)=>n(t,i).pipe(Ui(1),function V1(n){return O(()=>n)}(t)))}const Ps="Service workers are disabled or not supported by this browser";class xl{constructor(e){if(this.serviceWorker=e,e){const i=Nt(e,"controllerchange").pipe(O(()=>e.controller)),o=Ts(ev(()=>Vi(e.controller)),i);this.worker=o.pipe(Hi(_=>!!_)),this.registration=this.worker.pipe(Al(()=>e.getRegistration()));const u=Nt(e,"message").pipe(O(_=>_.data)).pipe(Hi(_=>_&&_.type)).pipe(function F1(n){return n?e=>iv(n)(e):e=>function R1(n,e){const t=d(n)?n:()=>n;return d(e)?iv(e,{connector:t}):i=>new P1(i,t)}(new c)(e)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function $1(n){return ev(()=>function tv(n,e){const t=d(n)?n:()=>n,i=r=>r.error(t());return new _e(e?r=>e.schedule(i,0,r):i)}(new Error(n)))}(Ps)}postMessage(e,t){return this.worker.pipe(Ui(1),function Dl(n,e,t){const i=d(n)||e||t?{next:n,error:e,complete:t}:n;return i?E((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(C(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):ue}(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Hi(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ui(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Hi(t=>t.nonce===e),Ui(1),O(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let z1=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.subscriptionChanges=new c,!t.isEnabled)return this.messages=nr,this.notificationClicks=nr,void(this.subscription=nr);this.messages=this.sw.eventsOfType("PUSH").pipe(O(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(O(r=>r.data)),this.pushManager=this.sw.registration.pipe(O(r=>r.pushManager));const i=this.pushManager.pipe(Al(r=>r.getSubscription()));this.subscription=Bl(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Ps));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Al(s=>s.subscribe(i)),Ui(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ui(1),Al(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ps))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(nt(xl))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),G1=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=nr,this.available=nr,this.activated=nr,void(this.unrecoverable=nr);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Hi(i=>"VERSION_READY"===i.type),O(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ps));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ps));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(nt(xl))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class _h{}const ov=new Ye("NGSW_REGISTER_SCRIPT");function q1(n,e,t,i){return()=>{if(!Td(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=Vi(null);break;case"registerWithDelay":r=sv(+a[0]||0);break;case"registerWhenStable":r=a[0]?Bl(av(n),sv(+a[0])):av(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(zt).runOutsideAngular(()=>r.pipe(Ui(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function sv(n){return Vi(null).pipe(function W1(n,e=gh){const t=function U1(n=0,e,t=B1){let i=-1;return null!=e&&(Ih(e)?t=e:i=e),new _e(r=>{let o=function H1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e);return rv(()=>t)}(n))}function av(n){return n.get(ms).isStable.pipe(Hi(t=>t))}function K1(n,e){return new xl(Td(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let bh,X1=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:ov,useValue:t},{provide:_h,useValue:i},{provide:xl,useFactory:K1,deps:[_h,ps]},{provide:ed,useFactory:q1,deps:[Ri,ov,_h,ps],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({providers:[z1,G1]}),n})();try{bh=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bh=!1}let Is,lv=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Td(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bh)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(nt(ps))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ks(n){return function Q1(){if(null==Is&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Is=!0}))}finally{Is=Is||!1}return Is}()?n:!!n.capture}let oR=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({providers:[oR]}),n})();function dv(n){return Array.isArray(n)?n:[n]}function hv(n){return n instanceof Xi?n.nativeElement:n}const{isArray:aR}=Array,{getPrototypeOf:lR,prototype:cR,keys:uR}=Object;function hR(...n){const e=Co(n),t=function kh(n){return d(Nl(n))?n.pop():void 0}(n),{args:i,keys:r}=function fv(n){if(1===n.length){const e=n[0];if(aR(e))return{args:e,keys:null};if(function dR(n){return n&&"object"==typeof n&&lR(n)===cR}(e)){const t=uR(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return ar([],e);const o=new _e(function fR(n,e,t=ue){return i=>{mv(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)mv(e,()=>{const u=ar(n[l],e);let _=!1;u.subscribe(C(i,x=>{o[l]=x,_||(_=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>function pv(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,s):ue));return t?o.pipe(ph(t)):o}function mv(n,e,t){n?rn(t,n,e):e()}function gv(n,e=gh){return E((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=o;o=null,i.next(u)}};function l(){const u=s+n,_=e.now();if(_<u)return r=this.schedule(void 0,u-_),void i.add(r);a()}t.subscribe(C(i,u=>{o=u,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function mR(...n){const e=Co(n);return E((t,i)=>{(e?Ts(n,t,e):Ts(n,t)).subscribe(i)})}function Vt(n){return E((e,t)=>{dt(n).subscribe(C(t,()=>t.complete(),ie)),!t.closed&&e.subscribe(t)})}const _v=new Set;let bo,gR=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bR}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function _R(n){if(!_v.has(n))try{bo||(bo=document.createElement("style"),bo.setAttribute("type","text/css"),document.head.appendChild(bo)),bo.sheet&&(bo.sheet.insertRule(`@media ${n} {body{ }}`,0),_v.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(nt(lv))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bR(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let bv=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new c}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return yv(dv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=hR(yv(dv(t)).map(s=>this._registerQuery(s).observable));return o=Ts(o.pipe(Ui(1)),o.pipe(function pR(n){return Hi((e,t)=>n<=t)}(1),gv(0))),o.pipe(O(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new _e(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(mR(i),O(({matches:s})=>({query:t,matches:s})),Vt(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(nt(gR),nt(zt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yv(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Cv="cdk-high-contrast-black-on-white",Av="cdk-high-contrast-white-on-black",vh="cdk-high-contrast-active";let Dv=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=So(bv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(vh,Cv,Av),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(vh,Cv):2===i&&t.add(vh,Av)}}}return n.\u0275fac=function(t){return new(t||n)(nt(lv),nt(Jt))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PR=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(nt(Dv))},n.\u0275mod=an({type:n}),n.\u0275inj=on({imports:[uv]}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({}),n})();const FR=new Ye("mat-sanity-checks",{providedIn:"root",factory:function RR(){return!0}});let ir=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function J1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(nt(Dv),nt(FR,8),nt(Jt))},n.\u0275mod=an({type:n}),n.\u0275inj=on({imports:[Sv,Sv]}),n})();class LR{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mv=ks({passive:!0,capture:!0});class NR{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function Z1(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Mv)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Mv)))}}const Pv={enterDuration:225,exitDuration:150},Iv=ks({passive:!0,capture:!0}),kv=["mousedown","touchstart"],Rv=["mouseup","mouseleave","touchend","touchcancel"];class Ml{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=hv(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Pv,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function jR(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,u=o.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=a-s+"px",_.style.top=l-s+"px",_.style.height=2*s+"px",_.style.width=2*s+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(_);const x=window.getComputedStyle(_),Y=x.transitionDuration,ce="none"===x.transitionProperty||"0s"===Y||"0s, 0s"===Y||0===r.width&&0===r.height,ge=new LR(this,_,i,ce);_.style.transform="scale3d(1, 1, 1)",ge.state=0,i.persistent||(this._mostRecentTransientRipple=ge);let Ee=null;return!ce&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Se=()=>this._finishRippleTransition(ge),Le=()=>this._destroyRipple(ge);_.addEventListener("transitionend",Se),_.addEventListener("transitioncancel",Le),Ee={onTransitionEnd:Se,onTransitionCancel:Le}}),this._activeRipples.set(ge,Ee),(ce||!u)&&this._finishRippleTransition(ge),ge}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Pv,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=hv(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,kv.forEach(i=>{Ml._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Rv.forEach(t=>{this._triggerElement.addEventListener(t,this,Iv)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function xR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function TR(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(kv.forEach(t=>Ml._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Rv.forEach(t=>e.removeEventListener(t,this,Iv)))}}Ml._eventManager=new NR;let Fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({imports:[ir,ir]}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({imports:[ir,Fv,ir]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({imports:[ir,ir]}),n})(),wF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({}),n})(),SF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({imports:[Vb,ir,wF,Fv,uv,PR,ir]}),n})();var Mr=N(36),Fl=N.t(Mr,2),Ai=N(813),xF=N.t(Ai,2);const TF=["pdfViewerContainer"];function Th(n,e,t){n[e]=t}function Ls(){return typeof window>"u"}Ls()||Th(Fl,"verbosity",Mr.VerbosityLevel.INFOS);var wo=(()=>{return(n=wo||(wo={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",wo;var n})();let IF=(()=>{class n{constructor(t,i){if(this.element=t,this.ngZone=i,this.isVisible=!1,this._cMapsUrl=typeof Fl<"u"?`https://unpkg.com/pdfjs-dist@${Mr.version}/cmaps/`:null,this._imageResourcesPath=typeof Fl<"u"?`https://unpkg.com/pdfjs-dist@${Mr.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=wo.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new c,this.afterLoadComplete=new gn,this.pageRendered=new gn,this.pageInitialized=new gn,this.textLayerRendered=new gn,this.onError=new gn,this.onProgress=new gn,this.pageChange=new gn(!0),Ls())return;let r;const o=Mr.version;r=window[`pdfWorkerSrc${o}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${o}/legacy/build/pdf.worker.min.js`),Th(Mr.GlobalWorkerOptions,"workerSrc",r)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Ai.LinkTarget.BLANK;case"none":return Ai.LinkTarget.NONE;case"self":return Ai.LinkTarget.SELF;case"parent":return Ai.LinkTarget.PARENT;case"top":return Ai.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!Ls()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:wo.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){ar(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Vt(this.destroy$)).subscribe({next:t=>{const i=this._rotation||t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS;let o=this._zoom,s=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const a=t.getViewport({scale:1,rotation:i});o=this.getScale(a.width,a.height),s=!this._stickToPage}this.pdfViewer._setScale(o,s)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function MF(n,e){const t=new n.EventBus;return function PF(n,e){Nt(n,"documentload").pipe(Vt(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Nt(n,"pagerendered").pipe(Vt(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(o)}),Nt(n,"textlayerrendered").pipe(Vt(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv.dispatchEvent(r)}),Nt(n,"pagechanging").pipe(Vt(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),Nt(n,"pagesinit").pipe(Vt(e)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),Nt(n,"pagesloaded").pipe(Vt(e)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),Nt(n,"scalechange").pipe(Vt(e)).subscribe(({scale:t,presetValue:i,source:r})=>{const o=document.createEvent("UIEvents");o.initEvent("scalechange",!0,!0),o.scale=t,o.presetValue=i,r.container.dispatchEvent(o)}),Nt(n,"updateviewarea").pipe(Vt(e)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),Nt(n,"find").pipe(Vt(e)).subscribe(({source:t,type:i,query:r,phraseSearch:o,caseSensitive:s,highlightAll:a,findPrevious:l})=>{if(t===window)return;const u=document.createEvent("CustomEvent");u.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:o,caseSensitive:s,highlightAll:a,findPrevious:l}),window.dispatchEvent(u)}),Nt(n,"attachmentsloaded").pipe(Vt(e)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),Nt(n,"sidebarviewchanged").pipe(Vt(e)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),Nt(n,"pagemode").pipe(Vt(e)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),Nt(n,"namedaction").pipe(Vt(e)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),Nt(n,"presentationmodechanged").pipe(Vt(e)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),Nt(n,"outlineloaded").pipe(Vt(e)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,e),t}(xF,this.destroy$),Nt(this.eventBus,"pagerendered").pipe(Vt(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Nt(this.eventBus,"pagesinit").pipe(Vt(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Nt(this.eventBus,"pagechanging").pipe(Vt(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Nt(this.eventBus,"textlayerrendered").pipe(Vt(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Ai.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Ai.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:wo.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){Th(Fl,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new Ai.PDFViewer(this.getPDFOptions()):new Ai.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=Mr.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;ar(this.loadingTask.promise).pipe(Vt(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-r,s=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===s||0===i||0===o||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(s/i,o/t);break;case"page-height":a=s/i;break;default:a=o/t}return this._zoom*a/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Ls()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Ls()||this.ngZone.runOutsideAngular(()=>{Nt(window,"resize").pipe(gv(100),Hi(()=>this._canAutoResize&&!!this._pdf),Vt(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(t){return new(t||n)(gt(Xi),gt(zt))},n.\u0275cmp=qs({type:n,selectors:[["pdf-viewer"]],viewQuery:function(t,i){if(1&t&&M_(TF,5),2&t){let r;T_(r=function P_(){return function Vx(n,e){return n[19].queries[e].queryList}(Pe(),hf())}())&&(i.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Fo],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,i){1&t&&(ns(0,"div",0,1),ka(2,"div",2),is())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),kF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=an({type:n}),n.\u0275inj=on({}),n})();class RF extends c{constructor(e=1/0,t=1/0,i=mh){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}class Ns{constructor(e){this.breakpointObserver=e,this.title="ekbf-ui",this.active_tab=0,this.pdfSrc="/assets/jj23.pdf",this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(O(t=>t.matches),function FF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,jl({connector:()=>new RF(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}())}ngOnInit(){document.getElementsByTagName("body")[0].classList.add("x-app-theme")}}Ns.\u0275fac=function(e){return new(e||Ns)(gt(bv))},Ns.\u0275cmp=qs({type:Ns,selectors:[["app-root"]],decls:2,vars:3,consts:[[2,"height","100vh"],[2,"width","100vw","height","100vh",3,"src","render-text","original-size"]],template:function(e,t){1&e&&(ns(0,"div",0),ka(1,"pdf-viewer",1),is()),2&e&&(function Xp(n){Qp(Et(),Pe(),En()+n,!1)}(1),Cu("src",t.pdfSrc)("render-text",!0)("original-size",!1))},dependencies:[IF],styles:[".x-main-wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;background:rgb(202,184,132);background:linear-gradient(90deg,rgb(202,184,132) 0%,rgb(202,184,132) 15%,rgb(241,230,179) 50%,rgb(202,184,132) 85%,rgb(202,184,132) 100%);position:relative}"]});class Eo{}Eo.\u0275fac=function(e){return new(e||Eo)},Eo.\u0275mod=an({type:Eo,bootstrap:[Ns]}),Eo.\u0275inj=on({imports:[cy,y1,X1.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),UR,_F,SF,kF]}),lI().bootstrapModule(Eo).catch(n=>console.error(n))},36:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldSet=__webpack_require__(661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(280).default,_asyncToGenerator=__webpack_require__(156).default,N;N=()=>(()=>{"use strict";var __webpack_modules__=[,(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.VerbosityLevel=g.Util=g.UnknownErrorException=g.UnexpectedResponseException=g.UNSUPPORTED_FEATURES=g.TextRenderingMode=g.StreamType=g.RenderingIntentFlag=g.PermissionFlag=g.PasswordResponses=g.PasswordException=g.PageActionEventType=g.OPS=g.MissingPDFException=g.InvalidPDFException=g.ImageKind=g.IDENTITY_MATRIX=g.FormatError=g.FontType=g.FeatureTest=g.FONT_IDENTITY_MATRIX=g.DocumentActionEventType=g.CMapCompressionType=g.BaseException=g.AnnotationType=g.AnnotationStateModelType=g.AnnotationReviewState=g.AnnotationReplyType=g.AnnotationMode=g.AnnotationMarkedState=g.AnnotationFlag=g.AnnotationFieldFlag=g.AnnotationBorderStyleType=g.AnnotationActionEventType=g.AbortException=void 0,g.arrayByteLength=J,g.arraysToBytes=function he(ae){const K=ae.length;if(1===K&&ae[0]instanceof Uint8Array)return ae[0];let ne=0;for(let ot=0;ot<K;ot++)ne+=J(ae[ot]);let we=0;const $e=new Uint8Array(ne);for(let ot=0;ot<K;ot++){let Ce=ae[ot];Ce instanceof Uint8Array||(Ce="string"==typeof Ce?le(Ce):new Uint8Array(Ce));const Ie=Ce.byteLength;$e.set(Ce,we),we+=Ie}return $e},g.assert=function me(ae,K){ae||pe(K)},g.bytesToString=function O(ae){("object"!=typeof ae||null===ae||void 0===ae.length)&&pe("Invalid argument for bytesToString");const K=ae.length;if(K<8192)return String.fromCharCode.apply(null,ae);const we=[];for(let $e=0;$e<K;$e+=8192){const ot=Math.min($e+8192,K),Ce=ae.subarray($e,ot);we.push(String.fromCharCode.apply(null,Ce))}return we.join("")},g.createPromiseCapability=function Be(){const ae=Object.create(null);let K=!1;return Object.defineProperty(ae,"settled",{get:()=>K}),ae.promise=new Promise(function(ne,we){ae.resolve=function($e){K=!0,ne($e)},ae.reject=function($e){K=!0,we($e)}}),ae},g.createValidAbsoluteUrl=function ke(ae,K=null,ne=null){if(!ae)return null;try{if(ne&&"string"==typeof ae){if(ne.addDefaultProtocol&&ae.startsWith("www.")){const $e=ae.match(/\./g);$e&&$e.length>=2&&(ae=`http://${ae}`)}if(ne.tryConvertEncoding)try{ae=Ue(ae)}catch{}}const we=K?new URL(ae,K):new URL(ae);if(function _e(ae){if(!ae)return!1;switch(ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(we))return we}catch{}return null},g.escapeString=function je(ae){return ae.replace(/([()\\\n\r])/g,K=>"\n"===K?"\\n":"\r"===K?"\\r":`\\${K}`)},g.getModificationDate=function Me(ae=new Date){return[ae.getUTCFullYear().toString(),(ae.getUTCMonth()+1).toString().padStart(2,"0"),ae.getUTCDate().toString().padStart(2,"0"),ae.getUTCHours().toString().padStart(2,"0"),ae.getUTCMinutes().toString().padStart(2,"0"),ae.getUTCSeconds().toString().padStart(2,"0")].join("")},g.getVerbosityLevel=function W(){return v},g.info=function te(ae){v>=w.INFOS&&console.log(`Info: ${ae}`)},g.isArrayBuffer=function U(ae){return"object"==typeof ae&&null!==ae&&void 0!==ae.byteLength},g.isArrayEqual=function fe(ae,K){if(ae.length!==K.length)return!1;for(let ne=0,we=ae.length;ne<we;ne++)if(ae[ne]!==K[ne])return!1;return!0},g.isAscii=function De(ae){return/^[\x00-\x7F]*$/.test(ae)},g.objectFromMap=function ye(ae){const K=Object.create(null);for(const[ne,we]of ae)K[ne]=we;return K},g.objectSize=function be(ae){return Object.keys(ae).length},g.setVerbosityLevel=function $(ae){Number.isInteger(ae)&&(v=ae)},g.shadow=Te,g.string32=function de(ae){return String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,255&ae)},g.stringToBytes=le,g.stringToPDFString=function Ze(ae){if(ae[0]>="\xef"){let ne;if("\xfe"===ae[0]&&"\xff"===ae[1]?ne="utf-16be":"\xff"===ae[0]&&"\xfe"===ae[1]?ne="utf-16le":"\xef"===ae[0]&&"\xbb"===ae[1]&&"\xbf"===ae[2]&&(ne="utf-8"),ne)try{const we=new TextDecoder(ne,{fatal:!0}),$e=le(ae);return we.decode($e)}catch(we){ue(`stringToPDFString: "${we}".`)}}const K=[];for(let ne=0,we=ae.length;ne<we;ne++){const $e=et[ae.charCodeAt(ne)];K.push($e?String.fromCharCode($e):ae.charAt(ne))}return K.join("")},g.stringToUTF16BEString=function Fe(ae){const K=["\xfe\xff"];for(let ne=0,we=ae.length;ne<we;ne++){const $e=ae.charCodeAt(ne);K.push(String.fromCharCode($e>>8&255),String.fromCharCode(255&$e))}return K.join("")},g.stringToUTF8String=Ue,g.unreachable=pe,g.utf8StringToString=function ve(ae){return unescape(encodeURIComponent(ae))},g.warn=ue,N(2),g.IDENTITY_MATRIX=[1,0,0,1,0,0],g.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],g.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},g.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},g.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},g.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},g.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},g.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},g.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},g.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},g.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},g.AnnotationReplyType={GROUP:"Group",REPLY:"R"},g.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},g.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},g.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},g.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},g.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},g.PageActionEventType={O:"PageOpen",C:"PageClose"},g.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},g.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const w={ERRORS:0,WARNINGS:1,INFOS:5};g.VerbosityLevel=w,g.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},g.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},g.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},g.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let v=w.WARNINGS;function ue(ae){v>=w.WARNINGS&&console.log(`Warning: ${ae}`)}function pe(ae){throw new Error(ae)}function Te(ae,K,ne){return Object.defineProperty(ae,K,{value:ne,enumerable:!0,configurable:!0,writable:!1}),ne}const z=function(){function K(ne,we){this.constructor===K&&pe("Cannot initialize BaseException."),this.message=ne,this.name=we}return K.prototype=new Error,K.constructor=K,K}();function le(ae){"string"!=typeof ae&&pe("Invalid argument for stringToBytes");const K=ae.length,ne=new Uint8Array(K);for(let we=0;we<K;++we)ne[we]=255&ae.charCodeAt(we);return ne}function J(ae){return void 0!==ae.length?ae.length:void 0!==ae.byteLength?ae.byteLength:void pe("Invalid argument for arrayByteLength")}g.BaseException=z,g.PasswordException=class m extends z{constructor(K,ne){super(K,"PasswordException"),this.code=ne}},g.UnknownErrorException=class c extends z{constructor(K,ne){super(K,"UnknownErrorException"),this.details=ne}},g.InvalidPDFException=class p extends z{constructor(K){super(K,"InvalidPDFException")}},g.MissingPDFException=class b extends z{constructor(K){super(K,"MissingPDFException")}},g.UnexpectedResponseException=class E extends z{constructor(K,ne){super(K,"UnexpectedResponseException"),this.status=ne}},g.FormatError=class C extends z{constructor(K){super(K,"FormatError")}},g.AbortException=class y extends z{constructor(K){super(K,"AbortException")}},g.FeatureTest=class We{static get isLittleEndian(){return Te(this,"isLittleEndian",function Re(){const ae=new Uint8Array(4);return ae[0]=1,1===new Uint32Array(ae.buffer,0,1)[0]}())}static get isEvalSupported(){return Te(this,"isEvalSupported",function Ve(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Te(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const He=[...Array(256).keys()].map(ae=>ae.toString(16).padStart(2,"0"));class xe{static makeHexColor(K,ne,we){return`#${He[K]}${He[ne]}${He[we]}`}static scaleMinMax(K,ne){let we;K[0]?(K[0]<0&&(we=ne[0],ne[0]=ne[1],ne[1]=we),ne[0]*=K[0],ne[1]*=K[0],K[3]<0&&(we=ne[2],ne[2]=ne[3],ne[3]=we),ne[2]*=K[3],ne[3]*=K[3]):(we=ne[0],ne[0]=ne[2],ne[2]=we,we=ne[1],ne[1]=ne[3],ne[3]=we,K[1]<0&&(we=ne[2],ne[2]=ne[3],ne[3]=we),ne[2]*=K[1],ne[3]*=K[1],K[2]<0&&(we=ne[0],ne[0]=ne[1],ne[1]=we),ne[0]*=K[2],ne[1]*=K[2]),ne[0]+=K[4],ne[1]+=K[4],ne[2]+=K[5],ne[3]+=K[5]}static transform(K,ne){return[K[0]*ne[0]+K[2]*ne[1],K[1]*ne[0]+K[3]*ne[1],K[0]*ne[2]+K[2]*ne[3],K[1]*ne[2]+K[3]*ne[3],K[0]*ne[4]+K[2]*ne[5]+K[4],K[1]*ne[4]+K[3]*ne[5]+K[5]]}static applyTransform(K,ne){return[K[0]*ne[0]+K[1]*ne[2]+ne[4],K[0]*ne[1]+K[1]*ne[3]+ne[5]]}static applyInverseTransform(K,ne){const we=ne[0]*ne[3]-ne[1]*ne[2];return[(K[0]*ne[3]-K[1]*ne[2]+ne[2]*ne[5]-ne[4]*ne[3])/we,(-K[0]*ne[1]+K[1]*ne[0]+ne[4]*ne[1]-ne[5]*ne[0])/we]}static getAxialAlignedBoundingBox(K,ne){const we=xe.applyTransform(K,ne),$e=xe.applyTransform(K.slice(2,4),ne),ot=xe.applyTransform([K[0],K[3]],ne),Ce=xe.applyTransform([K[2],K[1]],ne);return[Math.min(we[0],$e[0],ot[0],Ce[0]),Math.min(we[1],$e[1],ot[1],Ce[1]),Math.max(we[0],$e[0],ot[0],Ce[0]),Math.max(we[1],$e[1],ot[1],Ce[1])]}static inverseTransform(K){const ne=K[0]*K[3]-K[1]*K[2];return[K[3]/ne,-K[1]/ne,-K[2]/ne,K[0]/ne,(K[2]*K[5]-K[4]*K[3])/ne,(K[4]*K[1]-K[5]*K[0])/ne]}static apply3dTransform(K,ne){return[K[0]*ne[0]+K[1]*ne[1]+K[2]*ne[2],K[3]*ne[0]+K[4]*ne[1]+K[5]*ne[2],K[6]*ne[0]+K[7]*ne[1]+K[8]*ne[2]]}static singularValueDecompose2dScale(K){const ne=[K[0],K[2],K[1],K[3]],we=K[0]*ne[0]+K[1]*ne[2],Ce=K[2]*ne[1]+K[3]*ne[3],Ie=(we+Ce)/2,qe=Math.sqrt((we+Ce)**2-4*(we*Ce-(K[2]*ne[0]+K[3]*ne[2])*(K[0]*ne[1]+K[1]*ne[3])))/2,Ne=Ie-qe||1;return[Math.sqrt(Ie+qe||1),Math.sqrt(Ne)]}static normalizeRect(K){const ne=K.slice(0);return K[0]>K[2]&&(ne[0]=K[2],ne[2]=K[0]),K[1]>K[3]&&(ne[1]=K[3],ne[3]=K[1]),ne}static intersect(K,ne){const we=Math.max(Math.min(K[0],K[2]),Math.min(ne[0],ne[2])),$e=Math.min(Math.max(K[0],K[2]),Math.max(ne[0],ne[2]));if(we>$e)return null;const ot=Math.max(Math.min(K[1],K[3]),Math.min(ne[1],ne[3])),Ce=Math.min(Math.max(K[1],K[3]),Math.max(ne[1],ne[3]));return ot>Ce?null:[we,ot,$e,Ce]}static bezierBoundingBox(K,ne,we,$e,ot,Ce,Ie,qe){const Ke=[],Ne=[[],[]];let tt,ze,rt,mt,dt,Lt,Un,Xt;for(let Sn=0;Sn<2;++Sn)if(0===Sn?(ze=6*K-12*we+6*ot,tt=-3*K+9*we-9*ot+3*Ie,rt=3*we-3*K):(ze=6*ne-12*$e+6*Ce,tt=-3*ne+9*$e-9*Ce+3*qe,rt=3*$e-3*ne),Math.abs(tt)<1e-12){if(Math.abs(ze)<1e-12)continue;mt=-rt/ze,0<mt&&mt<1&&Ke.push(mt)}else Un=ze*ze-4*rt*tt,Xt=Math.sqrt(Un),!(Un<0)&&(dt=(-ze+Xt)/(2*tt),0<dt&&dt<1&&Ke.push(dt),Lt=(-ze-Xt)/(2*tt),0<Lt&&Lt<1&&Ke.push(Lt));let Qt,Dn=Ke.length;const nn=Dn;for(;Dn--;)mt=Ke[Dn],Qt=1-mt,Ne[0][Dn]=Qt*Qt*Qt*K+3*Qt*Qt*mt*we+3*Qt*mt*mt*ot+mt*mt*mt*Ie,Ne[1][Dn]=Qt*Qt*Qt*ne+3*Qt*Qt*mt*$e+3*Qt*mt*mt*Ce+mt*mt*mt*qe;return Ne[0][nn]=K,Ne[1][nn]=ne,Ne[0][nn+1]=Ie,Ne[1][nn+1]=qe,Ne[0].length=Ne[1].length=nn+2,[Math.min(...Ne[0]),Math.min(...Ne[1]),Math.max(...Ne[0]),Math.max(...Ne[1])]}}g.Util=xe;const et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ue(ae){return decodeURIComponent(escape(ae))}},(re,g,N)=>{N(3)},(re,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.isNodeJS=void 0;const N=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);g.isNodeJS=N},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:re,NodeCMapReaderFactory:g,NodeStandardFontDataFactory:N}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=re,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=g,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=N}function setPDFNetworkStreamFactory(re){createPDFNetworkStream=re}function getDocument(re){const g=new PDFDocumentLoadingTask;let N;if("string"==typeof re||re instanceof URL)N={url:re};else if((0,_util.isArrayBuffer)(re))N={data:re};else if(re instanceof PDFDataRangeTransport)N={range:re};else{if("object"!=typeof re)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!re.url&&!re.data&&!re.range)throw new Error("Invalid parameter object: need either .data, .range or .url");N=re}const d=Object.create(null);let q=null,G=null;for(const j in N){const H=N[j];switch(j){case"url":if(typeof window<"u")try{d[j]=new URL(H,window.location).href;continue}catch(k){(0,_util.warn)(`Cannot create valid URL: "${k}".`)}else if("string"==typeof H||H instanceof URL){d[j]=H.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":q=H;continue;case"worker":G=H;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&H instanceof Buffer)d[j]=new Uint8Array(H);else{if(H instanceof Uint8Array)break;if("string"==typeof H)d[j]=(0,_util.stringToBytes)(H);else if("object"!=typeof H||null===H||isNaN(H.length)){if(!(0,_util.isArrayBuffer)(H))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");d[j]=new Uint8Array(H)}else d[j]=new Uint8Array(H)}continue}d[j]=H}if(d.CMapReaderFactory=d.CMapReaderFactory||DefaultCMapReaderFactory,d.StandardFontDataFactory=d.StandardFontDataFactory||DefaultStandardFontDataFactory,d.ignoreErrors=!0!==d.stopAtErrors,d.fontExtraProperties=!0===d.fontExtraProperties,d.pdfBug=!0===d.pdfBug,d.enableXfa=!0===d.enableXfa,(!Number.isInteger(d.rangeChunkSize)||d.rangeChunkSize<1)&&(d.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof d.docBaseUrl||(0,_display_utils.isDataScheme)(d.docBaseUrl))&&(d.docBaseUrl=null),(!Number.isInteger(d.maxImageSize)||d.maxImageSize<-1)&&(d.maxImageSize=-1),"string"!=typeof d.cMapUrl&&(d.cMapUrl=null),"string"!=typeof d.standardFontDataUrl&&(d.standardFontDataUrl=null),"boolean"!=typeof d.useWorkerFetch&&(d.useWorkerFetch=d.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&d.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof d.isEvalSupported&&(d.isEvalSupported=!0),"boolean"!=typeof d.disableFontFace&&(d.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof d.useSystemFonts&&(d.useSystemFonts=!_is_node.isNodeJS&&!d.disableFontFace),("object"!=typeof d.ownerDocument||null===d.ownerDocument)&&(d.ownerDocument=globalThis.document),"boolean"!=typeof d.disableRange&&(d.disableRange=!1),"boolean"!=typeof d.disableStream&&(d.disableStream=!1),"boolean"!=typeof d.disableAutoFetch&&(d.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(d.verbosity),!G){const j={verbosity:d.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};G=j.port?_PDFWorker.fromPort(j):new _PDFWorker(j),g._worker=G}const oe=g.docId;return G.promise.then(function(){if(g.destroyed)throw new Error("Loading aborted");const j=_fetchDocument(G,d,q,oe),H=new Promise(function(k){let X;q?X=new _transport_stream.PDFDataTransportStream({length:d.length,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:d.disableRange,disableStream:d.disableStream},q):d.data||(X=createPDFNetworkStream({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream})),k(X)});return Promise.all([j,H]).then(function([k,X]){if(g.destroyed)throw new Error("Loading aborted");const ee=new _message_handler.MessageHandler(oe,k,G.port),se=new WorkerTransport(ee,g,X,d);g._transport=se,ee.send("Ready",null)})}).catch(g._capability.reject),g}function _fetchDocument(re,g,N,d){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(re,g,N,d){if(re.destroyed)throw new Error("Worker was destroyed");N&&(g.length=N.length,g.initialData=N.initialData,g.progressiveDone=N.progressiveDone,g.contentDispositionFilename=N.contentDispositionFilename);const q=yield re.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.14.305",source:{data:g.data,url:g.url,password:g.password,disableAutoFetch:g.disableAutoFetch,rangeChunkSize:g.rangeChunkSize,length:g.length},maxImageSize:g.maxImageSize,disableFontFace:g.disableFontFace,docBaseUrl:g.docBaseUrl,ignoreErrors:g.ignoreErrors,isEvalSupported:g.isEvalSupported,fontExtraProperties:g.fontExtraProperties,enableXfa:g.enableXfa,useSystemFonts:g.useSystemFonts,cMapUrl:g.useWorkerFetch?g.cMapUrl:null,standardFontDataUrl:g.useWorkerFetch?g.standardFontDataUrl:null});if(re.destroyed)throw new Error("Worker was destroyed");return q})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var g,N;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(g=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),N=g++,g)),N}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var g=this;return _asyncToGenerator(function*(){g.destroyed=!0,yield g._transport?.destroy(),g._transport=null,g._worker&&(g._worker.destroy(),g._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(g,N,d=!1,q=null){this.length=g,this.initialData=N,this.progressiveDone=d,this.contentDispositionFilename=q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(g){this._rangeListeners.push(g)}addProgressListener(g){this._progressListeners.push(g)}addProgressiveReadListener(g){this._progressiveReadListeners.push(g)}addProgressiveDoneListener(g){this._progressiveDoneListeners.push(g)}onDataRange(g,N){for(const d of this._rangeListeners)d(g,N)}onDataProgress(g,N){this._readyCapability.promise.then(()=>{for(const d of this._progressListeners)d(g,N)})}onDataProgressiveRead(g){this._readyCapability.promise.then(()=>{for(const N of this._progressiveReadListeners)N(g)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const g of this._progressiveDoneListeners)g()})}transportReady(){this._readyCapability.resolve()}requestDataRange(g,N){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(g,N){var q,d=this;this._pdfInfo=g,this._transport=N,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(q=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),d.stats||{streamTypes:{},fontTypes:{}}}),function(){return q.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(g){return this._transport.getPage(g)}getPageIndex(g){return this._transport.getPageIndex(g)}getDestinations(){return this._transport.getDestinations()}getDestination(g){return this._transport.getDestination(g)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(g=!1){return this._transport.startCleanup(g||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(g,N,d,q,G=!1){this._pageIndex=g,this._pageInfo=N,this._ownerDocument=q,this._transport=d,this._stats=G?new _display_utils.StatTimer:null,this._pdfBug=G,this.commonObjs=d.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:g,rotation:N=this.rotate,offsetX:d=0,offsetY:q=0,dontFlip:G=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:g,rotation:N,offsetX:d,offsetY:q,dontFlip:G})}getAnnotations({intent:g="display"}={}){const N=this._transport.getRenderingIntent(g);let d=this._annotationPromises.get(N.cacheKey);return d||(d=this._transport.getAnnotations(this._pageIndex,N.renderingIntent),this._annotationPromises.set(N.cacheKey,d),d=d.then(q=>{for(const G of q)void 0!==G.titleObj&&Object.defineProperty(G,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),G.titleObj.str)}),void 0!==G.contentsObj&&Object.defineProperty(G,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),G.contentsObj.str)});return q})),d}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var g=this;return _asyncToGenerator(function*(){return g._transport._htmlForXfa?.children[g._pageIndex]||null})()}render({canvasContext:g,viewport:N,intent:d="display",annotationMode:q=_util.AnnotationMode.ENABLE,transform:G=null,imageLayer:oe=null,canvasFactory:j=null,background:H=null,optionalContentConfigPromise:k=null,annotationCanvasMap:X=null,pageColors:ee=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&q===_util.AnnotationMode.ENABLE&&(q=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&q===_util.AnnotationMode.ENABLE&&(q=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const se=this._transport.getRenderingIntent(d,q);this.pendingCleanup=!1,k||(k=this._transport.getOptionalContentConfig());let Q=this._intentStates.get(se.cacheKey);Q||(Q=Object.create(null),this._intentStates.set(se.cacheKey,Q)),Q.streamReaderCancelTimeout&&(clearTimeout(Q.streamReaderCancelTimeout),Q.streamReaderCancelTimeout=null);const ie=j||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),T=!!(se.renderingIntent&_util.RenderingIntentFlag.PRINT);Q.displayReadyCapability||(Q.displayReadyCapability=(0,_util.createPromiseCapability)(),Q.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(se));const B=P=>{Q.renderTasks.delete(I),(this.cleanupAfterRender||T)&&(this.pendingCleanup=!0),this._tryCleanup(),P?(I.capability.reject(P),this._abortOperatorList({intentState:Q,reason:P instanceof Error?P:new Error(P)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},I=new InternalRenderTask({callback:B,params:{canvasContext:g,viewport:N,transform:G,imageLayer:oe,background:H},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:X,operatorList:Q.operatorList,pageIndex:this._pageIndex,canvasFactory:ie,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:ee});(Q.renderTasks||=new Set).add(I);const L=I.task;return Promise.all([Q.displayReadyCapability.promise,k]).then(([P,R])=>{this.pendingCleanup?B():(this._stats&&this._stats.time("Rendering"),I.initializeGraphics({transparency:P,optionalContentConfig:R}),I.operatorListChanged())}).catch(B),L}getOperatorList({intent:g="display",annotationMode:N=_util.AnnotationMode.ENABLE}={}){const q=this._transport.getRenderingIntent(g,N,!0);let oe,G=this._intentStates.get(q.cacheKey);return G||(G=Object.create(null),this._intentStates.set(q.cacheKey,G)),G.opListReadCapability||(oe=Object.create(null),oe.operatorListChanged=function d(){G.operatorList.lastChunk&&(G.opListReadCapability.resolve(G.operatorList),G.renderTasks.delete(oe))},G.opListReadCapability=(0,_util.createPromiseCapability)(),(G.renderTasks||=new Set).add(oe),G.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(q)),G.opListReadCapability.promise}streamTextContent({disableCombineTextItems:g=!1,includeMarkedContent:N=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==g,includeMarkedContent:!0===N},{highWaterMark:100,size:q=>q.items.length})}getTextContent(g={}){if(this._transport._htmlForXfa)return this.getXfa().then(d=>_xfa_text.XfaText.textContent(d));const N=this.streamTextContent(g);return new Promise(function(d,q){const oe=N.getReader(),j={items:[],styles:Object.create(null)};!function G(){oe.read().then(function({value:H,done:k}){k?d(j):(Object.assign(j.styles,H.styles),j.items.push(...H.items),G())},q)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const g=[];for(const N of this._intentStates.values())if(this._abortOperatorList({intentState:N,reason:new Error("Page was destroyed."),force:!0}),!N.opListReadCapability)for(const d of N.renderTasks)g.push(d.completed),d.cancel();this.objs.clear();for(const N of this._bitmaps)N.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(g)}cleanup(g=!1){return this.pendingCleanup=!0,this._tryCleanup(g)}_tryCleanup(g=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:N,operatorList:d}of this._intentStates.values())if(N.size>0||!d.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,g&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const N of this._bitmaps)N.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(g,N){const d=this._intentStates.get(N);d&&(this._stats&&this._stats.timeEnd("Page Request"),d.displayReadyCapability&&d.displayReadyCapability.resolve(g))}_renderPageChunk(g,N){for(let d=0,q=g.length;d<q;d++)N.operatorList.fnArray.push(g.fnArray[d]),N.operatorList.argsArray.push(g.argsArray[d]);N.operatorList.lastChunk=g.lastChunk;for(const d of N.renderTasks)d.operatorListChanged();g.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:g,cacheKey:N}){const q=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:g,cacheKey:N,annotationStorage:g&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),G=this._intentStates.get(N);G.streamReader=q;const oe=()=>{q.read().then(({value:j,done:H})=>{H?G.streamReader=null:this._transport.destroyed||(this._renderPageChunk(j,G),oe())},j=>{if(G.streamReader=null,!this._transport.destroyed){if(G.operatorList){G.operatorList.lastChunk=!0;for(const H of G.renderTasks)H.operatorListChanged();this._tryCleanup()}if(G.displayReadyCapability)G.displayReadyCapability.reject(j);else{if(!G.opListReadCapability)throw j;G.opListReadCapability.reject(j)}}})};oe()}_abortOperatorList({intentState:g,reason:N,force:d=!1}){if(g.streamReader){if(!d){if(g.renderTasks.size>0)return;if(N instanceof _display_utils.RenderingCancelledException)return void(g.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:g,reason:N,force:!0}),g.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(g.streamReader.cancel(new _util.AbortException(N.message)).catch(()=>{}),g.streamReader=null,!this._transport.destroyed){for(const[q,G]of this._intentStates)if(G===g){this._intentStates.delete(q);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(g,N){const d={data:structuredClone(g,N)};this._deferred.then(()=>{for(const q of this._listeners)q.call(this,d)})}addEventListener(g,N){this._listeners.push(N)}removeEventListener(g,N){const d=this._listeners.indexOf(N);this._listeners.splice(d,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const re=document?.currentScript?.src;re&&(PDFWorkerUtil.fallbackWorkerSrc=re.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(re,g){let N;try{if(N=new URL(re),!N.origin||"null"===N.origin)return!1}catch{return!1}const d=new URL(g,N);return N.origin===d.origin},PDFWorkerUtil.createCDNWrapper=function(re){return URL.createObjectURL(new Blob([`importScripts("${re}");`]))};class _PDFWorker{constructor({name:re=null,port:g=null,verbosity:N=(0,_util.getVerbosityLevel)()}={}){if(g&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(g))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=re,this.destroyed=!1,this.verbosity=N,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,g)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(g,this),void this._initializeFromPort(g);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(re){this._port=re,this._messageHandler=new _message_handler.MessageHandler("main","worker",re),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let re=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,re)||(re=PDFWorkerUtil.createCDNWrapper(new URL(re,window.location).href));const g=new Worker(re),N=new _message_handler.MessageHandler("main","worker",g),d=()=>{g.removeEventListener("error",q),N.destroy(),g.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},q=()=>{this._webWorker||d()};g.addEventListener("error",q),N.on("test",oe=>{g.removeEventListener("error",q),this.destroyed?d():oe?(this._messageHandler=N,this._port=g,this._webWorker=g,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),N.destroy(),g.terminate())}),N.on("ready",oe=>{if(g.removeEventListener("error",q),this.destroyed)d();else try{G()}catch{this._setupFakeWorker()}});const G=()=>{const oe=new Uint8Array;N.send("test",oe,[oe.buffer])};return void G()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(re=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const g=new LoopbackPort;this._port=g;const N="fake"+PDFWorkerUtil.fakeWorkerId++,d=new _message_handler.MessageHandler(N+"_worker",N,g);re.setup(d,g);const q=new _message_handler.MessageHandler(N,N+"_worker",g);this._messageHandler=q,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})}).catch(re=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${re.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(re){if(!re?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(re.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(re.port):new _PDFWorker(re)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function re(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(g,N,d,q){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=g,this.loadingTask=N,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:N.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:q.ownerDocument,styleElement:q.styleElement}),this._params=q,q.useWorkerFetch||(this.CMapReaderFactory=new q.CMapReaderFactory({baseUrl:q.cMapUrl,isCompressed:q.cMapPacked}),this.StandardFontDataFactory=new q.StandardFontDataFactory({baseUrl:q.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=d,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(g,N=_util.AnnotationMode.ENABLE,d=!1){let q=_util.RenderingIntentFlag.DISPLAY,G="";switch(g){case"any":q=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":q=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${g}`)}switch(N){case _util.AnnotationMode.DISABLE:q+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:q+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:q+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,G=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${N}`)}return d&&(q+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:q,cacheKey:`${q}_${G}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const g=[];for(const d of _classPrivateFieldGet(this,_pageCache).values())g.push(d._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const N=this.messageHandler.sendWithPromise("Terminate",null);return g.push(N),Promise.all(g).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:g,loadingTask:N}=this;g.on("GetReader",(d,q)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=G=>{this._lastProgress={loaded:G.loaded,total:G.total}},q.onPull=()=>{this._fullReader.read().then(function({value:G,done:oe}){oe?q.close():((0,_util.assert)((0,_util.isArrayBuffer)(G),"GetReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(G),1,[G]))}).catch(G=>{q.error(G)})},q.onCancel=G=>{this._fullReader.cancel(G),q.ready.catch(oe=>{if(!this.destroyed)throw oe})}}),g.on("ReaderHeadersReady",d=>{const q=(0,_util.createPromiseCapability)(),G=this._fullReader;return G.headersReady.then(()=>{(!G.isStreamingSupported||!G.isRangeSupported)&&(this._lastProgress&&N.onProgress?.(this._lastProgress),G.onProgress=oe=>{N.onProgress?.({loaded:oe.loaded,total:oe.total})}),q.resolve({isStreamingSupported:G.isStreamingSupported,isRangeSupported:G.isRangeSupported,contentLength:G.contentLength})},q.reject),q.promise}),g.on("GetRangeReader",(d,q)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const G=this._networkStream.getRangeReader(d.begin,d.end);G?(q.onPull=()=>{G.read().then(function({value:oe,done:j}){j?q.close():((0,_util.assert)((0,_util.isArrayBuffer)(oe),"GetRangeReader - expected an ArrayBuffer."),q.enqueue(new Uint8Array(oe),1,[oe]))}).catch(oe=>{q.error(oe)})},q.onCancel=oe=>{G.cancel(oe),q.ready.catch(j=>{if(!this.destroyed)throw j})}):q.close()}),g.on("GetDoc",({pdfInfo:d})=>{this._numPages=d.numPages,this._htmlForXfa=d.htmlForXfa,delete d.htmlForXfa,N._capability.resolve(new PDFDocumentProxy(d,this))}),g.on("DocException",function(d){let q;switch(d.name){case"PasswordException":q=new _util.PasswordException(d.message,d.code);break;case"InvalidPDFException":q=new _util.InvalidPDFException(d.message);break;case"MissingPDFException":q=new _util.MissingPDFException(d.message);break;case"UnexpectedResponseException":q=new _util.UnexpectedResponseException(d.message,d.status);break;case"UnknownErrorException":q=new _util.UnknownErrorException(d.message,d.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}N._capability.reject(q)}),g.on("PasswordRequest",d=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),N.onPassword){const q=G=>{G instanceof Error?this._passwordCapability.reject(G):this._passwordCapability.resolve({password:G})};try{N.onPassword(q,d.code)}catch(G){this._passwordCapability.reject(G)}}else this._passwordCapability.reject(new _util.PasswordException(d.message,d.code));return this._passwordCapability.promise}),g.on("DataLoaded",d=>{N.onProgress?.({loaded:d.length,total:d.length}),this.downloadInfoCapability.resolve(d)}),g.on("StartRenderPage",d=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(d.pageIndex)._startRenderPage(d.transparency,d.cacheKey)}),g.on("commonobj",([d,q,G])=>{if(!this.destroyed&&!this.commonObjs.has(d))switch(q){case"Font":const oe=this._params;if("error"in G){const k=G.error;(0,_util.warn)(`Error during font loading: ${k}`),this.commonObjs.resolve(d,k);break}let j=null;oe.pdfBug&&globalThis.FontInspector?.enabled&&(j={registerFont(k,X){globalThis.FontInspector.fontAdded(k,X)}});const H=new _font_loader.FontFaceObject(G,{isEvalSupported:oe.isEvalSupported,disableFontFace:oe.disableFontFace,ignoreErrors:oe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:j});this.fontLoader.bind(H).catch(k=>g.sendWithPromise("FontFallback",{id:d})).finally(()=>{!oe.fontExtraProperties&&H.data&&(H.data=null),this.commonObjs.resolve(d,H)});break;case"FontPath":case"Image":this.commonObjs.resolve(d,G);break;default:throw new Error(`Got unknown common object type ${q}`)}}),g.on("obj",([d,q,G,oe])=>{if(this.destroyed)return;const j=_classPrivateFieldGet(this,_pageCache).get(q);if(!j.objs.has(d))switch(G){case"Image":j.objs.resolve(d,oe);const H=8e6;if(oe){let k;if(oe.bitmap){const{bitmap:X,width:ee,height:se}=oe;k=ee*se*4,j._bitmaps.add(X)}else k=oe.data?.length||0;k>H&&(j.cleanupAfterRender=!0)}break;case"Pattern":j.objs.resolve(d,oe);break;default:throw new Error(`Got unknown object type ${G}`)}}),g.on("DocProgress",d=>{this.destroyed||N.onProgress?.({loaded:d.loaded,total:d.total})}),g.on("DocStats",d=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(d.streamTypes),fontTypes:Object.freeze(d.fontTypes)}))}),g.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),g.on("FetchBuiltInCMap",d=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(d):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),g.on("FetchStandardFontData",d=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(d):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:g}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(g)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(g){if(!Number.isInteger(g)||g<=0||g>this._numPages)return Promise.reject(new Error("Invalid page request."));const N=g-1,d=_classPrivateFieldGet(this,_pagePromises).get(N);if(d)return d;const q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:N}).then(G=>{if(this.destroyed)throw new Error("Transport destroyed");const oe=new PDFPageProxy(N,G,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(N,oe),oe});return _classPrivateFieldGet(this,_pagePromises).set(N,q),q}getPageIndex(g){return"object"!=typeof g||null===g||!Number.isInteger(g.num)||g.num<0||!Number.isInteger(g.gen)||g.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:g.num,gen:g.gen})}getAnnotations(g,N){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:g,intent:N})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(g){return"string"!=typeof g?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:g})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(g){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:g})}getStructTree(g){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:g})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(g=>new _optional_content_config.OptionalContentConfig(g))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(g=>({info:g[0],metadata:g[1]?new _metadata.Metadata(g[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(g=!1){var N=this;return _asyncToGenerator(function*(){if(yield N.messageHandler.sendWithPromise("Cleanup",null),!N.destroyed){for(const d of _classPrivateFieldGet(N,_pageCache).values())if(!d.cleanup())throw new Error(`startCleanup: Page ${d.pageNumber} is currently rendering.`);N.commonObjs.clear(),g||N.fontLoader.clear(),_classPrivateFieldSet(N,_metadataPromise,null),N._getFieldObjectsPromise=null,N._hasJSActionsPromise=null}})()}get loadingParams(){const g=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:g.disableAutoFetch,enableXfa:g.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(g,N=null){if(N){const q=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,g);return q.capability.promise.then(()=>N(q.data)),null}const d=_classPrivateFieldGet(this,_objs)[g];if(!d?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${g}.`);return d.data}has(g){return _classPrivateFieldGet(this,_objs)[g]?.capability.settled||!1}resolve(g,N=null){const d=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,g);d.data=N,d.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(re){return _classPrivateFieldGet(this,_objs)[re]||(_classPrivateFieldGet(this,_objs)[re]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(g){this._internalRenderTask=g,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:g,params:N,objs:d,commonObjs:q,annotationCanvasMap:G,operatorList:oe,pageIndex:j,canvasFactory:H,useRequestAnimationFrame:k=!1,pdfBug:X=!1,pageColors:ee=null}){this.callback=g,this.params=N,this.objs=d,this.commonObjs=q,this.annotationCanvasMap=G,this.operatorListIdx=null,this.operatorList=oe,this._pageIndex=j,this.canvasFactory=H,this._pdfBug=X,this.pageColors=ee,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===k&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=N.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:g=!1,optionalContentConfig:N}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:d,viewport:q,transform:G,imageLayer:oe,background:j}=this.params;this.gfx=new _canvas.CanvasGraphics(d,this.commonObjs,this.objs,this.canvasFactory,oe,N,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:G,viewport:q,transparency:g,background:j}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(g=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(g||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var g=this;return _asyncToGenerator(function*(){g.cancelled||(g.operatorListIdx=g.gfx.executeOperatorList(g.operatorList,g.operatorListIdx,g._continueBound,g.stepper),g.operatorListIdx===g.operatorList.argsArray.length&&(g.running=!1,g.operatorList.lastChunk&&(g.gfx.endDrawing(),g._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(g._canvas),g.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StatTimer=g.RenderingCancelledException=g.PixelsPerInch=g.PageViewport=g.PDFDateString=g.DOMStandardFontDataFactory=g.DOMSVGFactory=g.DOMCanvasFactory=g.DOMCMapReaderFactory=void 0,g.deprecated=function f(M){console.log("Deprecated API usage: "+M)},g.getFilenameFromUrl=function I(M){const S=M.indexOf("#"),v=M.indexOf("?"),$=Math.min(S>0?S:M.length,v>0?v:M.length);return M.substring(M.lastIndexOf("/",$)+1,$)},g.getPdfFilenameFromUrl=function L(M,S="document.pdf"){if("string"!=typeof M)return S;if(T(M))return(0,q.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),S;const $=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(M);let te=$.exec(W[1])||$.exec(W[2])||$.exec(W[3]);if(te&&(te=te[0],te.includes("%")))try{te=$.exec(decodeURIComponent(te))[0]}catch{}return te||S},g.getXfaPageViewport=function D(M,{scale:S=1,rotation:v=0}){const{width:$,height:W}=M.attributes.style,te=[0,0,parseInt($),parseInt(W)];return new Q({viewBox:te,scale:S,rotation:v})},g.isDataScheme=T,g.isPdfFile=function B(M){return"string"==typeof M&&/\.pdf$/i.test(M)},g.isValidFetchUrl=R,g.loadScript=function h(M,S=!1){return new Promise((v,$)=>{const W=document.createElement("script");W.src=M,W.onload=function(te){S&&W.remove(),v(te)},W.onerror=function(){$(new Error(`Cannot load script at: ${W.src}`))},(document.head||document.documentElement).appendChild(W)})};var d=N(6),q=N(1);class oe{}function H(M){return k.apply(this,arguments)}function k(){return(k=_asyncToGenerator(function*(M,S=!1){if(R(M,document.baseURI)){const v=yield fetch(M);if(!v.ok)throw new Error(v.statusText);return S?new Uint8Array(yield v.arrayBuffer()):(0,q.stringToBytes)(yield v.text())}return new Promise((v,$)=>{const W=new XMLHttpRequest;W.open("GET",M,!0),S&&(W.responseType="arraybuffer"),W.onreadystatechange=()=>{if(W.readyState===XMLHttpRequest.DONE){if(200===W.status||0===W.status){let te;if(S&&W.response?te=new Uint8Array(W.response):!S&&W.responseText&&(te=(0,q.stringToBytes)(W.responseText)),te)return void v(te)}$(new Error(W.statusText))}},W.send(null)})})).apply(this,arguments)}_defineProperty(oe,"CSS",96),_defineProperty(oe,"PDF",72),_defineProperty(oe,"PDF_TO_CSS_UNITS",oe.CSS/oe.PDF),g.PixelsPerInch=oe,g.DOMCanvasFactory=class j extends d.BaseCanvasFactory{constructor({ownerDocument:S=globalThis.document}={}){super(),this._document=S}_createCanvas(S,v){const $=this._document.createElement("canvas");return $.width=S,$.height=v,$}},g.DOMCMapReaderFactory=class X extends d.BaseCMapReaderFactory{_fetchData(S,v){return H(S,this.isCompressed).then($=>({cMapData:$,compressionType:v}))}},g.DOMStandardFontDataFactory=class ee extends d.BaseStandardFontDataFactory{_fetchData(S){return H(S,!0)}},g.DOMSVGFactory=class se extends d.BaseSVGFactory{_createSVG(S){return document.createElementNS("http://www.w3.org/2000/svg",S)}};class Q{constructor({viewBox:S,scale:v,rotation:$,offsetX:W=0,offsetY:te=0,dontFlip:ue=!1}){this.viewBox=S,this.scale=v,this.rotation=$,this.offsetX=W,this.offsetY=te;const pe=(S[2]+S[0])/2,me=(S[3]+S[1])/2;let _e,ke,Te,z,m,c,p,b;switch(($%=360)<0&&($+=360),$){case 180:_e=-1,ke=0,Te=0,z=1;break;case 90:_e=0,ke=1,Te=1,z=0;break;case 270:_e=0,ke=-1,Te=-1,z=0;break;case 0:_e=1,ke=0,Te=0,z=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ue&&(Te=-Te,z=-z),0===_e?(m=Math.abs(me-S[1])*v+W,c=Math.abs(pe-S[0])*v+te,p=Math.abs(S[3]-S[1])*v,b=Math.abs(S[2]-S[0])*v):(m=Math.abs(pe-S[0])*v+W,c=Math.abs(me-S[1])*v+te,p=Math.abs(S[2]-S[0])*v,b=Math.abs(S[3]-S[1])*v),this.transform=[_e*v,ke*v,Te*v,z*v,m-_e*v*pe-Te*v*me,c-ke*v*pe-z*v*me],this.width=p,this.height=b}clone({scale:S=this.scale,rotation:v=this.rotation,offsetX:$=this.offsetX,offsetY:W=this.offsetY,dontFlip:te=!1}={}){return new Q({viewBox:this.viewBox.slice(),scale:S,rotation:v,offsetX:$,offsetY:W,dontFlip:te})}convertToViewportPoint(S,v){return q.Util.applyTransform([S,v],this.transform)}convertToViewportRectangle(S){const v=q.Util.applyTransform([S[0],S[1]],this.transform),$=q.Util.applyTransform([S[2],S[3]],this.transform);return[v[0],v[1],$[0],$[1]]}convertToPdfPoint(S,v){return q.Util.applyInverseTransform([S,v],this.transform)}}function T(M){const S=M.length;let v=0;for(;v<S&&""===M[v].trim();)v++;return"data:"===M.substring(v,v+5).toLowerCase()}function R(M,S){try{const{protocol:v}=S?new URL(M,S):new URL(M);return"http:"===v||"https:"===v}catch{return!1}}let w;g.PageViewport=Q,g.RenderingCancelledException=class ie extends q.BaseException{constructor(S,v){super(S,"RenderingCancelledException"),this.type=v}},g.StatTimer=class P{constructor(){this.started=Object.create(null),this.times=[]}time(S){S in this.started&&(0,q.warn)(`Timer is already running for ${S}`),this.started[S]=Date.now()}timeEnd(S){S in this.started||(0,q.warn)(`Timer has not been started for ${S}`),this.times.push({name:S,start:this.started[S],end:Date.now()}),delete this.started[S]}toString(){const S=[];let v=0;for(const $ of this.times){const W=$.name;W.length>v&&(v=W.length)}for(const $ of this.times){const W=$.end-$.start;S.push(`${$.name.padEnd(v)} ${W}ms\n`)}return S.join("")}},g.PDFDateString=class F{static toDateObject(S){if(!S||"string"!=typeof S)return null;w||(w=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const v=w.exec(S);if(!v)return null;const $=parseInt(v[1],10);let W=parseInt(v[2],10);W=W>=1&&W<=12?W-1:0;let te=parseInt(v[3],10);te=te>=1&&te<=31?te:1;let ue=parseInt(v[4],10);ue=ue>=0&&ue<=23?ue:0;let pe=parseInt(v[5],10);pe=pe>=0&&pe<=59?pe:0;let me=parseInt(v[6],10);me=me>=0&&me<=59?me:0;const _e=v[7]||"Z";let ke=parseInt(v[8],10);ke=ke>=0&&ke<=23?ke:0;let Te=parseInt(v[9],10)||0;return Te=Te>=0&&Te<=59?Te:0,"-"===_e?(ue+=ke,pe+=Te):"+"===_e&&(ue-=ke,pe-=Te),new Date(Date.UTC($,W,te,ue,pe,me))}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BaseStandardFontDataFactory=g.BaseSVGFactory=g.BaseCanvasFactory=g.BaseCMapReaderFactory=void 0;var d=N(1);class q{constructor(){this.constructor===q&&(0,d.unreachable)("Cannot initialize BaseCanvasFactory.")}create(k,X){if(k<=0||X<=0)throw new Error("Invalid canvas size");const ee=this._createCanvas(k,X);return{canvas:ee,context:ee.getContext("2d")}}reset(k,X,ee){if(!k.canvas)throw new Error("Canvas is not specified");if(X<=0||ee<=0)throw new Error("Invalid canvas size");k.canvas.width=X,k.canvas.height=ee}destroy(k){if(!k.canvas)throw new Error("Canvas is not specified");k.canvas.width=0,k.canvas.height=0,k.canvas=null,k.context=null}_createCanvas(k,X){(0,d.unreachable)("Abstract method `_createCanvas` called.")}}g.BaseCanvasFactory=q;class G{constructor({baseUrl:k=null,isCompressed:X=!1}){this.constructor===G&&(0,d.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=k,this.isCompressed=X}fetch({name:k}){var X=this;return _asyncToGenerator(function*(){if(!X.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!k)throw new Error("CMap name must be specified.");const ee=X.baseUrl+k+(X.isCompressed?".bcmap":"");return X._fetchData(ee,X.isCompressed?d.CMapCompressionType.BINARY:d.CMapCompressionType.NONE).catch(Q=>{throw new Error(`Unable to load ${X.isCompressed?"binary ":""}CMap at: ${ee}`)})})()}_fetchData(k,X){(0,d.unreachable)("Abstract method `_fetchData` called.")}}g.BaseCMapReaderFactory=G;class oe{constructor({baseUrl:k=null}){this.constructor===oe&&(0,d.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=k}fetch({filename:k}){var X=this;return _asyncToGenerator(function*(){if(!X.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!k)throw new Error("Font filename must be specified.");const ee=`${X.baseUrl}${k}`;return X._fetchData(ee).catch(se=>{throw new Error(`Unable to load font data at: ${ee}`)})})()}_fetchData(k){(0,d.unreachable)("Abstract method `_fetchData` called.")}}g.BaseStandardFontDataFactory=oe;class j{constructor(){this.constructor===j&&(0,d.unreachable)("Cannot initialize BaseSVGFactory.")}create(k,X){if(k<=0||X<=0)throw new Error("Invalid SVG dimensions");const ee=this._createSVG("svg:svg");return ee.setAttribute("version","1.1"),ee.setAttribute("width",`${k}px`),ee.setAttribute("height",`${X}px`),ee.setAttribute("preserveAspectRatio","none"),ee.setAttribute("viewBox",`0 0 ${k} ${X}`),ee}createElement(k){if("string"!=typeof k)throw new Error("Invalid SVG element type");return this._createSVG(k)}_createSVG(k){(0,d.unreachable)("Abstract method `_createSVG` called.")}}g.BaseSVGFactory=j},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.FontLoader=g.FontFaceObject=void 0;var d=N(1);class q{constructor({docId:H,onUnsupportedFeature:k,ownerDocument:X=globalThis.document,styleElement:ee=null}){this.constructor===q&&(0,d.unreachable)("Cannot initialize BaseFontLoader."),this.docId=H,this._onUnsupportedFeature=k,this._document=X,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(H){this.nativeFontFaces.push(H),this._document.fonts.add(H)}insertRule(H){let k=this.styleElement;k||(k=this.styleElement=this._document.createElement("style"),k.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(k));const X=k.sheet;X.insertRule(H,X.cssRules.length)}clear(){for(const H of this.nativeFontFaces)this._document.fonts.delete(H);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(H){var k=this;return _asyncToGenerator(function*(){if(H.attached||H.missingFile)return;if(H.attached=!0,k.isFontLoadingAPISupported){const ee=H.createNativeFontFace();if(ee){k.addNativeFontFace(ee);try{yield ee.loaded}catch(se){throw k._onUnsupportedFeature({featureId:d.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,d.warn)(`Failed to load font '${ee.family}': '${se}'.`),H.disableFontFace=!0,se}}return}const X=H.createFontFaceRule();if(X){if(k.insertRule(X),k.isSyncFontLoadingSupported)return;yield new Promise(ee=>{const se=k._queueLoadingCallback(ee);k._prepareFontLoadEvent([X],[H],se)})}})()}_queueLoadingCallback(H){(0,d.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,d.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,d.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,d.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(H,k,X){(0,d.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let G;g.FontLoader=G,g.FontLoader=G=class extends q{constructor(H){super(H),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let H=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(H=!0),(0,d.shadow)(this,"isSyncFontLoadingSupported",H)}_queueLoadingCallback(H){const X=this.loadingContext,ee={id:"pdfjs-font-loading-"+X.nextRequestId++,done:!1,complete:function k(){for((0,d.assert)(!ee.done,"completeRequest() cannot be called twice."),ee.done=!0;X.requests.length>0&&X.requests[0].done;){const se=X.requests.shift();setTimeout(se.callback,0)}},callback:H};return X.requests.push(ee),ee}get _loadTestFont(){return(0,d.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(H,k,X){function ee($,W){return $.charCodeAt(W)<<24|$.charCodeAt(W+1)<<16|$.charCodeAt(W+2)<<8|255&$.charCodeAt(W+3)}function se($,W,te,ue){return $.substring(0,W)+ue+$.substring(W+te)}let Q,ie;const T=this._document.createElement("canvas");T.width=1,T.height=1;const B=T.getContext("2d");let I=0;const P=`lt${Date.now()}${this.loadTestFontId++}`;let R=this._loadTestFont;R=se(R,976,P.length,P);const w=1482184792;let F=ee(R,16);for(Q=0,ie=P.length-3;Q<ie;Q+=4)F=F-w+ee(P,Q)|0;Q<P.length&&(F=F-w+ee(P+"XXX",Q)|0),R=se(R,16,4,(0,d.string32)(F));const D=`url(data:font/opentype;base64,${btoa(R)});`;this.insertRule(`@font-face {font-family:"${P}";src:${D}}`);const S=[];for(const $ of k)S.push($.loadedName);S.push(P);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const $ of S){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=$,v.appendChild(W)}this._document.body.appendChild(v),function L($,W){if(I++,I>30)return(0,d.warn)("Load test font never loaded."),void W();B.font="30px "+$,B.fillText(".",0,20),B.getImageData(0,0,1,1).data[3]>0?W():setTimeout(L.bind(null,$,W))}(P,()=>{v.remove(),X.complete()})}},g.FontFaceObject=class oe{constructor(H,{isEvalSupported:k=!0,disableFontFace:X=!1,ignoreErrors:ee=!1,onUnsupportedFeature:se,fontRegistry:Q=null}){this.compiledGlyphs=Object.create(null);for(const ie in H)this[ie]=H[ie];this.isEvalSupported=!1!==k,this.disableFontFace=!0===X,this.ignoreErrors=!0===ee,this._onUnsupportedFeature=se,this.fontRegistry=Q}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let H;if(this.cssFontInfo){const k={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(k.style=`oblique ${this.cssFontInfo.italicAngle}deg`),H=new FontFace(this.cssFontInfo.fontFamily,this.data,k)}else H=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),H}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const H=(0,d.bytesToString)(this.data),k=`url(data:${this.mimetype};base64,${btoa(H)});`;let X;if(this.cssFontInfo){let ee=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ee+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),X=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ee}src:${k}}`}else X=`@font-face {font-family:"${this.loadedName}";src:${k}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,k),X}getPathGenerator(H,k){if(void 0!==this.compiledGlyphs[k])return this.compiledGlyphs[k];let X;try{X=H.get(this.loadedName+"_path_"+k)}catch(ee){if(!this.ignoreErrors)throw ee;return this._onUnsupportedFeature({featureId:d.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,d.warn)(`getPathGenerator - ignoring character: "${ee}".`),this.compiledGlyphs[k]=function(se,Q){}}if(this.isEvalSupported&&d.FeatureTest.isEvalSupported){const ee=[];for(const se of X){const Q=void 0!==se.args?se.args.join(","):"";ee.push("c.",se.cmd,"(",Q,");\n")}return this.compiledGlyphs[k]=new Function("c","size",ee.join(""))}return this.compiledGlyphs[k]=function(ee,se){for(const Q of X)"scale"===Q.cmd&&(Q.args=[se,-se]),ee[Q.cmd].apply(ee,Q.args)}}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationStorage=void 0;var d=N(9),q=N(1);g.AnnotationStorage=class G{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(j,H){const k=this._storage.get(j);return void 0===k?H:Object.assign(H,k)}getRawValue(j){return this._storage.get(j)}setValue(j,H){const k=this._storage.get(j);let X=!1;if(void 0!==k)for(const[ee,se]of Object.entries(H))k[ee]!==se&&(X=!0,k[ee]=se);else X=!0,this._storage.set(j,H);X&&this._setModified()}getAll(){return this._storage.size>0?(0,q.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const j=new d.MurmurHash3_64;for(const[H,k]of this._storage)j.update(`${H}:${JSON.stringify(k)}`);return j.hexdigest()}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.MurmurHash3_64=void 0;var d=N(1);const q=3285377520,G=4294901760,oe=65535;g.MurmurHash3_64=class j{constructor(k){this.h1=k?4294967295&k:q,this.h2=k?4294967295&k:q}update(k){let X,ee;if("string"==typeof k){X=new Uint8Array(2*k.length),ee=0;for(let w=0,F=k.length;w<F;w++){const D=k.charCodeAt(w);D<=255?X[ee++]=D:(X[ee++]=D>>>8,X[ee++]=255&D)}}else{if(!(0,d.isArrayBuffer)(k))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");X=k.slice(),ee=X.byteLength}const se=ee>>2,Q=ee-4*se,ie=new Uint32Array(X.buffer,0,se);let T=0,B=0,I=this.h1,L=this.h2;const P=3432918353,R=461845907,h=P&oe,f=R&oe;for(let w=0;w<se;w++)1&w?(T=ie[w],T=T*P&G|T*h&oe,T=T<<15|T>>>17,T=T*R&G|T*f&oe,I^=T,I=I<<13|I>>>19,I=5*I+3864292196):(B=ie[w],B=B*P&G|B*h&oe,B=B<<15|B>>>17,B=B*R&G|B*f&oe,L^=B,L=L<<13|L>>>19,L=5*L+3864292196);switch(T=0,Q){case 3:T^=X[4*se+2]<<16;case 2:T^=X[4*se+1]<<8;case 1:T^=X[4*se],T=T*P&G|T*h&oe,T=T<<15|T>>>17,T=T*R&G|T*f&oe,1&se?I^=T:L^=T}this.h1=I,this.h2=L}hexdigest(){let k=this.h1,X=this.h2;k^=X>>>1,k=3981806797*k&G|36045*k&oe,X=4283543511*X&G|(2950163797*(X<<16|k>>>16)&G)>>>16,k^=X>>>1,k=444984403*k&G|60499*k&oe,X=3301882366*X&G|(3120437893*(X<<16|k>>>16)&G)>>>16,k^=X>>>1;const ee=(k>>>0).toString(16),se=(X>>>0).toString(16);return ee.padStart(8,"0")+se.padStart(8,"0")}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CanvasGraphics=void 0;var d=N(1),q=N(11),G=N(12),oe=N(3),j=N(5);const X=4096,T=16;function L(z){if(z._transformStack&&(z._transformStack=[]),!z.mozCurrentTransform){z._originalSave=z.save,z._originalRestore=z.restore,z._originalRotate=z.rotate,z._originalScale=z.scale,z._originalTranslate=z.translate,z._originalTransform=z.transform,z._originalSetTransform=z.setTransform,z._originalResetTransform=z.resetTransform,z._transformMatrix=z._transformMatrix||[1,0,0,1,0,0],z._transformStack=[];try{const m=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(z),"lineWidth");z._setLineWidth=m.set,z._getLineWidth=m.get,Object.defineProperty(z,"lineWidth",{set:function(p){this._setLineWidth(1.000001*p)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(z,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(z,"mozCurrentTransformInverse",{get:function(){const[c,p,b,E,C,y]=this._transformMatrix,O=c*E-p*b,le=p*b-c*E;return[E/O,p/le,b/le,c/O,(E*C-b*y)/le,(p*C-c*y)/O]}}),z.save=function(){const c=this._transformMatrix;this._transformStack.push(c),this._transformMatrix=c.slice(0,6),this._originalSave()},z.restore=function(){0===this._transformStack.length&&(0,d.warn)("Tried to restore a ctx when the stack was already empty.");const c=this._transformStack.pop();c&&(this._transformMatrix=c,this._originalRestore())},z.translate=function(c,p){const b=this._transformMatrix;b[4]=b[0]*c+b[2]*p+b[4],b[5]=b[1]*c+b[3]*p+b[5],this._originalTranslate(c,p)},z.scale=function(c,p){const b=this._transformMatrix;b[0]*=c,b[1]*=c,b[2]*=p,b[3]*=p,this._originalScale(c,p)},z.transform=function(c,p,b,E,C,y){const O=this._transformMatrix;this._transformMatrix=[O[0]*c+O[2]*p,O[1]*c+O[3]*p,O[0]*b+O[2]*E,O[1]*b+O[3]*E,O[0]*C+O[2]*y+O[4],O[1]*C+O[3]*y+O[5]],z._originalTransform(c,p,b,E,C,y)},z.setTransform=function(c,p,b,E,C,y){this._transformMatrix=[c,p,b,E,C,y],z._originalSetTransform(c,p,b,E,C,y)},z.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],z._originalResetTransform()},z.rotate=function(c){const p=Math.cos(c),b=Math.sin(c),E=this._transformMatrix;this._transformMatrix=[E[0]*p+E[2]*b,E[1]*p+E[3]*b,E[0]*-b+E[2]*p,E[1]*-b+E[3]*p,E[4],E[5]],this._originalRotate(c)}}}class P{constructor(m){this.canvasFactory=m,this.cache=Object.create(null)}getCanvas(m,c,p,b){let E;return void 0!==this.cache[m]?(E=this.cache[m],this.canvasFactory.reset(E,c,p),E.context.setTransform(1,0,0,1,0,0)):(E=this.canvasFactory.create(c,p),this.cache[m]=E),b&&L(E.context),E}delete(m){delete this.cache[m]}clear(){for(const m in this.cache)this.canvasFactory.destroy(this.cache[m]),delete this.cache[m]}}function R(z,m,c,p,b,E,C,y,O,le){const[J,he,de,be,ye,Re]=z.mozCurrentTransform;if(0===he&&0===de){const xe=Math.round(C*J+ye),Ze=Math.round(y*be+Re),De=Math.abs(Math.round((C+O)*J+ye)-xe)||1,Ue=Math.abs(Math.round((y+le)*be+Re)-Ze)||1;return z.setTransform(Math.sign(J),0,0,Math.sign(be),xe,Ze),z.drawImage(m,c,p,b,E,0,0,De,Ue),z.setTransform(J,he,de,be,ye,Re),[De,Ue]}if(0===J&&0===be){const xe=Math.round(y*de+ye),Ze=Math.round(C*he+Re),De=Math.abs(Math.round((y+le)*de+ye)-xe)||1,Ue=Math.abs(Math.round((C+O)*he+Re)-Ze)||1;return z.setTransform(0,Math.sign(he),Math.sign(de),0,xe,Ze),z.drawImage(m,c,p,b,E,0,0,Ue,De),z.setTransform(J,he,de,be,ye,Re),[Ue,De]}return z.drawImage(m,c,p,b,E,C,y,O,le),[Math.hypot(J,he)*O,Math.hypot(de,be)*le]}class f{constructor(m,c){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,m,c])}clone(){const m=Object.create(this);return m.clipBox=this.clipBox.slice(),m}setCurrentPoint(m,c){this.x=m,this.y=c}updatePathMinMax(m,c,p){[c,p]=d.Util.applyTransform([c,p],m),this.minX=Math.min(this.minX,c),this.minY=Math.min(this.minY,p),this.maxX=Math.max(this.maxX,c),this.maxY=Math.max(this.maxY,p)}updateRectMinMax(m,c){const p=d.Util.applyTransform(c,m),b=d.Util.applyTransform(c.slice(2),m);this.minX=Math.min(this.minX,p[0],b[0]),this.minY=Math.min(this.minY,p[1],b[1]),this.maxX=Math.max(this.maxX,p[0],b[0]),this.maxY=Math.max(this.maxY,p[1],b[1])}updateScalingPathMinMax(m,c){d.Util.scaleMinMax(m,c),this.minX=Math.min(this.minX,c[0]),this.maxX=Math.max(this.maxX,c[1]),this.minY=Math.min(this.minY,c[2]),this.maxY=Math.max(this.maxY,c[3])}updateCurvePathMinMax(m,c,p,b,E,C,y,O,le,J){const he=d.Util.bezierBoundingBox(c,p,b,E,C,y,O,le);if(J)return J[0]=Math.min(J[0],he[0],he[2]),J[1]=Math.max(J[1],he[0],he[2]),J[2]=Math.min(J[2],he[1],he[3]),void(J[3]=Math.max(J[3],he[1],he[3]));this.updateRectMinMax(m,he)}getPathBoundingBox(m=q.PathType.FILL,c=null){const p=[this.minX,this.minY,this.maxX,this.maxY];if(m===q.PathType.STROKE){c||(0,d.unreachable)("Stroke bounding box must include transform.");const b=d.Util.singularValueDecompose2dScale(c),E=b[0]*this.lineWidth/2,C=b[1]*this.lineWidth/2;p[0]-=E,p[1]-=C,p[2]+=E,p[3]+=C}return p}updateClipFromPath(){const m=d.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(m||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(m){this.clipBox=m,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(m=q.PathType.FILL,c=null){return d.Util.intersect(this.clipBox,this.getPathBoundingBox(m,c))}}function w(z,m,c=null){if(typeof ImageData<"u"&&m instanceof ImageData)return void z.putImageData(m,0,0);const p=m.height,b=m.width,E=p%T,C=(p-E)/T,y=0===E?C:C+1,O=z.createImageData(b,T);let J,le=0;const he=m.data,de=O.data;let be,ye,Re,Ve,We,He,xe,et;if(c)switch(c.length){case 1:We=c[0],He=c[0],xe=c[0],et=c[0];break;case 4:We=c[0],He=c[1],xe=c[2],et=c[3]}if(m.kind===d.ImageKind.GRAYSCALE_1BPP){const Ze=he.byteLength,je=new Uint32Array(de.buffer,0,de.byteLength>>2),De=je.length,Fe=b+7>>3;let Ue=4294967295,ve=d.FeatureTest.isLittleEndian?4278190080:255;for(et&&255===et[0]&&0===et[255]&&([Ue,ve]=[ve,Ue]),be=0;be<y;be++){for(Re=be<C?T:E,J=0,ye=0;ye<Re;ye++){const U=Ze-le;let fe=0;const Me=U>Fe?b:8*U-7,Be=-8&Me;let ae=0,K=0;for(;fe<Be;fe+=8)K=he[le++],je[J++]=128&K?Ue:ve,je[J++]=64&K?Ue:ve,je[J++]=32&K?Ue:ve,je[J++]=16&K?Ue:ve,je[J++]=8&K?Ue:ve,je[J++]=4&K?Ue:ve,je[J++]=2&K?Ue:ve,je[J++]=1&K?Ue:ve;for(;fe<Me;fe++)0===ae&&(K=he[le++],ae=128),je[J++]=K&ae?Ue:ve,ae>>=1}for(;J<De;)je[J++]=0;z.putImageData(O,0,be*T)}}else if(m.kind===d.ImageKind.RGBA_32BPP){const Ze=!!(We||He||xe);for(ye=0,Ve=b*T*4,be=0;be<C;be++){if(de.set(he.subarray(le,le+Ve)),le+=Ve,Ze)for(let je=0;je<Ve;je+=4)We&&(de[je+0]=We[de[je+0]]),He&&(de[je+1]=He[de[je+1]]),xe&&(de[je+2]=xe[de[je+2]]);z.putImageData(O,0,ye),ye+=T}if(be<y){if(Ve=b*E*4,de.set(he.subarray(le,le+Ve)),Ze)for(let je=0;je<Ve;je+=4)We&&(de[je+0]=We[de[je+0]]),He&&(de[je+1]=He[de[je+1]]),xe&&(de[je+2]=xe[de[je+2]]);z.putImageData(O,0,ye)}}else{if(m.kind!==d.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${m.kind}`);{const Ze=!!(We||He||xe);for(Re=T,Ve=b*Re,be=0;be<y;be++){for(be>=C&&(Re=E,Ve=b*Re),J=0,ye=Ve;ye--;)de[J++]=he[le++],de[J++]=he[le++],de[J++]=he[le++],de[J++]=255;if(Ze)for(let je=0;je<J;je+=4)We&&(de[je+0]=We[de[je+0]]),He&&(de[je+1]=He[de[je+1]]),xe&&(de[je+2]=xe[de[je+2]]);z.putImageData(O,0,be*T)}}}}function F(z,m){if(m.bitmap)return void z.drawImage(m.bitmap,0,0);const c=m.height,p=m.width,b=c%T,E=(c-b)/T,C=0===b?E:E+1,y=z.createImageData(p,T);let O=0;const le=m.data,J=y.data;for(let he=0;he<C;he++){const de=he<E?T:b;({srcPos:O}=(0,G.applyMaskImageData)({src:le,srcPos:O,dest:J,width:p,height:de})),z.putImageData(y,0,he*T)}}function D(z,m){const c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let p=0,b=c.length;p<b;p++){const E=c[p];void 0!==z[E]&&(m[E]=z[E])}void 0!==z.setLineDash&&(m.setLineDash(z.getLineDash()),m.lineDashOffset=z.lineDashOffset)}function M(z,m){z.strokeStyle=z.fillStyle=m||"#000000",z.fillRule="nonzero",z.globalAlpha=1,z.lineWidth=1,z.lineCap="butt",z.lineJoin="miter",z.miterLimit=10,z.globalCompositeOperation="source-over",z.font="10px sans-serif",void 0!==z.setLineDash&&(z.setLineDash([]),z.lineDashOffset=0)}function S(z,m,c,p){const b=z.length;for(let E=3;E<b;E+=4){const C=z[E];if(0===C)z[E-3]=m,z[E-2]=c,z[E-1]=p;else if(C<255){const y=255-C;z[E-3]=z[E-3]*C+m*y>>8,z[E-2]=z[E-2]*C+c*y>>8,z[E-1]=z[E-1]*C+p*y>>8}}}function v(z,m,c){const p=z.length;for(let E=3;E<p;E+=4)m[E]=m[E]*(c?c[z[E]]:z[E])*.00392156862745098|0}function $(z,m,c){const p=z.length;for(let b=3;b<p;b+=4){const E=77*z[b-3]+152*z[b-2]+28*z[b-1];m[b]=c?m[b]*c[E>>8]>>8:m[b]*E>>16}}function ue(z,m){const c=d.Util.singularValueDecompose2dScale(z);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);const p=Math.fround((globalThis.devicePixelRatio||1)*j.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==m?m:c[0]<=p||c[1]<=p}const pe=["butt","round","square"],me=["miter","round","bevel"],_e={},ke={};class Te{constructor(m,c,p,b,E,C,y,O){this.ctx=m,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=p,this.canvasFactory=b,this.imageLayer=E,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=C,this.cachedCanvases=new P(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=y,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=O?.background||null,this.foregroundColor=O?.foreground||null,m&&L(m),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(m,c=null){return"string"==typeof m?m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m):c}beginDrawing({transform:m,viewport:c,transparency:p=!1,background:b=null}){const E=this.ctx.canvas.width,C=this.ctx.canvas.height,y=b||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const O=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const le=this.backgroundColor=this.ctx.fillStyle;let J=!0,he=y;if(this.ctx.fillStyle=y,he=this.ctx.fillStyle,J="string"==typeof he&&/^#[0-9A-Fa-f]{6}$/.test(he),"#000000"===O&&"#ffffff"===le||O===le||!J)this.foregroundColor=this.backgroundColor=null;else{const de=parseInt(he.slice(1),16),ye=(de&&65280)>>8,Re=de&&255,Ve=He=>(He/=255)<=.03928?He/12.92:((He+.055)/1.055)**2.4,We=Math.round(.2126*Ve((de&&16711680)>>16)+.7152*Ve(ye)+.0722*Ve(Re));this.selectColor=(He,xe,et)=>{const Ze=.2126*Ve(He)+.7152*Ve(xe)+.0722*Ve(et);return Math.round(Ze)===We?le:O}}}if(this.ctx.fillStyle=this.backgroundColor||y,this.ctx.fillRect(0,0,E,C),this.ctx.restore(),p){const O=this.cachedCanvases.getCanvas("transparent",E,C,!0);this.compositeCtx=this.ctx,this.transparentCanvas=O.canvas,this.ctx=O.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),M(this.ctx,this.foregroundColor),m&&(this.ctx.transform.apply(this.ctx,m),this.outputScaleX=m[0],this.outputScaleY=m[0]),this.ctx.transform.apply(this.ctx,c.transform),this.viewportScale=c.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(m,c,p,b){const E=m.argsArray,C=m.fnArray;let y=c||0;const O=E.length;if(O===y)return y;const le=O-y>10&&"function"==typeof p,J=le?Date.now()+15:0;let he=0;const de=this.commonObjs,be=this.objs;let ye;for(;;){if(void 0!==b&&y===b.nextBreakPoint)return b.breakIt(y,p),y;if(ye=C[y],ye!==d.OPS.dependency)this[ye].apply(this,E[y]);else for(const Re of E[y]){const Ve=Re.startsWith("g_")?de:be;if(!Ve.has(Re))return Ve.get(Re,p),y}if(y++,y===O)return y;if(le&&++he>10){if(Date.now()>J)return p(),y;he=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const m of this._cachedBitmapsMap.values()){for(const c of m.values())typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&(c.width=c.height=0);m.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(m,c){const p=m.width,b=m.height;let J,he,E=Math.max(Math.hypot(c[0],c[1]),1),C=Math.max(Math.hypot(c[2],c[3]),1),y=p,O=b,le="prescale1";for(;E>2&&y>1||C>2&&O>1;){let de=y,be=O;E>2&&y>1&&(de=Math.ceil(y/2),E/=y/de),C>2&&O>1&&(be=Math.ceil(O/2),C/=O/be),J=this.cachedCanvases.getCanvas(le,de,be,!1),he=J.context,he.clearRect(0,0,de,be),he.drawImage(m,0,0,y,O,0,0,de,be),m=J.canvas,y=de,O=be,le="prescale1"===le?"prescale2":"prescale1"}return{img:m,paintWidth:y,paintHeight:O}}_createMaskCanvas(m){const c=this.ctx,{width:p,height:b}=m,E=this.current.fillColor,C=this.current.patternFill,y=c.mozCurrentTransform;let O,le,J,he;if((m.bitmap||m.data)&&m.count>1){const De=m.bitmap||m.data.buffer,Fe=y.slice(0,4);le=JSON.stringify(C?Fe:[Fe,E]),O=this._cachedBitmapsMap.get(De),O||(O=new Map,this._cachedBitmapsMap.set(De,O));const Ue=O.get(le);if(Ue&&!C)return{canvas:Ue,offsetX:Math.round(Math.min(y[0],y[2])+y[4]),offsetY:Math.round(Math.min(y[1],y[3])+y[5])};J=Ue}J||(he=this.cachedCanvases.getCanvas("maskCanvas",p,b,!1),F(he.context,m));let de=d.Util.transform(y,[1/p,0,0,-1/b,0,0]);de=d.Util.transform(de,[1,0,0,1,0,-b]);const be=d.Util.applyTransform([0,0],de),ye=d.Util.applyTransform([p,b],de),Re=d.Util.normalizeRect([be[0],be[1],ye[0],ye[1]]),Ve=Math.round(Re[2]-Re[0])||1,We=Math.round(Re[3]-Re[1])||1,He=this.cachedCanvases.getCanvas("fillCanvas",Ve,We,!0),xe=He.context,et=Math.min(be[0],ye[0]),Ze=Math.min(be[1],ye[1]);xe.translate(-et,-Ze),xe.transform.apply(xe,de),J||(J=this._scaleImage(he.canvas,xe.mozCurrentTransformInverse),J=J.img,O&&C&&O.set(le,J)),xe.imageSmoothingEnabled=ue(xe.mozCurrentTransform,m.interpolate),R(xe,J,0,0,J.width,J.height,0,0,p,b),xe.globalCompositeOperation="source-in";const je=d.Util.transform(xe.mozCurrentTransformInverse,[1,0,0,1,-et,-Ze]);return xe.fillStyle=C?E.getPattern(c,this,je,q.PathType.FILL):E,xe.fillRect(0,0,p,b),O&&!C&&(this.cachedCanvases.delete("fillCanvas"),O.set(le,He.canvas)),{canvas:He.canvas,offsetX:Math.round(et),offsetY:Math.round(Ze)}}setLineWidth(m){m!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=m,this.ctx.lineWidth=m}setLineCap(m){this.ctx.lineCap=pe[m]}setLineJoin(m){this.ctx.lineJoin=me[m]}setMiterLimit(m){this.ctx.miterLimit=m}setDash(m,c){const p=this.ctx;void 0!==p.setLineDash&&(p.setLineDash(m),p.lineDashOffset=c)}setRenderingIntent(m){}setFlatness(m){}setGState(m){for(let c=0,p=m.length;c<p;c++){const b=m[c],C=b[1];switch(b[0]){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=C}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const m=this.inSMaskMode;this.current.activeSMask&&!m?this.beginSMaskMode():!this.current.activeSMask&&m&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=b.context;const E=this.ctx;E.setTransform.apply(E,this.suspendedCtx.mozCurrentTransform),D(this.suspendedCtx,E),function I(z,m){if(z._removeMirroring)throw new Error("Context is already forwarding operations.");z.__originalSave=z.save,z.__originalRestore=z.restore,z.__originalRotate=z.rotate,z.__originalScale=z.scale,z.__originalTranslate=z.translate,z.__originalTransform=z.transform,z.__originalSetTransform=z.setTransform,z.__originalResetTransform=z.resetTransform,z.__originalClip=z.clip,z.__originalMoveTo=z.moveTo,z.__originalLineTo=z.lineTo,z.__originalBezierCurveTo=z.bezierCurveTo,z.__originalRect=z.rect,z.__originalClosePath=z.closePath,z.__originalBeginPath=z.beginPath,z._removeMirroring=()=>{z.save=z.__originalSave,z.restore=z.__originalRestore,z.rotate=z.__originalRotate,z.scale=z.__originalScale,z.translate=z.__originalTranslate,z.transform=z.__originalTransform,z.setTransform=z.__originalSetTransform,z.resetTransform=z.__originalResetTransform,z.clip=z.__originalClip,z.moveTo=z.__originalMoveTo,z.lineTo=z.__originalLineTo,z.bezierCurveTo=z.__originalBezierCurveTo,z.rect=z.__originalRect,z.closePath=z.__originalClosePath,z.beginPath=z.__originalBeginPath,delete z._removeMirroring},z.save=function(){m.save(),this.__originalSave()},z.restore=function(){m.restore(),this.__originalRestore()},z.translate=function(p,b){m.translate(p,b),this.__originalTranslate(p,b)},z.scale=function(p,b){m.scale(p,b),this.__originalScale(p,b)},z.transform=function(p,b,E,C,y,O){m.transform(p,b,E,C,y,O),this.__originalTransform(p,b,E,C,y,O)},z.setTransform=function(p,b,E,C,y,O){m.setTransform(p,b,E,C,y,O),this.__originalSetTransform(p,b,E,C,y,O)},z.resetTransform=function(){m.resetTransform(),this.__originalResetTransform()},z.rotate=function(p){m.rotate(p),this.__originalRotate(p)},z.clip=function(p){m.clip(p),this.__originalClip(p)},z.moveTo=function(c,p){m.moveTo(c,p),this.__originalMoveTo(c,p)},z.lineTo=function(c,p){m.lineTo(c,p),this.__originalLineTo(c,p)},z.bezierCurveTo=function(c,p,b,E,C,y){m.bezierCurveTo(c,p,b,E,C,y),this.__originalBezierCurveTo(c,p,b,E,C,y)},z.rect=function(c,p,b,E){m.rect(c,p,b,E),this.__originalRect(c,p,b,E)},z.closePath=function(){m.closePath(),this.__originalClosePath()},z.beginPath=function(){m.beginPath(),this.__originalBeginPath()}}(E,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(m){this.current.activeSMask&&(m?(m[0]=Math.floor(m[0]),m[1]=Math.floor(m[1]),m[2]=Math.ceil(m[2]),m[3]=Math.ceil(m[3])):m=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function te(z,m,c,p){const b=p[0],E=p[1],C=p[2]-b,y=p[3]-E;0===C||0===y||(function W(z,m,c,p,b,E,C,y,O,le,J){const he=!!E,de=he?E[0]:0,be=he?E[1]:0,ye=he?E[2]:0;let Re;Re="Luminosity"===b?$:v;const We=Math.min(p,Math.ceil(1048576/c));for(let He=0;He<p;He+=We){const xe=Math.min(We,p-He),et=z.getImageData(y-le,He+(O-J),c,xe),Ze=m.getImageData(y,He+O,c,xe);he&&S(et.data,de,be,ye),Re(et.data,Ze.data,C),m.putImageData(Ze,y,He+O)}}(m.context,c,C,y,m.subtype,m.backdrop,m.transferMap,b,E,m.offsetX,m.offsetY),z.save(),z.globalAlpha=1,z.globalCompositeOperation="source-over",z.setTransform(1,0,0,1,0,0),z.drawImage(c.canvas,0,0),z.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,m),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(D(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const m=this.current;this.stateStack.push(m),this.current=m.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),D(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(m,c,p,b,E,C){this.ctx.transform(m,c,p,b,E,C),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(m,c,p){const b=this.ctx,E=this.current;let O,le,C=E.x,y=E.y;const J=b.mozCurrentTransform,he=0===J[0]&&0===J[3]||0===J[1]&&0===J[2],de=he?p.slice(0):null;for(let be=0,ye=0,Re=m.length;be<Re;be++)switch(0|m[be]){case d.OPS.rectangle:C=c[ye++],y=c[ye++];const Ve=c[ye++],We=c[ye++],He=C+Ve,xe=y+We;b.moveTo(C,y),0===Ve||0===We?b.lineTo(He,xe):(b.lineTo(He,y),b.lineTo(He,xe),b.lineTo(C,xe)),he||E.updateRectMinMax(J,[C,y,He,xe]),b.closePath();break;case d.OPS.moveTo:C=c[ye++],y=c[ye++],b.moveTo(C,y),he||E.updatePathMinMax(J,C,y);break;case d.OPS.lineTo:C=c[ye++],y=c[ye++],b.lineTo(C,y),he||E.updatePathMinMax(J,C,y);break;case d.OPS.curveTo:O=C,le=y,C=c[ye+4],y=c[ye+5],b.bezierCurveTo(c[ye],c[ye+1],c[ye+2],c[ye+3],C,y),E.updateCurvePathMinMax(J,O,le,c[ye],c[ye+1],c[ye+2],c[ye+3],C,y,de),ye+=6;break;case d.OPS.curveTo2:O=C,le=y,b.bezierCurveTo(C,y,c[ye],c[ye+1],c[ye+2],c[ye+3]),E.updateCurvePathMinMax(J,O,le,C,y,c[ye],c[ye+1],c[ye+2],c[ye+3],de),C=c[ye+2],y=c[ye+3],ye+=4;break;case d.OPS.curveTo3:O=C,le=y,C=c[ye+2],y=c[ye+3],b.bezierCurveTo(c[ye],c[ye+1],C,y,C,y),E.updateCurvePathMinMax(J,O,le,c[ye],c[ye+1],C,y,C,y,de),ye+=4;break;case d.OPS.closePath:b.closePath()}he&&E.updateScalingPathMinMax(J,de),E.setCurrentPoint(C,y)}closePath(){this.ctx.closePath()}stroke(m){m=!(typeof m<"u")||m;const c=this.ctx,p=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof p&&p?.getPattern?(c.save(),c.strokeStyle=p.getPattern(c,this,c.mozCurrentTransformInverse,q.PathType.STROKE),this.rescaleAndStroke(!1),c.restore()):this.rescaleAndStroke(!0)),m&&this.consumePath(this.current.getClippedPathBoundingBox()),c.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(m){m=!(typeof m<"u")||m;const c=this.ctx,p=this.current.fillColor;let E=!1;this.current.patternFill&&(c.save(),c.fillStyle=p.getPattern(c,this,c.mozCurrentTransformInverse,q.PathType.FILL),E=!0);const C=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==C&&(this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill()),E&&c.restore(),m&&this.consumePath(C)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_e}eoClip(){this.pendingClip=ke}beginText(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const m=this.pendingTextPaths,c=this.ctx;if(void 0!==m){c.save(),c.beginPath();for(let p=0;p<m.length;p++){const b=m[p];c.setTransform.apply(c,b.transform),c.translate(b.x,b.y),b.addToPath(c,b.fontSize)}c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths}else c.beginPath()}setCharSpacing(m){this.current.charSpacing=m}setWordSpacing(m){this.current.wordSpacing=m}setHScale(m){this.current.textHScale=m/100}setLeading(m){this.current.leading=-m}setFont(m,c){const p=this.commonObjs.get(m),b=this.current;if(!p)throw new Error(`Can't find font for ${m}`);if(b.fontMatrix=p.fontMatrix||d.FONT_IDENTITY_MATRIX,(0===b.fontMatrix[0]||0===b.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+m),c<0?(c=-c,b.fontDirection=-1):b.fontDirection=1,this.current.font=p,this.current.fontSize=c,p.isType3Font)return;let C="normal";p.black?C="900":p.bold&&(C="bold");const y=p.italic?"italic":"normal",O=`"${p.loadedName||"sans-serif"}", ${p.fallbackName}`;let le=c;c<16?le=16:c>100&&(le=100),this.current.fontSizeScale=c/le,this.ctx.font=`${y} ${C} ${le}px ${O}`}setTextRenderingMode(m){this.current.textRenderingMode=m}setTextRise(m){this.current.textRise=m}moveText(m,c){this.current.x=this.current.lineX+=m,this.current.y=this.current.lineY+=c}setLeadingMoveText(m,c){this.setLeading(-c),this.moveText(m,c)}setTextMatrix(m,c,p,b,E,C){this.current.textMatrix=[m,c,p,b,E,C],this.current.textMatrixScale=Math.hypot(m,c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(m,c,p,b){const E=this.ctx,C=this.current,y=C.font,O=C.textRenderingMode,le=C.fontSize/C.fontSizeScale,J=O&d.TextRenderingMode.FILL_STROKE_MASK,he=!!(O&d.TextRenderingMode.ADD_TO_PATH_FLAG),de=C.patternFill&&!y.missingFile;let be;(y.disableFontFace||he||de)&&(be=y.getPathGenerator(this.commonObjs,m)),y.disableFontFace||de?(E.save(),E.translate(c,p),E.beginPath(),be(E,le),b&&E.setTransform.apply(E,b),(J===d.TextRenderingMode.FILL||J===d.TextRenderingMode.FILL_STROKE)&&E.fill(),(J===d.TextRenderingMode.STROKE||J===d.TextRenderingMode.FILL_STROKE)&&E.stroke(),E.restore()):((J===d.TextRenderingMode.FILL||J===d.TextRenderingMode.FILL_STROKE)&&E.fillText(m,c,p),(J===d.TextRenderingMode.STROKE||J===d.TextRenderingMode.FILL_STROKE)&&E.strokeText(m,c,p)),he&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:E.mozCurrentTransform,x:c,y:p,fontSize:le,addToPath:be})}get isFontSubpixelAAEnabled(){const{context:m}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);m.scale(1.5,1),m.fillText("I",0,10);const c=m.getImageData(0,0,10,10).data;let p=!1;for(let b=3;b<c.length;b+=4)if(c[b]>0&&c[b]<255){p=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",p)}showText(m){const c=this.current,p=c.font;if(p.isType3Font)return this.showType3Text(m);const b=c.fontSize;if(0===b)return;const E=this.ctx,C=c.fontSizeScale,y=c.charSpacing,O=c.wordSpacing,le=c.fontDirection,J=c.textHScale*le,he=m.length,de=p.vertical,be=de?1:-1,ye=p.defaultVMetrics,Re=b*c.fontMatrix[0],Ve=c.textRenderingMode===d.TextRenderingMode.FILL&&!p.disableFontFace&&!c.patternFill;let We;if(E.save(),E.transform.apply(E,c.textMatrix),E.translate(c.x,c.y+c.textRise),E.scale(J,le>0?-1:1),c.patternFill){E.save();const je=c.fillColor.getPattern(E,this,E.mozCurrentTransformInverse,q.PathType.FILL);We=E.mozCurrentTransform,E.restore(),E.fillStyle=je}let He=c.lineWidth;const xe=c.textMatrixScale;if(0===xe||0===He){const je=c.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(je===d.TextRenderingMode.STROKE||je===d.TextRenderingMode.FILL_STROKE)&&(He=this.getSinglePixelWidth())}else He/=xe;1!==C&&(E.scale(C,C),He/=C),E.lineWidth=He;let Ze,et=0;for(Ze=0;Ze<he;++Ze){const je=m[Ze];if("number"==typeof je){et+=be*je*b/1e3;continue}let De=!1;const Fe=(je.isSpace?O:0)+y,Ue=je.fontChar,ve=je.accent;let U,fe,Be,Me=je.width;if(de){const ae=je.vmetric||ye,K=-(je.vmetric?ae[1]:.5*Me)*Re;Me=ae?-ae[0]:Me,U=K/C,fe=(et+ae[2]*Re)/C}else U=et/C,fe=0;if(p.remeasure&&Me>0){const ae=1e3*E.measureText(Ue).width/b*C;if(Me<ae&&this.isFontSubpixelAAEnabled){const K=Me/ae;De=!0,E.save(),E.scale(K,1),U/=K}else Me!==ae&&(U+=(Me-ae)/2e3*b/C)}this.contentVisible&&(je.isInFont||p.missingFile)&&(Ve&&!ve?E.fillText(Ue,U,fe):(this.paintChar(Ue,U,fe,We),ve&&this.paintChar(ve.fontChar,U+b*ve.offset.x/C,fe-b*ve.offset.y/C,We))),Be=de?Me*Re-Fe*le:Me*Re+Fe*le,et+=Be,De&&E.restore()}de?c.y-=et:c.x+=et*J,E.restore(),this.compose()}showType3Text(m){const c=this.ctx,p=this.current,b=p.font,E=p.fontSize,C=p.fontDirection,y=b.vertical?1:-1,O=p.charSpacing,le=p.wordSpacing,J=p.textHScale*C,he=p.fontMatrix||d.FONT_IDENTITY_MATRIX,de=m.length;let ye,Re,Ve,We;if(p.textRenderingMode!==d.TextRenderingMode.INVISIBLE&&0!==E){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,c.save(),c.transform.apply(c,p.textMatrix),c.translate(p.x,p.y),c.scale(J,C),ye=0;ye<de;++ye){if(Re=m[ye],"number"==typeof Re){We=y*Re*E/1e3,this.ctx.translate(We,0),p.x+=We*J;continue}const He=(Re.isSpace?le:0)+O,xe=b.charProcOperatorList[Re.operatorListId];xe?(this.contentVisible&&(this.processingType3=Re,this.save(),c.scale(E,E),c.transform.apply(c,he),this.executeOperatorList(xe),this.restore()),Ve=d.Util.applyTransform([Re.width,0],he)[0]*E+He,c.translate(Ve,0),p.x+=Ve*J):(0,d.warn)(`Type3 character "${Re.operatorListId}" is not available.`)}c.restore(),this.processingType3=null}}setCharWidth(m,c){}setCharWidthAndBounds(m,c,p,b,E,C){this.ctx.rect(p,b,E-p,C-b),this.ctx.clip(),this.endPath()}getColorN_Pattern(m){let c;if("TilingPattern"===m[0]){const p=m[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice();c=new q.TilingPattern(m,p,this.ctx,{createCanvasGraphics:C=>new Te(C,this.commonObjs,this.objs,this.canvasFactory)},b)}else c=this._getPattern(m[1],m[2]);return c}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(m,c,p){const b=this.selectColor?.(m,c,p)||d.Util.makeHexColor(m,c,p);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(m,c,p){const b=this.selectColor?.(m,c,p)||d.Util.makeHexColor(m,c,p);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(m,c=null){let p;return this.cachedPatterns.has(m)?p=this.cachedPatterns.get(m):(p=(0,q.getShadingPattern)(this.objs.get(m)),this.cachedPatterns.set(m,p)),c&&(p.matrix=c),p}shadingFill(m){if(!this.contentVisible)return;const c=this.ctx;this.save();const p=this._getPattern(m);c.fillStyle=p.getPattern(c,this,c.mozCurrentTransformInverse,q.PathType.SHADING);const b=c.mozCurrentTransformInverse;if(b){const E=c.canvas,C=E.width,y=E.height,O=d.Util.applyTransform([0,0],b),le=d.Util.applyTransform([0,y],b),J=d.Util.applyTransform([C,0],b),he=d.Util.applyTransform([C,y],b),de=Math.min(O[0],le[0],J[0],he[0]),be=Math.min(O[1],le[1],J[1],he[1]),ye=Math.max(O[0],le[0],J[0],he[0]),Re=Math.max(O[1],le[1],J[1],he[1]);this.ctx.fillRect(de,be,ye-de,Re-be)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,d.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,d.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(m,c){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(m)&&6===m.length&&this.transform.apply(this,m),this.baseTransform=this.ctx.mozCurrentTransform,c)&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,c),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(m){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const c=this.ctx;m.isolated||(0,d.info)("TODO: Support non-isolated groups."),m.knockout&&(0,d.warn)("Knockout groups not supported.");const p=c.mozCurrentTransform;if(m.matrix&&c.transform.apply(c,m.matrix),!m.bbox)throw new Error("Bounding box is required.");let b=d.Util.getAxialAlignedBoundingBox(m.bbox,c.mozCurrentTransform);b=d.Util.intersect(b,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0];const C=Math.floor(b[0]),y=Math.floor(b[1]);let O=Math.max(Math.ceil(b[2])-C,1),le=Math.max(Math.ceil(b[3])-y,1),J=1,he=1;O>X&&(J=O/X,O=X),le>X&&(he=le/X,le=X),this.current.startNewPathAndClipBox([0,0,O,le]);let de="groupAt"+this.groupLevel;m.smask&&(de+="_smask_"+this.smaskCounter++%2);const be=this.cachedCanvases.getCanvas(de,O,le,!0),ye=be.context;ye.scale(1/J,1/he),ye.translate(-C,-y),ye.transform.apply(ye,p),m.smask?this.smaskStack.push({canvas:be.canvas,context:ye,offsetX:C,offsetY:y,scaleX:J,scaleY:he,subtype:m.smask.subtype,backdrop:m.smask.backdrop,transferMap:m.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(C,y),c.scale(J,he),c.save()),D(c,ye),this.ctx=ye,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(m){if(!this.contentVisible)return;this.groupLevel--;const c=this.ctx,p=this.groupStack.pop();if(this.ctx=p,this.ctx.imageSmoothingEnabled=!1,m.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,b);const E=d.Util.getAxialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],b);this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(E)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(m,c,p,b,E){if(this.save(),Array.isArray(c)&&4===c.length){const C=c[2]-c[0],y=c[3]-c[1];if(E&&this.annotationCanvasMap){(p=p.slice())[4]-=c[0],p[5]-=c[1],(c=c.slice())[0]=c[1]=0,c[2]=C,c[3]=y;const[O,le]=d.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:J}=this,he=Math.ceil(C*this.outputScaleX*J),de=Math.ceil(y*this.outputScaleY*J);this.annotationCanvas=this.canvasFactory.create(he,de);const{canvas:be,context:ye}=this.annotationCanvas,Re=`var(--zoom-factor) * ${j.PixelsPerInch.PDF_TO_CSS_UNITS}`;be.style.width=`calc(${C}px * ${Re})`,be.style.height=`calc(${y}px * ${Re})`,this.annotationCanvasMap.set(m,be),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ye,this.ctx.setTransform(O,0,0,-le,0,y*le),L(this.ctx),M(this.ctx,this.foregroundColor)}else M(this.ctx,this.foregroundColor),this.ctx.rect(c[0],c[1],C,y),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,p),this.transform.apply(this,b)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(m){if(!this.contentVisible)return;const c=m.count;(m=this.getObject(m.data,m)).count=c;const p=this.ctx,b=this.processingType3;if(b&&(void 0===b.compiled&&(b.compiled=function h(z){const{width:m,height:c}=z;if(m>1e3||c>1e3)return null;const b=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),E=m+1;let y,O,le,C=new Uint8Array(E*(c+1));const J=m+7&-8;let he=new Uint8Array(J*c),de=0;for(const xe of z.data){let et=128;for(;et>0;)he[de++]=xe&et?0:255,et>>=1}let be=0;for(de=0,0!==he[de]&&(C[0]=1,++be),O=1;O<m;O++)he[de]!==he[de+1]&&(C[O]=he[de]?2:1,++be),de++;for(0!==he[de]&&(C[O]=2,++be),y=1;y<c;y++){de=y*J,le=y*E,he[de-J]!==he[de]&&(C[le]=he[de]?1:8,++be);let xe=(he[de]?4:0)+(he[de-J]?8:0);for(O=1;O<m;O++)xe=(xe>>2)+(he[de+1]?4:0)+(he[de-J+1]?8:0),b[xe]&&(C[le+O]=b[xe],++be),de++;if(he[de-J]!==he[de]&&(C[le+O]=he[de]?2:4,++be),be>1e3)return null}for(de=J*(c-1),le=y*E,0!==he[de]&&(C[le]=8,++be),O=1;O<m;O++)he[de]!==he[de+1]&&(C[le+O]=he[de]?4:8,++be),de++;if(0!==he[de]&&(C[le+O]=4,++be),be>1e3)return null;const ye=new Int32Array([0,E,-1,0,-E,0,0,0,1]);let Re,Ve,We;for(oe.isNodeJS?Ve=[]:Re=new Path2D,y=0;be&&y<=c;y++){let xe=y*E;const et=xe+m;for(;xe<et&&!C[xe];)xe++;if(xe===et)continue;Re?Re.moveTo(xe%E,y):We=[xe%E,y];const Ze=xe;let je=C[xe];do{const De=ye[je];do{xe+=De}while(!C[xe]);const Fe=C[xe];5!==Fe&&10!==Fe?(je=Fe,C[xe]=0):(je=Fe&51*je>>4,C[xe]&=je>>2|je<<2),Re?Re.lineTo(xe%E,xe/E|0):We.push(xe%E,xe/E|0),C[xe]||--be}while(Ze!==xe);Re||Ve.push(We),--y}return he=null,C=null,function(xe){if(xe.save(),xe.scale(1/m,-1/c),xe.translate(0,-c),Re)xe.fill(Re);else{xe.beginPath();for(const et of Ve){xe.moveTo(et[0],et[1]);for(let Ze=2,je=et.length;Ze<je;Ze+=2)xe.lineTo(et[Ze],et[Ze+1])}xe.fill()}xe.beginPath(),xe.restore()}}(m)),b.compiled))return void b.compiled(p);const E=this._createMaskCanvas(m),C=E.canvas;p.save(),p.setTransform(1,0,0,1,0,0),p.drawImage(C,E.offsetX,E.offsetY),p.restore(),this.compose()}paintImageMaskXObjectRepeat(m,c,p=0,b=0,E,C){if(!this.contentVisible)return;m=this.getObject(m.data,m);const y=this.ctx;y.save();const O=y.mozCurrentTransform;y.transform(c,p,b,E,0,0);const le=this._createMaskCanvas(m);y.setTransform(1,0,0,1,0,0);for(let J=0,he=C.length;J<he;J+=2){const de=d.Util.transform(O,[c,p,b,E,C[J],C[J+1]]),[be,ye]=d.Util.applyTransform([0,0],de);y.drawImage(le.canvas,be,ye)}y.restore(),this.compose()}paintImageMaskXObjectGroup(m){if(!this.contentVisible)return;const c=this.ctx,p=this.current.fillColor,b=this.current.patternFill;for(let E=0,C=m.length;E<C;E++){const y=m[E],O=y.width,le=y.height,J=this.cachedCanvases.getCanvas("maskCanvas",O,le,!1),he=J.context;he.save(),F(he,y),he.globalCompositeOperation="source-in",he.fillStyle=b?p.getPattern(he,this,c.mozCurrentTransformInverse,q.PathType.FILL):p,he.fillRect(0,0,O,le),he.restore(),c.save(),c.transform.apply(c,y.transform),c.scale(1,-1),R(c,J.canvas,0,0,O,le,0,-1,1,1),c.restore()}this.compose()}paintImageXObject(m){if(!this.contentVisible)return;const c=this.getObject(m);c?this.paintInlineImageXObject(c):(0,d.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(m,c,p,b){if(!this.contentVisible)return;const E=this.getObject(m);if(!E)return void(0,d.warn)("Dependent image isn't ready yet");const C=E.width,y=E.height,O=[];for(let le=0,J=b.length;le<J;le+=2)O.push({transform:[c,0,0,p,b[le],b[le+1]],x:0,y:0,w:C,h:y});this.paintInlineImageXObjectGroup(E,O)}paintInlineImageXObject(m){if(!this.contentVisible)return;const c=m.width,p=m.height,b=this.ctx;let E;if(this.save(),b.scale(1/c,-1/p),"function"==typeof HTMLElement&&m instanceof HTMLElement||!m.data)E=m;else{const le=this.cachedCanvases.getCanvas("inlineImage",c,p,!1);w(le.context,m,this.current.transferMaps),E=le.canvas}const C=this._scaleImage(E,b.mozCurrentTransformInverse);b.imageSmoothingEnabled=ue(b.mozCurrentTransform,m.interpolate);const[y,O]=R(b,C.img,0,0,C.paintWidth,C.paintHeight,0,-p,c,p);if(this.imageLayer){const le=this.getCanvasPosition(0,-p);this.imageLayer.appendImage({imgData:m,left:le[0],top:le[1],width:y,height:O})}this.compose(),this.restore()}paintInlineImageXObjectGroup(m,c){if(!this.contentVisible)return;const p=this.ctx,b=m.width,E=m.height,C=this.cachedCanvases.getCanvas("inlineImage",b,E,!1);w(C.context,m,this.current.transferMaps);for(let O=0,le=c.length;O<le;O++){const J=c[O];if(p.save(),p.transform.apply(p,J.transform),p.scale(1,-1),R(p,C.canvas,J.x,J.y,J.w,J.h,0,-1,1,1),this.imageLayer){const he=this.getCanvasPosition(J.x,J.y);this.imageLayer.appendImage({imgData:m,left:he[0],top:he[1],width:b,height:E})}p.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(m){}markPointProps(m,c){}beginMarkedContent(m){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(m,c){this.markedContentStack.push("OC"===m?{visible:this.optionalContentConfig.isVisible(c)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(m){const c=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(m);const p=this.ctx;this.pendingClip&&(c||(this.pendingClip===ke?p.clip("evenodd"):p.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),p.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const m=this.ctx.mozCurrentTransform;if(0===m[1]&&0===m[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(m[0]),Math.abs(m[3]));else{const c=Math.abs(m[0]*m[3]-m[2]*m[1]),p=Math.hypot(m[0],m[2]),b=Math.hypot(m[1],m[3]);this._cachedGetSinglePixelWidth=Math.max(p,b)/c}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:m}=this.current,c=this.ctx.mozCurrentTransform;let p,b;if(0===c[1]&&0===c[2]){const E=Math.abs(c[0]),C=Math.abs(c[3]);if(0===m)p=1/E,b=1/C;else{const y=E*m,O=C*m;p=y<1?1/y:1,b=O<1?1/O:1}}else{const E=Math.abs(c[0]*c[3]-c[2]*c[1]),C=Math.hypot(c[0],c[1]),y=Math.hypot(c[2],c[3]);if(0===m)p=y/E,b=C/E;else{const O=m*E;p=y>O?y/O:1,b=C>O?C/O:1}}this._cachedScaleForStroking=[p,b]}return this._cachedScaleForStroking}rescaleAndStroke(m){const{ctx:c}=this,{lineWidth:p}=this.current,[b,E]=this.getScaleForStroking();if(c.lineWidth=p||1,1===b&&1===E)return void c.stroke();let C,y,O;m&&(C=c.mozCurrentTransform.slice(),y=c.getLineDash().slice(),O=c.lineDashOffset),c.scale(b,E);const le=Math.max(b,E);c.setLineDash(c.getLineDash().map(J=>J/le)),c.lineDashOffset/=le,c.stroke(),m&&(c.setTransform(...C),c.setLineDash(y),c.lineDashOffset=O)}getCanvasPosition(m,c){const p=this.ctx.mozCurrentTransform;return[p[0]*m+p[2]*c+p[4],p[1]*m+p[3]*c+p[5]]}isContentVisible(){for(let m=this.markedContentStack.length-1;m>=0;m--)if(!this.markedContentStack[m].visible)return!1;return!0}}g.CanvasGraphics=Te;for(const z in d.OPS)void 0!==Te.prototype[z]&&(Te.prototype[d.OPS[z]]=Te.prototype[z])},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TilingPattern=g.PathType=void 0,g.getShadingPattern=function Q(B){switch(B[0]){case"RadialAxial":return new H(B);case"Mesh":return new ee(B);case"Dummy":return new se}throw new Error(`Unknown IR type: ${B[0]}`)};var d=N(1),q=N(3);const G={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function oe(B,I){if(!I||q.isNodeJS)return;const L=I[2]-I[0],P=I[3]-I[1],R=new Path2D;R.rect(I[0],I[1],L,P),B.clip(R)}g.PathType=G;class j{constructor(){this.constructor===j&&(0,d.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,d.unreachable)("Abstract method `getPattern` called.")}}class H extends j{constructor(I){super(),this._type=I[1],this._bbox=I[2],this._colorStops=I[3],this._p0=I[4],this._p1=I[5],this._r0=I[6],this._r1=I[7],this.matrix=null}_createGradient(I){let L;"axial"===this._type?L=I.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(L=I.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const P of this._colorStops)L.addColorStop(P[0],P[1]);return L}getPattern(I,L,P,R){let h;if(R===G.STROKE||R===G.FILL){const f=L.current.getClippedPathBoundingBox(R,I.mozCurrentTransform)||[0,0,0,0],w=Math.ceil(f[2]-f[0])||1,F=Math.ceil(f[3]-f[1])||1,D=L.cachedCanvases.getCanvas("pattern",w,F,!0),M=D.context;M.clearRect(0,0,M.canvas.width,M.canvas.height),M.beginPath(),M.rect(0,0,M.canvas.width,M.canvas.height),M.translate(-f[0],-f[1]),P=d.Util.transform(P,[1,0,0,1,f[0],f[1]]),M.transform.apply(M,L.baseTransform),this.matrix&&M.transform.apply(M,this.matrix),oe(M,this._bbox),M.fillStyle=this._createGradient(M),M.fill(),h=I.createPattern(D.canvas,"no-repeat");const S=new DOMMatrix(P);try{h.setTransform(S)}catch(v){(0,d.warn)(`RadialAxialShadingPattern.getPattern: "${v?.message}".`)}}else oe(I,this._bbox),h=this._createGradient(I);return h}}function k(B,I,L,P,R,h,f,w){const F=I.coords,D=I.colors,M=B.data,S=4*B.width;let v;F[L+1]>F[P+1]&&(v=L,L=P,P=v,v=h,h=f,f=v),F[P+1]>F[R+1]&&(v=P,P=R,R=v,v=f,f=w,w=v),F[L+1]>F[P+1]&&(v=L,L=P,P=v,v=h,h=f,f=v);const $=(F[L]+I.offsetX)*I.scaleX,W=(F[L+1]+I.offsetY)*I.scaleY,te=(F[P]+I.offsetX)*I.scaleX,ue=(F[P+1]+I.offsetY)*I.scaleY,pe=(F[R]+I.offsetX)*I.scaleX,me=(F[R+1]+I.offsetY)*I.scaleY;if(W>=me)return;const _e=D[h],ke=D[h+1],Te=D[h+2],z=D[f],m=D[f+1],c=D[f+2],p=D[w],b=D[w+1],E=D[w+2],C=Math.round(W),y=Math.round(me);let O,le,J,he,de,be,ye,Re;for(let Ve=C;Ve<=y;Ve++){if(Ve<ue){let Ze;Ze=Ve<W?0:(W-Ve)/(W-ue),O=$-($-te)*Ze,le=_e-(_e-z)*Ze,J=ke-(ke-m)*Ze,he=Te-(Te-c)*Ze}else{let Ze;Ze=Ve>me?1:ue===me?0:(ue-Ve)/(ue-me),O=te-(te-pe)*Ze,le=z-(z-p)*Ze,J=m-(m-b)*Ze,he=c-(c-E)*Ze}let We;We=Ve<W?0:Ve>me?1:(W-Ve)/(W-me),de=$-($-pe)*We,be=_e-(_e-p)*We,ye=ke-(ke-b)*We,Re=Te-(Te-E)*We;const He=Math.round(Math.min(O,de)),xe=Math.round(Math.max(O,de));let et=S*Ve+4*He;for(let Ze=He;Ze<=xe;Ze++)We=(O-Ze)/(O-de),We<0?We=0:We>1&&(We=1),M[et++]=le-(le-be)*We|0,M[et++]=J-(J-ye)*We|0,M[et++]=he-(he-Re)*We|0,M[et++]=255}}function X(B,I,L){const P=I.coords,R=I.colors;let h,f;switch(I.type){case"lattice":const w=I.verticesPerRow,F=Math.floor(P.length/w)-1,D=w-1;for(h=0;h<F;h++){let M=h*w;for(let S=0;S<D;S++,M++)k(B,L,P[M],P[M+1],P[M+w],R[M],R[M+1],R[M+w]),k(B,L,P[M+w+1],P[M+1],P[M+w],R[M+w+1],R[M+1],R[M+w])}break;case"triangles":for(h=0,f=P.length;h<f;h+=3)k(B,L,P[h],P[h+1],P[h+2],R[h],R[h+1],R[h+2]);break;default:throw new Error("illegal figure")}}class ee extends j{constructor(I){super(),this._coords=I[2],this._colors=I[3],this._figures=I[4],this._bounds=I[5],this._bbox=I[7],this._background=I[8],this.matrix=null}_createMeshCanvas(I,L,P){const w=Math.floor(this._bounds[0]),F=Math.floor(this._bounds[1]),D=Math.ceil(this._bounds[2])-w,M=Math.ceil(this._bounds[3])-F,S=Math.min(Math.ceil(Math.abs(D*I[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(M*I[1]*1.1)),3e3),$=D/S,W=M/v,te={coords:this._coords,colors:this._colors,offsetX:-w,offsetY:-F,scaleX:1/$,scaleY:1/W},me=P.getCanvas("mesh",S+4,v+4,!1),_e=me.context,ke=_e.createImageData(S,v);if(L){const z=ke.data;for(let m=0,c=z.length;m<c;m+=4)z[m]=L[0],z[m+1]=L[1],z[m+2]=L[2],z[m+3]=255}for(const z of this._figures)X(ke,z,te);return _e.putImageData(ke,2,2),{canvas:me.canvas,offsetX:w-2*$,offsetY:F-2*W,scaleX:$,scaleY:W}}getPattern(I,L,P,R){let h;if(oe(I,this._bbox),R===G.SHADING)h=d.Util.singularValueDecompose2dScale(I.mozCurrentTransform);else if(h=d.Util.singularValueDecompose2dScale(L.baseTransform),this.matrix){const w=d.Util.singularValueDecompose2dScale(this.matrix);h=[h[0]*w[0],h[1]*w[1]]}const f=this._createMeshCanvas(h,R===G.SHADING?null:this._background,L.cachedCanvases);return R!==G.SHADING&&(I.setTransform.apply(I,L.baseTransform),this.matrix&&I.transform.apply(I,this.matrix)),I.translate(f.offsetX,f.offsetY),I.scale(f.scaleX,f.scaleY),I.createPattern(f.canvas,"no-repeat")}}class se extends j{getPattern(){return"hotpink"}}class T{static get MAX_PATTERN_SIZE(){return(0,d.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(I,L,P,R,h){this.operatorList=I[2],this.matrix=I[3]||[1,0,0,1,0,0],this.bbox=I[4],this.xstep=I[5],this.ystep=I[6],this.paintType=I[7],this.tilingType=I[8],this.color=L,this.ctx=P,this.canvasGraphicsFactory=R,this.baseTransform=h}createPatternCanvas(I){const L=this.operatorList,P=this.bbox,R=this.xstep,h=this.ystep,f=this.paintType,F=this.color,D=this.canvasGraphicsFactory;(0,d.info)("TilingType: "+this.tilingType);const M=P[0],S=P[1],v=P[2],$=P[3],W=d.Util.singularValueDecompose2dScale(this.matrix),te=d.Util.singularValueDecompose2dScale(this.baseTransform),ue=[W[0]*te[0],W[1]*te[1]],pe=this.getSizeAndScale(R,this.ctx.canvas.width,ue[0]),me=this.getSizeAndScale(h,this.ctx.canvas.height,ue[1]),_e=I.cachedCanvases.getCanvas("pattern",pe.size,me.size,!0),ke=_e.context,Te=D.createCanvasGraphics(ke);Te.groupLevel=I.groupLevel,this.setFillAndStrokeStyleToContext(Te,f,F);let z=M,m=S,c=v,p=$;return M<0&&(z=0,c+=Math.abs(M)),S<0&&(m=0,p+=Math.abs(S)),ke.translate(-pe.scale*z,-me.scale*m),Te.transform(pe.scale,0,0,me.scale,0,0),ke.save(),this.clipBbox(Te,z,m,c,p),Te.baseTransform=Te.ctx.mozCurrentTransform.slice(),Te.executeOperatorList(L),Te.endDrawing(),{canvas:_e.canvas,scaleX:pe.scale,scaleY:me.scale,offsetX:z,offsetY:m}}getSizeAndScale(I,L,P){I=Math.abs(I);const R=Math.max(T.MAX_PATTERN_SIZE,L);let h=Math.ceil(I*P);return h>=R?h=R:P=h/I,{scale:P,size:h}}clipBbox(I,L,P,R,h){I.ctx.rect(L,P,R-L,h-P),I.current.updateRectMinMax(I.ctx.mozCurrentTransform,[L,P,R,h]),I.clip(),I.endPath()}setFillAndStrokeStyleToContext(I,L,P){const R=I.ctx,h=I.current;switch(L){case 1:const f=this.ctx;R.fillStyle=f.fillStyle,R.strokeStyle=f.strokeStyle,h.fillColor=f.fillStyle,h.strokeColor=f.strokeStyle;break;case 2:const w=d.Util.makeHexColor(P[0],P[1],P[2]);R.fillStyle=w,R.strokeStyle=w,h.fillColor=w,h.strokeColor=w;break;default:throw new d.FormatError(`Unsupported paint type: ${L}`)}}getPattern(I,L,P,R){let h=P;R!==G.SHADING&&(h=d.Util.transform(h,L.baseTransform),this.matrix&&(h=d.Util.transform(h,this.matrix)));const f=this.createPatternCanvas(L);let w=new DOMMatrix(h);w=w.translate(f.offsetX,f.offsetY),w=w.scale(1/f.scaleX,1/f.scaleY);const F=I.createPattern(f.canvas,"repeat");try{F.setTransform(w)}catch(D){(0,d.warn)(`TilingPattern.getPattern: "${D?.message}".`)}return F}}g.TilingPattern=T},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.applyMaskImageData=function q({src:G,srcPos:oe=0,dest:j,destPos:H=0,width:k,height:X,inverseDecode:ee=!1}){const se=d.FeatureTest.isLittleEndian?4278190080:255,[Q,ie]=ee?[0,se]:[se,0],T=k>>3,B=7&k,I=G.length;j=new Uint32Array(j.buffer);for(let L=0;L<X;L++){for(const R=oe+T;oe<R;oe++){const h=oe<I?G[oe]:255;j[H++]=128&h?ie:Q,j[H++]=64&h?ie:Q,j[H++]=32&h?ie:Q,j[H++]=16&h?ie:Q,j[H++]=8&h?ie:Q,j[H++]=4&h?ie:Q,j[H++]=2&h?ie:Q,j[H++]=1&h?ie:Q}if(0===B)continue;const P=oe<I?G[oe++]:255;for(let R=0;R<B;R++)j[H++]=P&1<<7-R?ie:Q}return{srcPos:oe,destPos:H}};var d=N(1)},(re,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GlobalWorkerOptions=void 0;const N=Object.create(null);g.GlobalWorkerOptions=N,N.workerPort=void 0===N.workerPort?null:N.workerPort,N.workerSrc=void 0===N.workerSrc?"":N.workerSrc},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.MessageHandler=void 0;var d=N(1);function oe(H){switch(H instanceof Error||"object"==typeof H&&null!==H||(0,d.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),H.name){case"AbortException":return new d.AbortException(H.message);case"MissingPDFException":return new d.MissingPDFException(H.message);case"PasswordException":return new d.PasswordException(H.message,H.code);case"UnexpectedResponseException":return new d.UnexpectedResponseException(H.message,H.status);case"UnknownErrorException":return new d.UnknownErrorException(H.message,H.details);default:return new d.UnknownErrorException(H.message,H.toString())}}g.MessageHandler=class j{constructor(k,X,ee){this.sourceName=k,this.targetName=X,this.comObj=ee,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=se=>{const Q=se.data;if(Q.targetName!==this.sourceName)return;if(Q.stream)return void this._processStreamMessage(Q);if(Q.callback){const T=Q.callbackId,B=this.callbackCapabilities[T];if(!B)throw new Error(`Cannot resolve callback ${T}`);if(delete this.callbackCapabilities[T],1===Q.callback)B.resolve(Q.data);else{if(2!==Q.callback)throw new Error("Unexpected callback case");B.reject(oe(Q.reason))}return}const ie=this.actionHandler[Q.action];if(!ie)throw new Error(`Unknown action from worker: ${Q.action}`);if(Q.callbackId){const T=this.sourceName,B=Q.sourceName;new Promise(function(I){I(ie(Q.data))}).then(function(I){ee.postMessage({sourceName:T,targetName:B,callback:1,callbackId:Q.callbackId,data:I})},function(I){ee.postMessage({sourceName:T,targetName:B,callback:2,callbackId:Q.callbackId,reason:oe(I)})})}else Q.streamId?this._createStreamSink(Q):ie(Q.data)},ee.addEventListener("message",this._onComObjOnMessage)}on(k,X){const ee=this.actionHandler;if(ee[k])throw new Error(`There is already an actionName called "${k}"`);ee[k]=X}send(k,X,ee){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,data:X},ee)}sendWithPromise(k,X,ee){const se=this.callbackId++,Q=(0,d.createPromiseCapability)();this.callbackCapabilities[se]=Q;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,callbackId:se,data:X},ee)}catch(ie){Q.reject(ie)}return Q.promise}sendWithStream(k,X,ee,se){const Q=this.streamId++,ie=this.sourceName,T=this.targetName,B=this.comObj;return new ReadableStream({start:I=>{const L=(0,d.createPromiseCapability)();return this.streamControllers[Q]={controller:I,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},B.postMessage({sourceName:ie,targetName:T,action:k,streamId:Q,data:X,desiredSize:I.desiredSize},se),L.promise},pull:I=>{const L=(0,d.createPromiseCapability)();return this.streamControllers[Q].pullCall=L,B.postMessage({sourceName:ie,targetName:T,stream:6,streamId:Q,desiredSize:I.desiredSize}),L.promise},cancel:I=>{(0,d.assert)(I instanceof Error,"cancel must have a valid reason");const L=(0,d.createPromiseCapability)();return this.streamControllers[Q].cancelCall=L,this.streamControllers[Q].isClosed=!0,B.postMessage({sourceName:ie,targetName:T,stream:1,streamId:Q,reason:oe(I)}),L.promise}},ee)}_createStreamSink(k){const X=k.streamId,ee=this.sourceName,se=k.sourceName,Q=this.comObj,ie=this,T=this.actionHandler[k.action],B={enqueue(I,L=1,P){if(this.isCancelled)return;const R=this.desiredSize;this.desiredSize-=L,R>0&&this.desiredSize<=0&&(this.sinkCapability=(0,d.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Q.postMessage({sourceName:ee,targetName:se,stream:4,streamId:X,chunk:I},P)},close(){this.isCancelled||(this.isCancelled=!0,Q.postMessage({sourceName:ee,targetName:se,stream:3,streamId:X}),delete ie.streamSinks[X])},error(I){(0,d.assert)(I instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Q.postMessage({sourceName:ee,targetName:se,stream:5,streamId:X,reason:oe(I)}))},sinkCapability:(0,d.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};B.sinkCapability.resolve(),B.ready=B.sinkCapability.promise,this.streamSinks[X]=B,new Promise(function(I){I(T(k.data,B))}).then(function(){Q.postMessage({sourceName:ee,targetName:se,stream:8,streamId:X,success:!0})},function(I){Q.postMessage({sourceName:ee,targetName:se,stream:8,streamId:X,reason:oe(I)})})}_processStreamMessage(k){const X=k.streamId,ee=this.sourceName,se=k.sourceName,Q=this.comObj,ie=this.streamControllers[X],T=this.streamSinks[X];switch(k.stream){case 8:k.success?ie.startCall.resolve():ie.startCall.reject(oe(k.reason));break;case 7:k.success?ie.pullCall.resolve():ie.pullCall.reject(oe(k.reason));break;case 6:if(!T){Q.postMessage({sourceName:ee,targetName:se,stream:7,streamId:X,success:!0});break}T.desiredSize<=0&&k.desiredSize>0&&T.sinkCapability.resolve(),T.desiredSize=k.desiredSize,new Promise(function(B){B(T.onPull&&T.onPull())}).then(function(){Q.postMessage({sourceName:ee,targetName:se,stream:7,streamId:X,success:!0})},function(B){Q.postMessage({sourceName:ee,targetName:se,stream:7,streamId:X,reason:oe(B)})});break;case 4:if((0,d.assert)(ie,"enqueue should have stream controller"),ie.isClosed)break;ie.controller.enqueue(k.chunk);break;case 3:if((0,d.assert)(ie,"close should have stream controller"),ie.isClosed)break;ie.isClosed=!0,ie.controller.close(),this._deleteStreamController(ie,X);break;case 5:(0,d.assert)(ie,"error should have stream controller"),ie.controller.error(oe(k.reason)),this._deleteStreamController(ie,X);break;case 2:k.success?ie.cancelCall.resolve():ie.cancelCall.reject(oe(k.reason)),this._deleteStreamController(ie,X);break;case 1:if(!T)break;new Promise(function(B){B(T.onCancel&&T.onCancel(oe(k.reason)))}).then(function(){Q.postMessage({sourceName:ee,targetName:se,stream:2,streamId:X,success:!0})},function(B){Q.postMessage({sourceName:ee,targetName:se,stream:2,streamId:X,reason:oe(B)})}),T.sinkCapability.reject(oe(k.reason)),T.isCancelled=!0,delete this.streamSinks[X];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(k,X){var ee=this;return _asyncToGenerator(function*(){yield Promise.allSettled([k.startCall&&k.startCall.promise,k.pullCall&&k.pullCall.promise,k.cancelCall&&k.cancelCall.promise]),delete ee.streamControllers[X]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Metadata=void 0;var d=N(1),q=new WeakMap,G=new WeakMap;g.Metadata=class oe{constructor({parsedData:H,rawData:k}){_classPrivateFieldInitSpec(this,q,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:void 0}),_classPrivateFieldSet(this,q,H),_classPrivateFieldSet(this,G,k)}getRaw(){return _classPrivateFieldGet(this,G)}get(H){return _classPrivateFieldGet(this,q).get(H)??null}getAll(){return(0,d.objectFromMap)(_classPrivateFieldGet(this,q))}has(H){return _classPrivateFieldGet(this,q).has(H)}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.OptionalContentConfig=void 0;var d=N(1);class q{constructor(j,H){this.visible=!0,this.name=j,this.intent=H}}g.OptionalContentConfig=class G{constructor(j){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==j){this.name=j.name,this.creator=j.creator,this._order=j.order;for(const H of j.groups)this._groups.set(H.id,new q(H.name,H.intent));if("OFF"===j.baseState)for(const H of this._groups)H.visible=!1;for(const H of j.on)this._groups.get(H).visible=!0;for(const H of j.off)this._groups.get(H).visible=!1}}_evaluateVisibilityExpression(j){const H=j.length;if(H<2)return!0;const k=j[0];for(let X=1;X<H;X++){const ee=j[X];let se;if(Array.isArray(ee))se=this._evaluateVisibilityExpression(ee);else{if(!this._groups.has(ee))return(0,d.warn)(`Optional content group not found: ${ee}`),!0;se=this._groups.get(ee).visible}switch(k){case"And":if(!se)return!1;break;case"Or":if(se)return!0;break;case"Not":return!se;default:return!0}}return"And"===k}isVisible(j){if(0===this._groups.size)return!0;if(!j)return(0,d.warn)("Optional content group not defined."),!0;if("OCG"===j.type)return this._groups.has(j.id)?this._groups.get(j.id).visible:((0,d.warn)(`Optional content group not found: ${j.id}`),!0);if("OCMD"===j.type){if(j.expression)return this._evaluateVisibilityExpression(j.expression);if(!j.policy||"AnyOn"===j.policy){for(const H of j.ids){if(!this._groups.has(H))return(0,d.warn)(`Optional content group not found: ${H}`),!0;if(this._groups.get(H).visible)return!0}return!1}if("AllOn"===j.policy){for(const H of j.ids){if(!this._groups.has(H))return(0,d.warn)(`Optional content group not found: ${H}`),!0;if(!this._groups.get(H).visible)return!1}return!0}if("AnyOff"===j.policy){for(const H of j.ids){if(!this._groups.has(H))return(0,d.warn)(`Optional content group not found: ${H}`),!0;if(!this._groups.get(H).visible)return!0}return!1}if("AllOff"===j.policy){for(const H of j.ids){if(!this._groups.has(H))return(0,d.warn)(`Optional content group not found: ${H}`),!0;if(this._groups.get(H).visible)return!1}return!0}return(0,d.warn)(`Unknown optional content policy ${j.policy}.`),!0}return(0,d.warn)(`Unknown group type ${j.type}.`),!0}setVisibility(j,H=!0){this._groups.has(j)?this._groups.get(j).visible=!!H:(0,d.warn)(`Optional content group not found: ${j}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,d.objectFromMap)(this._groups):null}getGroup(j){return this._groups.get(j)||null}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFDataTransportStream=void 0;var d=N(1),q=N(5);g.PDFDataTransportStream=class G{constructor(k,X){(0,d.assert)(X,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=k.progressiveDone||!1,this._contentDispositionFilename=k.contentDispositionFilename||null;const ee=k.initialData;if(ee?.length>0){const se=new Uint8Array(ee).buffer;this._queuedChunks.push(se)}this._pdfDataRangeTransport=X,this._isStreamingSupported=!k.disableStream,this._isRangeSupported=!k.disableRange,this._contentLength=k.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((se,Q)=>{this._onReceiveData({begin:se,chunk:Q})}),this._pdfDataRangeTransport.addProgressListener((se,Q)=>{this._onProgress({loaded:se,total:Q})}),this._pdfDataRangeTransport.addProgressiveReadListener(se=>{this._onReceiveData({chunk:se})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(k){const X=new Uint8Array(k.chunk).buffer;if(void 0===k.begin)this._fullRequestReader?this._fullRequestReader._enqueue(X):this._queuedChunks.push(X);else{const ee=this._rangeReaders.some(function(se){return se._begin===k.begin&&(se._enqueue(X),!0)});(0,d.assert)(ee,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(k){if(void 0===k.total){const X=this._rangeReaders[0];X?.onProgress&&X.onProgress({loaded:k.loaded})}else{const X=this._fullRequestReader;X?.onProgress&&X.onProgress({loaded:k.loaded,total:k.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(k){const X=this._rangeReaders.indexOf(k);X>=0&&this._rangeReaders.splice(X,1)}getFullReader(){(0,d.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const k=this._queuedChunks;return this._queuedChunks=null,new oe(this,k,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(k,X){if(X<=this._progressiveDataLength)return null;const ee=new j(this,k,X);return this._pdfDataRangeTransport.requestDataRange(k,X),this._rangeReaders.push(ee),ee}cancelAllRequests(k){this._fullRequestReader&&this._fullRequestReader.cancel(k);for(const X of this._rangeReaders.slice(0))X.cancel(k);this._pdfDataRangeTransport.abort()}};class oe{constructor(k,X,ee=!1,se=null){this._stream=k,this._done=ee||!1,this._filename=(0,q.isPdfFile)(se)?se:null,this._queuedChunks=X||[],this._loaded=0;for(const Q of this._queuedChunks)this._loaded+=Q.byteLength;this._requests=[],this._headersReady=Promise.resolve(),k._fullRequestReader=this,this.onProgress=null}_enqueue(k){this._done||(this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunks.push(k),this._loaded+=k.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var k=this;return _asyncToGenerator(function*(){if(k._queuedChunks.length>0)return{value:k._queuedChunks.shift(),done:!1};if(k._done)return{value:void 0,done:!0};const X=(0,d.createPromiseCapability)();return k._requests.push(X),X.promise})()}cancel(k){this._done=!0;for(const X of this._requests)X.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class j{constructor(k,X,ee){this._stream=k,this._begin=X,this._end=ee,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(k){if(!this._done){if(0===this._requests.length)this._queuedChunk=k;else{this._requests.shift().resolve({value:k,done:!1});for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var k=this;return _asyncToGenerator(function*(){if(k._queuedChunk){const ee=k._queuedChunk;return k._queuedChunk=null,{value:ee,done:!1}}if(k._done)return{value:void 0,done:!0};const X=(0,d.createPromiseCapability)();return k._requests.push(X),X.promise})()}cancel(k){this._done=!0;for(const X of this._requests)X.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(re,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaText=void 0;class N{static textContent(q){const G=[],oe={items:G,styles:Object.create(null)};return function j(H){if(!H)return;let k=null;const X=H.name;if("#text"===X)k=H.value;else{if(!N.shouldBuildText(X))return;H?.attributes?.textContent?k=H.attributes.textContent:H.value&&(k=H.value)}if(null!==k&&G.push({str:k}),H.children)for(const ee of H.children)j(ee)}(q),oe}static shouldBuildText(q){return!("textarea"===q||"input"===q||"option"===q||"select"===q)}}g.XfaText=N},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NodeStandardFontDataFactory=g.NodeCanvasFactory=g.NodeCMapReaderFactory=void 0;var d=N(6);const q=function(H){return new Promise((k,X)=>{__webpack_require__(172).readFile(H,(se,Q)=>{!se&&Q?k(new Uint8Array(Q)):X(new Error(se))})})};g.NodeCanvasFactory=class G extends d.BaseCanvasFactory{_createCanvas(k,X){return __webpack_require__(414).createCanvas(k,X)}},g.NodeCMapReaderFactory=class oe extends d.BaseCMapReaderFactory{_fetchData(k,X){return q(k).then(ee=>({cMapData:ee,compressionType:X}))}},g.NodeStandardFontDataFactory=class j extends d.BaseStandardFontDataFactory{_fetchData(k){return q(k)}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayer=void 0;var d=N(1),q=N(5),G=N(8),oe=N(21),j=N(22);const H=1e3,k=new WeakSet;function X(m){return{width:m[2]-m[0],height:m[3]-m[1]}}class ee{static create(c){switch(c.data.annotationType){case d.AnnotationType.LINK:return new Q(c);case d.AnnotationType.TEXT:return new ie(c);case d.AnnotationType.WIDGET:switch(c.data.fieldType){case"Tx":return new B(c);case"Btn":return c.data.radioButton?new L(c):c.data.checkBox?new I(c):new P(c);case"Ch":return new R(c)}return new T(c);case d.AnnotationType.POPUP:return new h(c);case d.AnnotationType.FREETEXT:return new w(c);case d.AnnotationType.LINE:return new F(c);case d.AnnotationType.SQUARE:return new D(c);case d.AnnotationType.CIRCLE:return new M(c);case d.AnnotationType.POLYLINE:return new S(c);case d.AnnotationType.CARET:return new $(c);case d.AnnotationType.INK:return new W(c);case d.AnnotationType.POLYGON:return new v(c);case d.AnnotationType.HIGHLIGHT:return new te(c);case d.AnnotationType.UNDERLINE:return new ue(c);case d.AnnotationType.SQUIGGLY:return new pe(c);case d.AnnotationType.STRIKEOUT:return new me(c);case d.AnnotationType.STAMP:return new _e(c);case d.AnnotationType.FILEATTACHMENT:return new ke(c);default:return new se(c)}}}class se{constructor(c,{isRenderable:p=!1,ignoreBorder:b=!1,createQuadrilaterals:E=!1}={}){this.isRenderable=p,this.data=c.data,this.layer=c.layer,this.page=c.page,this.viewport=c.viewport,this.linkService=c.linkService,this.downloadManager=c.downloadManager,this.imageResourcesPath=c.imageResourcesPath,this.renderForms=c.renderForms,this.svgFactory=c.svgFactory,this.annotationStorage=c.annotationStorage,this.enableScripting=c.enableScripting,this.hasJSActions=c.hasJSActions,this._fieldObjects=c.fieldObjects,this._mouseState=c.mouseState,p&&(this.container=this._createContainer(b)),E&&(this.quadrilaterals=this._createQuadrilaterals(b))}_createContainer(c=!1){const p=this.data,b=this.page,E=this.viewport,C=document.createElement("section");let{width:y,height:O}=X(p.rect);C.setAttribute("data-annotation-id",p.id);const le=d.Util.normalizeRect([p.rect[0],b.view[3]-p.rect[1]+b.view[1],p.rect[2],b.view[3]-p.rect[3]+b.view[1]]);if(p.hasOwnCanvas){const J=E.transform.slice(),[he,de]=d.Util.singularValueDecompose2dScale(J);y=Math.ceil(y*he),O=Math.ceil(O*de),le[0]*=he,le[1]*=de;for(let be=0;be<4;be++)J[be]=Math.sign(J[be]);C.style.transform=`matrix(${J.join(",")})`}else C.style.transform=`matrix(${E.transform.join(",")})`;if(C.style.transformOrigin=`${-le[0]}px ${-le[1]}px`,!c&&p.borderStyle.width>0){C.style.borderWidth=`${p.borderStyle.width}px`,p.borderStyle.style!==d.AnnotationBorderStyleType.UNDERLINE&&(y-=2*p.borderStyle.width,O-=2*p.borderStyle.width);const J=p.borderStyle.horizontalCornerRadius,he=p.borderStyle.verticalCornerRadius;switch((J>0||he>0)&&(C.style.borderRadius=`${J}px / ${he}px`),p.borderStyle.style){case d.AnnotationBorderStyleType.SOLID:C.style.borderStyle="solid";break;case d.AnnotationBorderStyleType.DASHED:C.style.borderStyle="dashed";break;case d.AnnotationBorderStyleType.BEVELED:(0,d.warn)("Unimplemented border style: beveled");break;case d.AnnotationBorderStyleType.INSET:(0,d.warn)("Unimplemented border style: inset");break;case d.AnnotationBorderStyleType.UNDERLINE:C.style.borderBottomStyle="solid"}p.borderColor||p.color?C.style.borderColor=d.Util.makeHexColor(0|p.color[0],0|p.color[1],0|p.color[2]):C.style.borderWidth=0}return C.style.left=`${le[0]}px`,C.style.top=`${le[1]}px`,p.hasOwnCanvas?C.style.width=C.style.height="auto":(C.style.width=`${y}px`,C.style.height=`${O}px`),C}get _commonActions(){const c=(p,b,E)=>{const C=E.detail[p];E.target.style[b]=oe.ColorConverters[`${C[0]}_HTML`](C.slice(1))};return(0,d.shadow)(this,"_commonActions",{display:p=>{const b=p.detail.display%2==1;p.target.style.visibility=b?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:b,print:0===p.detail.display||3===p.detail.display})},print:p=>{this.annotationStorage.setValue(this.data.id,{print:p.detail.print})},hidden:p=>{p.target.style.visibility=p.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:p.detail.hidden})},focus:p=>{setTimeout(()=>p.target.focus({preventScroll:!1}),0)},userName:p=>{p.target.title=p.detail.userName},readonly:p=>{p.detail.readonly?p.target.setAttribute("readonly",""):p.target.removeAttribute("readonly")},required:p=>{p.detail.required?p.target.setAttribute("required",""):p.target.removeAttribute("required")},bgColor:p=>{c("bgColor","backgroundColor",p)},fillColor:p=>{c("fillColor","backgroundColor",p)},fgColor:p=>{c("fgColor","color",p)},textColor:p=>{c("textColor","color",p)},borderColor:p=>{c("borderColor","borderColor",p)},strokeColor:p=>{c("strokeColor","borderColor",p)}})}_dispatchEventFromSandbox(c,p){const b=this._commonActions;for(const E of Object.keys(p.detail)){const C=c[E]||b[E];C&&C(p)}}_setDefaultPropertiesFromJS(c){if(!this.enableScripting)return;const p=this.annotationStorage.getRawValue(this.data.id);if(!p)return;const b=this._commonActions;for(const[E,C]of Object.entries(p)){const y=b[E];y&&(y({detail:C,target:c}),delete p[E])}}_createQuadrilaterals(c=!1){if(!this.data.quadPoints)return null;const p=[],b=this.data.rect;for(const E of this.data.quadPoints)this.data.rect=[E[2].x,E[2].y,E[1].x,E[1].y],p.push(this._createContainer(c));return this.data.rect=b,p}_createPopup(c,p){let b=this.container;this.quadrilaterals&&(c=c||this.quadrilaterals,b=this.quadrilaterals[0]),c||((c=document.createElement("div")).style.height=b.style.height,c.style.width=b.style.width,b.appendChild(c));const C=new f({container:b,trigger:c,color:p.color,titleObj:p.titleObj,modificationDate:p.modificationDate,contentsObj:p.contentsObj,richText:p.richText,hideWrapper:!0}).render();C.style.left=b.style.width,b.appendChild(C)}_renderQuadrilaterals(c){for(const p of this.quadrilaterals)p.className=c;return this.quadrilaterals}render(){(0,d.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(c,p=null){const b=[];if(this._fieldObjects){const E=this._fieldObjects[c];if(E)for(const{page:C,id:y,exportValues:O}of E){if(-1===C||y===p)continue;const le="string"==typeof O?O:null,J=document.getElementById(y);!J||k.has(J)?b.push({id:y,exportValue:le,domElement:J}):(0,d.warn)(`_getElementsByName - element not allowed: ${y}`)}return b}for(const E of document.getElementsByName(c)){const{id:C,exportValue:y}=E;C!==p&&k.has(E)&&b.push({id:C,exportValue:y,domElement:E})}return b}static get platform(){const c=typeof navigator<"u"?navigator.platform:"";return(0,d.shadow)(this,"platform",{isWin:c.includes("Win"),isMac:c.includes("Mac")})}}class Q extends se{constructor(c,p=null){super(c,{isRenderable:!!(c.data.url||c.data.dest||c.data.action||c.data.isTooltipOnly||c.data.resetForm||c.data.actions&&(c.data.actions.Action||c.data.actions["Mouse Up"]||c.data.actions["Mouse Down"])),ignoreBorder:!!p?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:c,linkService:p}=this,b=document.createElement("a");if(c.url)p.addLinkAttributes(b,c.url,c.newWindow);else if(c.action)this._bindNamedAction(b,c.action);else if(c.dest)this._bindLink(b,c.dest);else{let E=!1;c.actions&&(c.actions.Action||c.actions["Mouse Up"]||c.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(E=!0,this._bindJSAction(b,c)),c.resetForm?this._bindResetFormAction(b,c.resetForm):E||this._bindLink(b,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((E,C)=>{const y=0===C?b:b.cloneNode();return E.appendChild(y),E}):(this.container.className="linkAnnotation",this.container.appendChild(b),this.container)}_bindLink(c,p){c.href=this.linkService.getDestinationHash(p),c.onclick=()=>(p&&this.linkService.goToDestination(p),!1),(p||""===p)&&(c.className="internalLink")}_bindNamedAction(c,p){c.href=this.linkService.getAnchorUrl(""),c.onclick=()=>(this.linkService.executeNamedAction(p),!1),c.className="internalLink"}_bindJSAction(c,p){c.href=this.linkService.getAnchorUrl("");const b=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const E of Object.keys(p.actions)){const C=b.get(E);C&&(c[C]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p.id,name:E}}),!1))}c.onclick||(c.onclick=()=>!1),c.className="internalLink"}_bindResetFormAction(c,p){const b=c.onclick;if(b||(c.href=this.linkService.getAnchorUrl("")),c.className="internalLink",!this._fieldObjects)return(0,d.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(b||(c.onclick=()=>!1));c.onclick=()=>{b&&b();const{fields:E,refs:C,include:y}=p,O=[];if(0!==E.length||0!==C.length){const he=new Set(C);for(const de of E){const be=this._fieldObjects[de]||[];for(const{id:ye}of be)he.add(ye)}for(const de of Object.values(this._fieldObjects))for(const be of de)he.has(be.id)===y&&O.push(be)}else for(const he of Object.values(this._fieldObjects))O.push(...he);const le=this.annotationStorage,J=[];for(const he of O){const{id:de}=he;switch(J.push(de),he.type){case"text":case"combobox":case"listbox":le.setValue(de,{value:he.defaultValue||""});break;case"checkbox":case"radiobutton":le.setValue(de,{value:he.defaultValue===he.exportValues});break;default:continue}const be=document.getElementById(de);!be||!k.has(be)||be.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:J,name:"ResetForm"}}),!1}}}class ie extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str)})}render(){this.container.className="textAnnotation";const c=document.createElement("img");return c.style.height=this.container.style.height,c.style.width=this.container.style.width,c.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",c.alt="[{{type}} Annotation]",c.dataset.l10nId="text_annotation_type",c.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(c,this.data),this.container.appendChild(c),this.container}}class T extends se{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(c){const{isWin:p,isMac:b}=se.platform;return p&&c.ctrlKey||b&&c.metaKey}_setEventListener(c,p,b,E){p.includes("mouse")?c.addEventListener(p,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:b,value:E(C),shift:C.shiftKey,modifier:this._getKeyModifier(C)}})}):c.addEventListener(p,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:b,value:E(C)}})})}_setEventListeners(c,p,b){for(const[E,C]of p)("Action"===C||this.data.actions?.[C])&&this._setEventListener(c,E,C,b)}_setBackgroundColor(c){const p=this.data.backgroundColor||null;c.style.backgroundColor=null===p?"transparent":d.Util.makeHexColor(p[0],p[1],p[2])}}class B extends T{constructor(c){super(c,{isRenderable:c.renderForms||!c.data.hasAppearance&&!!c.data.fieldValue})}setPropertyOnSiblings(c,p,b,E){const C=this.annotationStorage;for(const y of this._getElementsByName(c.name,c.id))y.domElement&&(y.domElement[p]=b),C.setValue(y.id,{[E]:b})}render(){const c=this.annotationStorage,p=this.data.id;this.container.className="textWidgetAnnotation";let b=null;if(this.renderForms){const E=c.getValue(p,{value:this.data.fieldValue}),C=E.formattedValue||E.value||"",y={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(b=document.createElement("textarea"),b.textContent=C):(b=document.createElement("input"),b.type="text",b.setAttribute("value",C)),k.add(b),b.disabled=this.data.readOnly,b.name=this.data.fieldName,b.tabIndex=H,y.userValue=C,b.setAttribute("id",p),b.addEventListener("input",le=>{c.setValue(p,{value:le.target.value}),this.setPropertyOnSiblings(b,"value",le.target.value,"value")}),b.addEventListener("resetform",le=>{b.value=y.userValue=this.data.defaultFieldValue??"",y.formattedValue=null});let O=le=>{const{formattedValue:J}=y;null!=J&&(le.target.value=J),le.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){b.addEventListener("focus",J=>{y.userValue&&(J.target.value=y.userValue),y.valueOnFocus=J.target.value}),b.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value(de){y.userValue=de.detail.value??"",c.setValue(p,{value:y.userValue.toString()}),de.target.value=y.userValue},formattedValue(de){const{formattedValue:be}=de.detail;y.formattedValue=be,null!=be&&de.target!==document.activeElement&&(de.target.value=be),c.setValue(p,{formattedValue:be})},selRange(de){de.target.setSelectionRange(...de.detail.selRange)}},J)}),b.addEventListener("keydown",J=>{let he=-1;if("Escape"===J.key?he=0:"Enter"===J.key?he=2:"Tab"===J.key&&(he=3),-1===he)return;const{value:de}=J.target;y.valueOnFocus!==de&&(y.userValue=de,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:de,willCommit:!0,commitKey:he,selStart:J.target.selectionStart,selEnd:J.target.selectionEnd}}))});const le=O;O=null,b.addEventListener("blur",J=>{const{value:he}=J.target;y.userValue=he,this._mouseState.isDown&&y.valueOnFocus!==he&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:he,willCommit:!0,commitKey:1,selStart:J.target.selectionStart,selEnd:J.target.selectionEnd}}),le(J)}),this.data.actions?.Keystroke&&b.addEventListener("beforeinput",J=>{const{data:he,target:de}=J,{value:be,selectionStart:ye,selectionEnd:Re}=de;let Ve=ye,We=Re;switch(J.inputType){case"deleteWordBackward":{const He=be.substring(0,ye).match(/\w*[^\w]*$/);He&&(Ve-=He[0].length);break}case"deleteWordForward":{const He=be.substring(ye).match(/^[^\w]*\w*/);He&&(We+=He[0].length);break}case"deleteContentBackward":ye===Re&&(Ve-=1);break;case"deleteContentForward":ye===Re&&(We+=1)}J.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:be,change:he||"",willCommit:!1,selStart:Ve,selEnd:We}})}),this._setEventListeners(b,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.value)}if(O&&b.addEventListener("blur",O),null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){const J=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;b.classList.add("comb"),b.style.letterSpacing=`calc(${J}px - 1ch)`}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell";return this._setTextStyle(b),this._setBackgroundColor(b),this._setDefaultPropertiesFromJS(b),this.container.appendChild(b),this.container}_setTextStyle(c){const{fontSize:b,fontColor:E}=this.data.defaultAppearanceData,C=c.style;b&&(C.fontSize=`${b}px`),C.color=d.Util.makeHexColor(E[0],E[1],E[2]),null!==this.data.textAlignment&&(C.textAlign=["left","center","right"][this.data.textAlignment])}}class I extends T{constructor(c){super(c,{isRenderable:c.renderForms})}render(){const c=this.annotationStorage,p=this.data,b=p.id;let E=c.getValue(b,{value:p.exportValue===p.fieldValue}).value;"string"==typeof E&&(E="Off"!==E,c.setValue(b,{value:E})),this.container.className="buttonWidgetAnnotation checkBox";const C=document.createElement("input");return k.add(C),C.disabled=p.readOnly,C.type="checkbox",C.name=p.fieldName,E&&C.setAttribute("checked",!0),C.setAttribute("id",b),C.setAttribute("exportValue",p.exportValue),C.tabIndex=H,C.addEventListener("change",y=>{const{name:O,checked:le}=y.target;for(const J of this._getElementsByName(O,b)){const he=le&&J.exportValue===p.exportValue;J.domElement&&(J.domElement.checked=he),c.setValue(J.id,{value:he})}c.setValue(b,{value:le})}),C.addEventListener("resetform",y=>{y.target.checked=(p.defaultFieldValue||"Off")===p.exportValue}),this.enableScripting&&this.hasJSActions&&(C.addEventListener("updatefromsandbox",y=>{this._dispatchEventFromSandbox({value(le){le.target.checked="Off"!==le.detail.value,c.setValue(b,{value:le.target.checked})}},y)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.checked)),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class L extends T{constructor(c){super(c,{isRenderable:c.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const c=this.annotationStorage,p=this.data,b=p.id;let E=c.getValue(b,{value:p.fieldValue===p.buttonValue}).value;"string"==typeof E&&(E=E!==p.buttonValue,c.setValue(b,{value:E}));const C=document.createElement("input");if(k.add(C),C.disabled=p.readOnly,C.type="radio",C.name=p.fieldName,E&&C.setAttribute("checked",!0),C.setAttribute("id",b),C.tabIndex=H,C.addEventListener("change",y=>{const{name:O,checked:le}=y.target;for(const J of this._getElementsByName(O,b))c.setValue(J.id,{value:!1});c.setValue(b,{value:le})}),C.addEventListener("resetform",y=>{const O=p.defaultFieldValue;y.target.checked=null!=O&&O===p.buttonValue}),this.enableScripting&&this.hasJSActions){const y=p.buttonValue;C.addEventListener("updatefromsandbox",O=>{this._dispatchEventFromSandbox({value:J=>{const he=y===J.detail.value;for(const de of this._getElementsByName(J.target.name)){const be=he&&de.id===b;de.domElement&&(de.domElement.checked=be),c.setValue(de.id,{value:be})}}},O)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],O=>O.target.checked)}return this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class P extends Q{constructor(c){super(c,{ignoreBorder:c.data.hasAppearance})}render(){const c=super.render();return c.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(c.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(c),c}}class R extends T{constructor(c){super(c,{isRenderable:c.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const c=this.annotationStorage,p=this.data.id,b=c.getValue(p,{value:this.data.fieldValue});let{fontSize:E}=this.data.defaultAppearanceData;E||(E=9);const C=`calc(${E}px * var(--zoom-factor))`,y=document.createElement("select");k.add(y),y.disabled=this.data.readOnly,y.name=this.data.fieldName,y.setAttribute("id",p),y.tabIndex=H,y.style.fontSize=`${E}px`,this.data.combo||(y.size=this.data.options.length,this.data.multiSelect&&(y.multiple=!0)),y.addEventListener("resetform",J=>{const he=this.data.defaultFieldValue;for(const de of y.options)de.selected=de.value===he});for(const J of this.data.options){const he=document.createElement("option");he.textContent=J.displayValue,he.value=J.exportValue,this.data.combo&&(he.style.fontSize=C),b.value.includes(J.exportValue)&&he.setAttribute("selected",!0),y.appendChild(he)}const O=(J,he)=>{const de=he?"value":"textContent",be=J.target.options;return J.target.multiple?Array.prototype.filter.call(be,ye=>ye.selected).map(ye=>ye[de]):-1===be.selectedIndex?null:be[be.selectedIndex][de]},le=J=>Array.prototype.map.call(J.target.options,de=>({displayValue:de.textContent,exportValue:de.value}));return this.enableScripting&&this.hasJSActions?(y.addEventListener("updatefromsandbox",J=>{this._dispatchEventFromSandbox({value(de){const be=de.detail.value,ye=new Set(Array.isArray(be)?be:[be]);for(const Re of y.options)Re.selected=ye.has(Re.value);c.setValue(p,{value:O(de,!0)})},multipleSelection(de){y.multiple=!0},remove(de){const be=y.options,ye=de.detail.remove;be[ye].selected=!1,y.remove(ye),be.length>0&&-1===Array.prototype.findIndex.call(be,Ve=>Ve.selected)&&(be[0].selected=!0),c.setValue(p,{value:O(de,!0),items:le(de)})},clear(de){for(;0!==y.length;)y.remove(0);c.setValue(p,{value:null,items:[]})},insert(de){const{index:be,displayValue:ye,exportValue:Re}=de.detail.insert,Ve=document.createElement("option");Ve.textContent=ye,Ve.value=Re,y.insertBefore(Ve,y.children[be]),c.setValue(p,{value:O(de,!0),items:le(de)})},items(de){const{items:be}=de.detail;for(;0!==y.length;)y.remove(0);for(const ye of be){const{displayValue:Re,exportValue:Ve}=ye,We=document.createElement("option");We.textContent=Re,We.value=Ve,y.appendChild(We)}y.options.length>0&&(y.options[0].selected=!0),c.setValue(p,{value:O(de,!0),items:le(de)})},indices(de){const be=new Set(de.detail.indices);for(const ye of de.target.options)ye.selected=be.has(ye.index);c.setValue(p,{value:O(de,!0)})},editable(de){de.target.disabled=!de.detail.editable}},J)}),y.addEventListener("input",J=>{const he=O(J,!0),de=O(J,!1);c.setValue(p,{value:he}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:de,changeEx:he,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],J=>J.target.checked)):y.addEventListener("input",function(J){c.setValue(p,{value:O(J,!0)})}),this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}}class h extends se{constructor(c){super(c,{isRenderable:!!(c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const b=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===b.length)return this.container;const E=new f({container:this.container,trigger:Array.from(b),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),C=this.page,y=d.Util.normalizeRect([this.data.parentRect[0],C.view[3]-this.data.parentRect[1]+C.view[1],this.data.parentRect[2],C.view[3]-this.data.parentRect[3]+C.view[1]]),O=y[0]+this.data.parentRect[2]-this.data.parentRect[0],le=y[1];return this.container.style.transformOrigin=`${-O}px ${-le}px`,this.container.style.left=`${O}px`,this.container.style.top=`${le}px`,this.container.appendChild(E.render()),this.container}}class f{constructor(c){this.container=c.container,this.trigger=c.trigger,this.color=c.color,this.titleObj=c.titleObj,this.modificationDate=c.modificationDate,this.contentsObj=c.contentsObj,this.richText=c.richText,this.hideWrapper=c.hideWrapper||!1,this.pinned=!1}render(){const p=document.createElement("div");p.className="popupWrapper",this.hideElement=this.hideWrapper?p:this.container,this.hideElement.hidden=!0;const b=document.createElement("div");b.className="popup";const E=this.color;E&&(b.style.backgroundColor=d.Util.makeHexColor(0|.7*(255-E[0])+E[0],0|.7*(255-E[1])+E[1],0|.7*(255-E[2])+E[2]));const C=document.createElement("h1");C.dir=this.titleObj.dir,C.textContent=this.titleObj.str,b.appendChild(C);const y=q.PDFDateString.toDateObject(this.modificationDate);if(y){const O=document.createElement("span");O.className="popupDate",O.textContent="{{date}}, {{time}}",O.dataset.l10nId="annotation_date_string",O.dataset.l10nArgs=JSON.stringify({date:y.toLocaleDateString(),time:y.toLocaleTimeString()}),b.appendChild(O)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const O=this._formatContents(this.contentsObj);b.appendChild(O)}else j.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:b}),b.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const O of this.trigger)O.addEventListener("click",this._toggle.bind(this)),O.addEventListener("mouseover",this._show.bind(this,!1)),O.addEventListener("mouseout",this._hide.bind(this,!1));return b.addEventListener("click",this._hide.bind(this,!0)),p.appendChild(b),p}_formatContents({str:c,dir:p}){const b=document.createElement("p");b.className="popupContent",b.dir=p;const E=c.split(/(?:\r\n?|\n)/);for(let C=0,y=E.length;C<y;++C)b.appendChild(document.createTextNode(E[C])),C<y-1&&b.appendChild(document.createElement("br"));return b}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(c=!1){c&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(c=!0){c&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class w extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const c=this.data,{width:p,height:b}=X(c.rect),E=this.svgFactory.create(p,b),C=this.svgFactory.createElement("svg:line");return C.setAttribute("x1",c.rect[2]-c.lineCoordinates[0]),C.setAttribute("y1",c.rect[3]-c.lineCoordinates[1]),C.setAttribute("x2",c.rect[2]-c.lineCoordinates[2]),C.setAttribute("y2",c.rect[3]-c.lineCoordinates[3]),C.setAttribute("stroke-width",c.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),E.appendChild(C),this.container.append(E),this._createPopup(C,c),this.container}}class D extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const c=this.data,{width:p,height:b}=X(c.rect),E=this.svgFactory.create(p,b),C=c.borderStyle.width,y=this.svgFactory.createElement("svg:rect");return y.setAttribute("x",C/2),y.setAttribute("y",C/2),y.setAttribute("width",p-C),y.setAttribute("height",b-C),y.setAttribute("stroke-width",C||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),E.appendChild(y),this.container.append(E),this._createPopup(y,c),this.container}}class M extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const c=this.data,{width:p,height:b}=X(c.rect),E=this.svgFactory.create(p,b),C=c.borderStyle.width,y=this.svgFactory.createElement("svg:ellipse");return y.setAttribute("cx",p/2),y.setAttribute("cy",b/2),y.setAttribute("rx",p/2-C/2),y.setAttribute("ry",b/2-C/2),y.setAttribute("stroke-width",C||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),E.appendChild(y),this.container.append(E),this._createPopup(y,c),this.container}}class S extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const c=this.data,{width:p,height:b}=X(c.rect),E=this.svgFactory.create(p,b);let C=[];for(const O of c.vertices)C.push(O.x-c.rect[0]+","+(c.rect[3]-O.y));C=C.join(" ");const y=this.svgFactory.createElement(this.svgElementName);return y.setAttribute("points",C),y.setAttribute("stroke-width",c.borderStyle.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),E.appendChild(y),this.container.append(E),this._createPopup(y,c),this.container}}class v extends S{constructor(c){super(c),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $ extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const c=this.data,{width:p,height:b}=X(c.rect),E=this.svgFactory.create(p,b);for(const C of c.inkLists){let y=[];for(const le of C)y.push(`${le.x-c.rect[0]},${c.rect[3]-le.y}`);y=y.join(" ");const O=this.svgFactory.createElement(this.svgElementName);O.setAttribute("points",y),O.setAttribute("stroke-width",c.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),this._createPopup(O,c),E.appendChild(O)}return this.container.append(E),this.container}}class te extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ue extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class pe extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class me extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class _e extends se{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ke extends se{constructor(c){super(c,{isRenderable:!0});const{filename:p,content:b}=this.data.file;this.filename=(0,q.getFilenameFromUrl)(p),this.content=b,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:p,content:b})}render(){this.container.className="fileAttachmentAnnotation";const c=document.createElement("div");return c.style.height=this.container.style.height,c.style.width=this.container.style.width,c.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(c,this.data),this.container.appendChild(c),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class Te{static render(c){const p=[],b=[];for(const C of c.annotations){if(!C)continue;const{width:y,height:O}=X(C.rect);if(!(y<=0||O<=0)){if(C.annotationType===d.AnnotationType.POPUP){b.push(C);continue}p.push(C)}}b.length&&p.push(...b);const E=c.div;for(const C of p){const y=ee.create({data:C,layer:E,page:c.page,viewport:c.viewport,linkService:c.linkService,downloadManager:c.downloadManager,imageResourcesPath:c.imageResourcesPath||"",renderForms:!1!==c.renderForms,svgFactory:new q.DOMSVGFactory,annotationStorage:c.annotationStorage||new G.AnnotationStorage,enableScripting:c.enableScripting,hasJSActions:c.hasJSActions,fieldObjects:c.fieldObjects,mouseState:c.mouseState||{isDown:!1}});if(y.isRenderable){const O=y.render();if(C.hidden&&(O.style.visibility="hidden"),Array.isArray(O))for(const le of O)E.appendChild(le);else y instanceof h?E.prepend(O):E.appendChild(O)}}_classStaticPrivateMethodGet(this,Te,z).call(this,E,c.annotationCanvasMap)}static update(c){const{page:p,viewport:b,annotations:E,annotationCanvasMap:C,div:y}=c,O=b.transform,le=`matrix(${O.join(",")})`;let J,he;for(const de of E){const be=y.querySelectorAll(`[data-annotation-id="${de.id}"]`);if(be)for(const ye of be)if(de.hasOwnCanvas){const Re=d.Util.normalizeRect([de.rect[0],p.view[3]-de.rect[1]+p.view[1],de.rect[2],p.view[3]-de.rect[3]+p.view[1]]);if(!he){J=Math.abs(O[0]||O[1]);const He=O.slice();for(let xe=0;xe<4;xe++)He[xe]=Math.sign(He[xe]);he=`matrix(${He.join(",")})`}const Ve=Re[0]*J,We=Re[1]*J;ye.style.left=`${Ve}px`,ye.style.top=`${We}px`,ye.style.transformOrigin=`${-Ve}px ${-We}px`,ye.style.transform=he}else ye.style.transform=le}_classStaticPrivateMethodGet(this,Te,z).call(this,y,C),y.hidden=!1}}function z(m,c){if(c){for(const[p,b]of c){const E=m.querySelector(`[data-annotation-id="${p}"]`);if(!E)continue;const{firstChild:C}=E;"CANVAS"===C.nodeName?E.replaceChild(b,C):E.insertBefore(b,C)}c.clear()}}g.AnnotationLayer=Te},(re,g)=>{function N(q){return Math.floor(255*Math.max(0,Math.min(1,q))).toString(16).padStart(2,"0")}Object.defineProperty(g,"__esModule",{value:!0}),g.ColorConverters=void 0,g.ColorConverters=class d{static CMYK_G([G,oe,j,H]){return["G",1-Math.min(1,.3*G+.59*j+.11*oe+H)]}static G_CMYK([G]){return["CMYK",0,0,0,1-G]}static G_RGB([G]){return["RGB",G,G,G]}static G_HTML([G]){const oe=N(G);return`#${oe}${oe}${oe}`}static RGB_G([G,oe,j]){return["G",.3*G+.59*oe+.11*j]}static RGB_HTML([G,oe,j]){return`#${N(G)}${N(oe)}${N(j)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([G,oe,j,H]){return["RGB",1-Math.min(1,G+H),1-Math.min(1,j+H),1-Math.min(1,oe+H)]}static CMYK_HTML(G){return this.RGB_HTML(this.CMYK_RGB(G))}static RGB_CMYK([G,oe,j]){const H=1-G,k=1-oe,X=1-j;return["CMYK",H,k,X,Math.min(H,k,X)]}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayer=void 0;var d=N(18);g.XfaLayer=class q{static setupStorage(oe,j,H,k,X){const ee=k.getValue(j,{value:null});switch(H.name){case"textarea":if(null!==ee.value&&(oe.textContent=ee.value),"print"===X)break;oe.addEventListener("input",se=>{k.setValue(j,{value:se.target.value})});break;case"input":if("radio"===H.attributes.type||"checkbox"===H.attributes.type){if(ee.value===H.attributes.xfaOn?oe.setAttribute("checked",!0):ee.value===H.attributes.xfaOff&&oe.removeAttribute("checked"),"print"===X)break;oe.addEventListener("change",se=>{k.setValue(j,{value:se.target.getAttribute(se.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==ee.value&&oe.setAttribute("value",ee.value),"print"===X)break;oe.addEventListener("input",se=>{k.setValue(j,{value:se.target.value})})}break;case"select":if(null!==ee.value)for(const se of H.children)se.attributes.value===ee.value&&(se.attributes.selected=!0);oe.addEventListener("input",se=>{const Q=se.target.options;k.setValue(j,{value:-1===Q.selectedIndex?"":Q[Q.selectedIndex].value})})}}static setAttributes({html:oe,element:j,storage:H=null,intent:k,linkService:X}){const{attributes:ee}=j,se=oe instanceof HTMLAnchorElement;"radio"===ee.type&&(ee.name=`${ee.name}-${k}`);for(const[Q,ie]of Object.entries(ee))if(null!=ie&&"dataId"!==Q)if("style"!==Q)if("textContent"===Q)oe.textContent=ie;else if("class"===Q)ie.length&&oe.setAttribute(Q,ie.join(" "));else{if(se&&("href"===Q||"newWindow"===Q))continue;oe.setAttribute(Q,ie)}else Object.assign(oe.style,ie);se&&X.addLinkAttributes(oe,ee.href,ee.newWindow),H&&ee.dataId&&this.setupStorage(oe,ee.dataId,j,H)}static render(oe){const j=oe.annotationStorage,H=oe.linkService,k=oe.xfaHtml,X=oe.intent||"display",ee=document.createElement(k.name);k.attributes&&this.setAttributes({html:ee,element:k,intent:X,linkService:H});const se=[[k,-1,ee]],Q=oe.div;if(Q.appendChild(ee),oe.viewport){const T=`matrix(${oe.viewport.transform.join(",")})`;Q.style.transform=T}"richText"!==X&&Q.setAttribute("class","xfaLayer xfaFont");const ie=[];for(;se.length>0;){const[T,B,I]=se[se.length-1];if(B+1===T.children.length){se.pop();continue}const L=T.children[++se[se.length-1][1]];if(null===L)continue;const{name:P}=L;if("#text"===P){const h=document.createTextNode(L.value);ie.push(h),I.appendChild(h);continue}let R;if(R=L?.attributes?.xmlns?document.createElementNS(L.attributes.xmlns,P):document.createElement(P),I.appendChild(R),L.attributes&&this.setAttributes({html:R,element:L,storage:j,intent:X,linkService:H}),L.children&&L.children.length>0)se.push([L,-1,R]);else if(L.value){const h=document.createTextNode(L.value);d.XfaText.shouldBuildText(P)&&ie.push(h),R.appendChild(h)}}for(const T of Q.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))T.setAttribute("readOnly",!0);return{textDivs:ie}}static update(oe){const j=`matrix(${oe.viewport.transform.join(",")})`;oe.div.style.transform=j,oe.div.hidden=!1}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.renderTextLayer=function I(L){const P=new B({textContent:L.textContent,textContentStream:L.textContentStream,container:L.container,viewport:L.viewport,textDivs:L.textDivs,textContentItemsStr:L.textContentItemsStr,enhanceTextSelection:L.enhanceTextSelection});return P._render(L.timeout),P};var d=N(1);const G=30,j=new Map,H=/^\s+$/g;function X(L,P,R,h){const f=document.createElement("span"),w=L._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==P.str,hasEOL:P.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==P.str,hasEOL:P.hasEOL};L._textDivs.push(f);const F=d.Util.transform(L._viewport.transform,P.transform);let D=Math.atan2(F[1],F[0]);const M=R[P.fontName];M.vertical&&(D+=Math.PI/2);const S=Math.hypot(F[2],F[3]),v=S*function k(L,P){const R=j.get(L);if(R)return R;P.save(),P.font=`30px ${L}`;const h=P.measureText("");let f=h.fontBoundingBoxAscent,w=Math.abs(h.fontBoundingBoxDescent);if(f){P.restore();const D=f/(f+w);return j.set(L,D),D}P.strokeStyle="red",P.clearRect(0,0,G,G),P.strokeText("g",0,0);let F=P.getImageData(0,0,G,G).data;w=0;for(let D=F.length-1-3;D>=0;D-=4)if(F[D]>0){w=Math.ceil(D/4/G);break}P.clearRect(0,0,G,G),P.strokeText("A",0,G),F=P.getImageData(0,0,G,G).data,f=0;for(let D=0,M=F.length;D<M;D+=4)if(F[D]>0){f=G-Math.floor(D/4/G);break}if(P.restore(),f){const D=f/(f+w);return j.set(L,D),D}return j.set(L,.8),.8}(M.fontFamily,h);let $,W;0===D?($=F[4],W=F[5]-v):($=F[4]+v*Math.sin(D),W=F[5]-v*Math.cos(D)),f.style.left=`${$}px`,f.style.top=`${W}px`,f.style.fontSize=`${S}px`,f.style.fontFamily=M.fontFamily,f.setAttribute("role","presentation"),f.textContent=P.str,f.dir=P.dir,L._fontInspectorEnabled&&(f.dataset.fontName=P.fontName),0!==D&&(w.angle=D*(180/Math.PI));let te=!1;if(P.str.length>1||L._enhanceTextSelection&&H.test(P.str))te=!0;else if(" "!==P.str&&P.transform[0]!==P.transform[3]){const ue=Math.abs(P.transform[0]),pe=Math.abs(P.transform[3]);ue!==pe&&Math.max(ue,pe)/Math.min(ue,pe)>1.5&&(te=!0)}if(te&&(w.canvasWidth=M.vertical?P.height*L._viewport.scale:P.width*L._viewport.scale),L._textDivProperties.set(f,w),L._textContentStream&&L._layoutText(f),L._enhanceTextSelection&&w.hasText){let ue=1,pe=0;0!==D&&(ue=Math.cos(D),pe=Math.sin(D));const me=(M.vertical?P.height:P.width)*L._viewport.scale,_e=S;let ke,Te;0!==D?(ke=[ue,pe,-pe,ue,$,W],Te=d.Util.getAxialAlignedBoundingBox([0,0,me,_e],ke)):Te=[$,W,$+me,W+_e],L._bounds.push({left:Te[0],top:Te[1],right:Te[2],bottom:Te[3],div:f,size:[me,_e],m:ke})}}function ee(L){if(L._canceled)return;const P=L._textDivs,R=L._capability,h=P.length;if(h>1e5)return L._renderingDone=!0,void R.resolve();if(!L._textContentStream)for(let f=0;f<h;f++)L._layoutText(P[f]);L._renderingDone=!0,R.resolve()}function se(L,P,R){let h=0;for(let f=0;f<R;f++){const w=L[P++];w>0&&(h=h?Math.min(w,h):w)}return h}function T(L,P){P.sort(function(f,w){return f.x1-w.x1||f.index-w.index});const h=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const f of P){let w=0;for(;w<h.length&&h[w].end<=f.y1;)w++;let F=h.length-1;for(;F>=0&&h[F].start>=f.y2;)F--;let D,M,S,v,$=-1/0;for(S=w;S<=F;S++){let ue;D=h[S],M=D.boundary,ue=M.x2>f.x1?M.index>f.index?M.x1New:f.x1:void 0===M.x2New?(M.x2+f.x1)/2:M.x2New,ue>$&&($=ue)}for(f.x1New=$,S=w;S<=F;S++)D=h[S],M=D.boundary,void 0===M.x2New?M.x2>f.x1?M.index>f.index&&(M.x2New=M.x2):M.x2New=$:M.x2New>$&&(M.x2New=Math.max($,M.x2));const W=[];let te=null;for(S=w;S<=F;S++){D=h[S],M=D.boundary;const ue=M.x2>f.x2?M:f;te===ue?W[W.length-1].end=D.end:(W.push({start:D.start,end:D.end,boundary:ue}),te=ue)}for(h[w].start<f.y1&&(W[0].start=f.y1,W.unshift({start:h[w].start,end:f.y1,boundary:h[w].boundary})),f.y2<h[F].end&&(W[W.length-1].end=f.y2,W.push({start:f.y2,end:h[F].end,boundary:h[F].boundary})),S=w;S<=F;S++){if(D=h[S],M=D.boundary,void 0!==M.x2New)continue;let ue=!1;for(v=w-1;!ue&&v>=0&&h[v].start>=M.y1;v--)ue=h[v].boundary===M;for(v=F+1;!ue&&v<h.length&&h[v].end<=M.y2;v++)ue=h[v].boundary===M;for(v=0;!ue&&v<W.length;v++)ue=W[v].boundary===M;ue||(M.x2New=$)}Array.prototype.splice.apply(h,[w,F-w+1].concat(W))}for(const f of h){const w=f.boundary;void 0===w.x2New&&(w.x2New=Math.max(L,w.x2))}}class B{constructor({textContent:P,textContentStream:R,container:h,viewport:f,textDivs:w,textContentItemsStr:F,enhanceTextSelection:D}){this._textContent=P,this._textContentStream=R,this._container=h,this._document=h.ownerDocument,this._viewport=f,this._textDivs=w||[],this._textContentItemsStr=F||[],this._enhanceTextSelection=!!D,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,d.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(P,R){for(let h=0,f=P.length;h<f;h++)if(void 0!==P[h].str)this._textContentItemsStr.push(P[h].str),X(this,P[h],R,this._layoutTextCtx);else if("beginMarkedContentProps"===P[h].type||"beginMarkedContent"===P[h].type){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==P[h].id&&this._container.setAttribute("id",`${P[h].id}`),w.appendChild(this._container)}else"endMarkedContent"===P[h].type&&(this._container=this._container.parentNode)}_layoutText(P){const R=this._textDivProperties.get(P);let h="";if(0!==R.canvasWidth&&R.hasText){const{fontSize:f,fontFamily:w}=P.style;(f!==this._layoutTextLastFontSize||w!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${f} ${w}`,this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=w);const{width:F}=this._layoutTextCtx.measureText(P.textContent);if(F>0){const D=R.canvasWidth/F;this._enhanceTextSelection&&(R.scale=D),h=`scaleX(${D})`}}if(0!==R.angle&&(h=`rotate(${R.angle}deg) ${h}`),h.length>0&&(this._enhanceTextSelection&&(R.originalTransform=h),P.style.transform=h),R.hasText&&this._container.appendChild(P),R.hasEOL){const f=document.createElement("br");f.setAttribute("role","presentation"),this._container.appendChild(f)}}_render(P=0){const R=(0,d.createPromiseCapability)();let h=Object.create(null);const f=this._document.createElement("canvas");if(f.height=f.width=G,this._layoutTextCtx=f.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),R.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const w=()=>{this._reader.read().then(({value:F,done:D})=>{D?R.resolve():(Object.assign(h,F.styles),this._processItems(F.items,h),w())},R.reject)};this._reader=this._textContentStream.getReader(),w()}}R.promise.then(()=>{h=null,P?this._renderTimer=setTimeout(()=>{ee(this),this._renderTimer=null},P):ee(this)},this._capability.reject)}expandTextDivs(P=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function Q(L){const P=L._bounds,R=L._viewport,h=function ie(L,P,R){const h=R.map(function(w,F){return{x1:w.left,y1:w.top,x2:w.right,y2:w.bottom,index:F,x1New:void 0,x2New:void 0}});T(L,h);const f=new Array(R.length);for(const w of h)f[w.index]={left:w.x1New,top:0,right:w.x2New,bottom:0};R.map(function(w,F){const D=f[F],M=h[F];M.x1=w.top,M.y1=L-D.right,M.x2=w.bottom,M.y2=L-D.left,M.index=F,M.x1New=void 0,M.x2New=void 0}),T(P,h);for(const w of h){const F=w.index;f[F].top=w.x1New,f[F].bottom=w.x2New}return f}(R.width,R.height,P);for(let f=0;f<h.length;f++){const w=P[f].div,F=L._textDivProperties.get(w);if(0===F.angle){F.paddingLeft=P[f].left-h[f].left,F.paddingTop=P[f].top-h[f].top,F.paddingRight=h[f].right-P[f].right,F.paddingBottom=h[f].bottom-P[f].bottom,L._textDivProperties.set(w,F);continue}const D=h[f],M=P[f],S=M.m,v=S[0],$=S[1],W=[[0,0],[0,M.size[1]],[M.size[0],0],M.size],te=new Float64Array(64);for(let pe=0,me=W.length;pe<me;pe++){const _e=d.Util.applyTransform(W[pe],S);te[pe+0]=v&&(D.left-_e[0])/v,te[pe+4]=$&&(D.top-_e[1])/$,te[pe+8]=v&&(D.right-_e[0])/v,te[pe+12]=$&&(D.bottom-_e[1])/$,te[pe+16]=$&&(D.left-_e[0])/-$,te[pe+20]=v&&(D.top-_e[1])/v,te[pe+24]=$&&(D.right-_e[0])/-$,te[pe+28]=v&&(D.bottom-_e[1])/v,te[pe+32]=v&&(D.left-_e[0])/-v,te[pe+36]=$&&(D.top-_e[1])/-$,te[pe+40]=v&&(D.right-_e[0])/-v,te[pe+44]=$&&(D.bottom-_e[1])/-$,te[pe+48]=$&&(D.left-_e[0])/$,te[pe+52]=v&&(D.top-_e[1])/-v,te[pe+56]=$&&(D.right-_e[0])/$,te[pe+60]=v&&(D.bottom-_e[1])/-v}const ue=1+Math.min(Math.abs(v),Math.abs($));F.paddingLeft=se(te,32,16)/ue,F.paddingTop=se(te,48,16)/ue,F.paddingRight=se(te,0,16)/ue,F.paddingBottom=se(te,16,16)/ue,L._textDivProperties.set(w,F)}}(this),this._bounds=null);const R=[],h=[];for(let f=0,w=this._textDivs.length;f<w;f++){const F=this._textDivs[f],D=this._textDivProperties.get(F);D.hasText&&(P?(R.length=0,h.length=0,D.originalTransform&&R.push(D.originalTransform),D.paddingTop>0?(h.push(`${D.paddingTop}px`),R.push(`translateY(${-D.paddingTop}px)`)):h.push(0),h.push(D.paddingRight>0?D.paddingRight/D.scale+"px":0),h.push(D.paddingBottom>0?`${D.paddingBottom}px`:0),D.paddingLeft>0?(h.push(D.paddingLeft/D.scale+"px"),R.push(`translateX(${-D.paddingLeft/D.scale}px)`)):h.push(0),F.style.padding=h.join(" "),R.length&&(F.style.transform=R.join(" "))):(F.style.padding=null,F.style.transform=D.originalTransform))}}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SVGGraphics=void 0;var d=N(1),q=N(5),G=N(3);let oe=class{constructor(){(0,d.unreachable)("Not implemented: SVGGraphics")}};g.SVGGraphics=oe;{let T=function(h){let f=[];const w=[];for(const F of h)"save"!==F.fn?"restore"===F.fn?f=w.pop():f.push(F):(f.push({fnId:92,fn:"group",items:[]}),w.push(f),f=f[f.length-1].items);return f},B=function(h){if(Number.isInteger(h))return h.toString();const f=h.toFixed(10);let w=f.length-1;if("0"!==f[w])return f;do{w--}while("0"===f[w]);return f.substring(0,"."===f[w]?w:w+1)},I=function(h){if(0===h[4]&&0===h[5]){if(0===h[1]&&0===h[2])return 1===h[0]&&1===h[3]?"":`scale(${B(h[0])} ${B(h[3])})`;if(h[0]===h[3]&&h[1]===-h[2]){const f=180*Math.acos(h[0])/Math.PI;return`rotate(${B(f)})`}}else if(1===h[0]&&0===h[1]&&0===h[2]&&1===h[3])return`translate(${B(h[4])} ${B(h[5])})`;return`matrix(${B(h[0])} ${B(h[1])} ${B(h[2])} ${B(h[3])} ${B(h[4])} ${B(h[5])})`};const j={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},H="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/1999/xlink",X=["butt","round","square"],ee=["miter","round","bevel"],se=function(h,f="",w=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!w)return URL.createObjectURL(new Blob([h],{type:f}));const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let D=`data:${f};base64,`;for(let M=0,S=h.length;M<S;M+=3){const v=255&h[M],$=255&h[M+1],W=255&h[M+2];D+=F[v>>2]+F[(3&v)<<4|$>>4]+F[M+1<S?(15&$)<<2|W>>6:64]+F[M+2<S?63&W:64]}return D},Q=function(){const h=new Uint8Array([137,80,78,71,13,10,26,10]),w=new Int32Array(256);for(let W=0;W<256;W++){let te=W;for(let ue=0;ue<8;ue++)te=1&te?3988292384^te>>1&2147483647:te>>1&2147483647;w[W]=te}function D(W,te,ue,pe){let me=pe;const _e=te.length;ue[me]=_e>>24&255,ue[me+1]=_e>>16&255,ue[me+2]=_e>>8&255,ue[me+3]=255&_e,me+=4,ue[me]=255&W.charCodeAt(0),ue[me+1]=255&W.charCodeAt(1),ue[me+2]=255&W.charCodeAt(2),ue[me+3]=255&W.charCodeAt(3),me+=4,ue.set(te,me),me+=te.length;const ke=function F(W,te,ue){let pe=-1;for(let me=te;me<ue;me++)pe=pe>>>8^w[255&(pe^W[me])];return-1^pe}(ue,pe+4,me);ue[me]=ke>>24&255,ue[me+1]=ke>>16&255,ue[me+2]=ke>>8&255,ue[me+3]=255&ke}function v(W){let te=W.length;const ue=65535,pe=Math.ceil(te/ue),me=new Uint8Array(2+te+5*pe+4);let _e=0;me[_e++]=120,me[_e++]=156;let ke=0;for(;te>ue;)me[_e++]=0,me[_e++]=255,me[_e++]=255,me[_e++]=0,me[_e++]=0,me.set(W.subarray(ke,ke+ue),_e),_e+=ue,ke+=ue,te-=ue;me[_e++]=1,me[_e++]=255&te,me[_e++]=te>>8&255,me[_e++]=255&~te,me[_e++]=(65535&~te)>>8&255,me.set(W.subarray(ke),_e),_e+=W.length-ke;const Te=function M(W,te,ue){let pe=1,me=0;for(let _e=te;_e<ue;++_e)pe=(pe+(255&W[_e]))%65521,me=(me+pe)%65521;return me<<16|pe}(W,0,W.length);return me[_e++]=Te>>24&255,me[_e++]=Te>>16&255,me[_e++]=Te>>8&255,me[_e++]=255&Te,me}return function(te,ue,pe){return function $(W,te,ue,pe){const me=W.width,_e=W.height;let ke,Te,z;const m=W.data;switch(te){case d.ImageKind.GRAYSCALE_1BPP:Te=0,ke=1,z=me+7>>3;break;case d.ImageKind.RGB_24BPP:Te=2,ke=8,z=3*me;break;case d.ImageKind.RGBA_32BPP:Te=6,ke=8,z=4*me;break;default:throw new Error("invalid format")}const c=new Uint8Array((1+z)*_e);let p=0,b=0;for(let J=0;J<_e;++J)c[p++]=0,c.set(m.subarray(b,b+z),p),b+=z,p+=z;if(te===d.ImageKind.GRAYSCALE_1BPP&&pe){p=0;for(let J=0;J<_e;J++){p++;for(let he=0;he<z;he++)c[p++]^=255}}const E=new Uint8Array([me>>24&255,me>>16&255,me>>8&255,255&me,_e>>24&255,_e>>16&255,_e>>8&255,255&_e,ke,Te,0,0,0]),C=function S(W){if(!G.isNodeJS)return v(W);try{let te;te=parseInt(process.versions.node)>=8?W:Buffer.from(W);const ue=__webpack_require__(258).deflateSync(te,{level:9});return ue instanceof Uint8Array?ue:new Uint8Array(ue)}catch(te){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+te)}return v(W)}(c),O=new Uint8Array(h.length+36+E.length+C.length);let le=0;return O.set(h,le),le+=h.length,D("IHDR",E,O,le),le+=12+E.length,D("IDATA",C,O,le),le+=12+C.length,D("IEND",new Uint8Array(0),O,le),se(O,"image/png",ue)}(te,void 0===te.kind?d.ImageKind.GRAYSCALE_1BPP:te.kind,ue,pe)}}();class ie{constructor(){this.fontSizeScale=1,this.fontWeight=j.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(f,w){this.x=f,this.y=w}}let L=0,P=0,R=0;g.SVGGraphics=oe=class{constructor(h,f,w=!1){this.svgFactory=new q.DOMSVGFactory,this.current=new ie,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=h,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!w,this._operatorIdMapping=[];for(const F in d.OPS)this._operatorIdMapping[d.OPS[F]]=F}save(){this.transformStack.push(this.transformMatrix);const h=this.current;this.extraStack.push(h),this.current=h.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(h){this.save(),this.executeOpTree(h),this.restore()}loadDependencies(h){const f=h.fnArray,w=h.argsArray;for(let F=0,D=f.length;F<D;F++)if(f[F]===d.OPS.dependency)for(const M of w[F]){const S=M.startsWith("g_")?this.commonObjs:this.objs,v=new Promise($=>{S.get(M,$)});this.current.dependencies.push(v)}return Promise.all(this.current.dependencies)}transform(h,f,w,F,D,M){this.transformMatrix=d.Util.transform(this.transformMatrix,[h,f,w,F,D,M]),this.tgrp=null}getSVG(h,f){this.viewport=f;const w=this._initialize(f);return this.loadDependencies(h).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(h)),w))}convertOpList(h){const f=this._operatorIdMapping,w=h.argsArray,F=h.fnArray,D=[];for(let M=0,S=F.length;M<S;M++){const v=F[M];D.push({fnId:v,fn:f[v],args:w[M]})}return T(D)}executeOpTree(h){for(const f of h){const w=f.fn,D=f.args;switch(0|f.fnId){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(D);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(D[0],D[1]);break;case d.OPS.setFont:this.setFont(D);break;case d.OPS.showText:case d.OPS.showSpacedText:this.showText(D[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(D[0],D[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(D[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(D[0]);break;case d.OPS.setHScale:this.setHScale(D[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(D[0],D[1],D[2],D[3],D[4],D[5]);break;case d.OPS.setTextRise:this.setTextRise(D[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(D[0]);break;case d.OPS.setLineWidth:this.setLineWidth(D[0]);break;case d.OPS.setLineJoin:this.setLineJoin(D[0]);break;case d.OPS.setLineCap:this.setLineCap(D[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(D[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(D[0],D[1],D[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(D[0],D[1],D[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(D);break;case d.OPS.setFillColorN:this.setFillColorN(D);break;case d.OPS.shadingFill:this.shadingFill(D[0]);break;case d.OPS.setDash:this.setDash(D[0],D[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(D[0]);break;case d.OPS.setFlatness:this.setFlatness(D[0]);break;case d.OPS.setGState:this.setGState(D[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintImageXObject:this.paintImageXObject(D[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(D[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(D[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(D[0],D[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(D[0],D[1],D[2],D[3],D[4],D[5]);break;case d.OPS.constructPath:this.constructPath(D[0],D[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(f.items);break;default:(0,d.warn)(`Unimplemented operator ${w}`)}}}setWordSpacing(h){this.current.wordSpacing=h}setCharSpacing(h){this.current.charSpacing=h}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(h,f,w,F,D,M){const S=this.current;S.textMatrix=S.lineMatrix=[h,f,w,F,D,M],S.textMatrixScale=Math.hypot(h,f),S.x=S.lineX=0,S.y=S.lineY=0,S.xcoords=[],S.ycoords=[],S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${B(S.fontSize)}px`),S.tspan.setAttributeNS(null,"y",B(-S.y)),S.txtElement=this.svgFactory.createElement("svg:text"),S.txtElement.appendChild(S.tspan)}beginText(){const h=this.current;h.x=h.lineX=0,h.y=h.lineY=0,h.textMatrix=d.IDENTITY_MATRIX,h.lineMatrix=d.IDENTITY_MATRIX,h.textMatrixScale=1,h.tspan=this.svgFactory.createElement("svg:tspan"),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtgrp=this.svgFactory.createElement("svg:g"),h.xcoords=[],h.ycoords=[]}moveText(h,f){const w=this.current;w.x=w.lineX+=h,w.y=w.lineY+=f,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${B(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",B(-w.y))}showText(h){const f=this.current,w=f.font,F=f.fontSize;if(0===F)return;const D=f.fontSizeScale,M=f.charSpacing,S=f.wordSpacing,v=f.fontDirection,$=f.textHScale*v,W=w.vertical,te=W?1:-1,ue=w.defaultVMetrics,pe=F*f.fontMatrix[0];let me=0;for(const Te of h){if(null===Te){me+=v*S;continue}if("number"==typeof Te){me+=te*Te*F/1e3;continue}const z=(Te.isSpace?S:0)+M,m=Te.fontChar;let c,p,E,b=Te.width;if(W){let C;const y=Te.vmetric||ue;C=Te.vmetric?y[1]:.5*b,C=-C*pe,b=y?-y[0]:b,c=C/D,p=(me+y[2]*pe)/D}else c=me/D,p=0;(Te.isInFont||w.missingFile)&&(f.xcoords.push(f.x+c),W&&f.ycoords.push(-f.y+p),f.tspan.textContent+=m),E=W?b*pe-z*v:b*pe+z*v,me+=E}f.tspan.setAttributeNS(null,"x",f.xcoords.map(B).join(" ")),f.tspan.setAttributeNS(null,"y",W?f.ycoords.map(B).join(" "):B(-f.y)),W?f.y-=me:f.x+=me*$,f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${B(f.fontSize)}px`),f.fontStyle!==j.fontStyle&&f.tspan.setAttributeNS(null,"font-style",f.fontStyle),f.fontWeight!==j.fontWeight&&f.tspan.setAttributeNS(null,"font-weight",f.fontWeight);const _e=f.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;_e===d.TextRenderingMode.FILL||_e===d.TextRenderingMode.FILL_STROKE?(f.fillColor!==j.fillColor&&f.tspan.setAttributeNS(null,"fill",f.fillColor),f.fillAlpha<1&&f.tspan.setAttributeNS(null,"fill-opacity",f.fillAlpha)):f.tspan.setAttributeNS(null,"fill",f.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(_e===d.TextRenderingMode.STROKE||_e===d.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(f.tspan,1/(f.textMatrixScale||1));let ke=f.textMatrix;0!==f.textRise&&(ke=ke.slice(),ke[5]+=f.textRise),f.txtElement.setAttributeNS(null,"transform",`${I(ke)} scale(${B($)}, -1)`),f.txtElement.setAttributeNS(H,"xml:space","preserve"),f.txtElement.appendChild(f.tspan),f.txtgrp.appendChild(f.txtElement),this._ensureTransformGroup().appendChild(f.txtElement)}setLeadingMoveText(h,f){this.setLeading(-f),this.moveText(h,f)}addFontStyle(h){if(!h.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const f=se(h.data,h.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${h.loadedName}"; src: url(${f}); }\n`}setFont(h){const f=this.current,w=this.commonObjs.get(h[0]);let F=h[1];f.font=w,this.embedFonts&&!w.missingFile&&!this.embeddedFonts[w.loadedName]&&(this.addFontStyle(w),this.embeddedFonts[w.loadedName]=w),f.fontMatrix=w.fontMatrix||d.FONT_IDENTITY_MATRIX;let D="normal";w.black?D="900":w.bold&&(D="bold");const M=w.italic?"italic":"normal";F<0?(F=-F,f.fontDirection=-1):f.fontDirection=1,f.fontSize=F,f.fontFamily=w.loadedName,f.fontWeight=D,f.fontStyle=M,f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"y",B(-f.y)),f.xcoords=[],f.ycoords=[]}endText(){const h=this.current;h.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&h.txtElement?.hasChildNodes()&&(h.element=h.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(h){h>0&&(this.current.lineWidth=h)}setLineCap(h){this.current.lineCap=X[h]}setLineJoin(h){this.current.lineJoin=ee[h]}setMiterLimit(h){this.current.miterLimit=h}setStrokeAlpha(h){this.current.strokeAlpha=h}setStrokeRGBColor(h,f,w){this.current.strokeColor=d.Util.makeHexColor(h,f,w)}setFillAlpha(h){this.current.fillAlpha=h}setFillRGBColor(h,f,w){this.current.fillColor=d.Util.makeHexColor(h,f,w),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(h){this.current.strokeColor=this._makeColorN_Pattern(h)}setFillColorN(h){this.current.fillColor=this._makeColorN_Pattern(h)}shadingFill(h){const f=this.viewport.width,w=this.viewport.height,F=d.Util.inverseTransform(this.transformMatrix),D=d.Util.applyTransform([0,0],F),M=d.Util.applyTransform([0,w],F),S=d.Util.applyTransform([f,0],F),v=d.Util.applyTransform([f,w],F),$=Math.min(D[0],M[0],S[0],v[0]),W=Math.min(D[1],M[1],S[1],v[1]),te=Math.max(D[0],M[0],S[0],v[0]),ue=Math.max(D[1],M[1],S[1],v[1]),pe=this.svgFactory.createElement("svg:rect");pe.setAttributeNS(null,"x",$),pe.setAttributeNS(null,"y",W),pe.setAttributeNS(null,"width",te-$),pe.setAttributeNS(null,"height",ue-W),pe.setAttributeNS(null,"fill",this._makeShadingPattern(h)),this.current.fillAlpha<1&&pe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(pe)}_makeColorN_Pattern(h){return"TilingPattern"===h[0]?this._makeTilingPattern(h):this._makeShadingPattern(h)}_makeTilingPattern(h){const f=h[1],w=h[2],F=h[3]||d.IDENTITY_MATRIX,[D,M,S,v]=h[4],$=h[5],W=h[6],te=h[7],ue="shading"+R++,[pe,me,_e,ke]=d.Util.normalizeRect([...d.Util.applyTransform([D,M],F),...d.Util.applyTransform([S,v],F)]),[Te,z]=d.Util.singularValueDecompose2dScale(F),m=$*Te,c=W*z,p=this.svgFactory.createElement("svg:pattern");p.setAttributeNS(null,"id",ue),p.setAttributeNS(null,"patternUnits","userSpaceOnUse"),p.setAttributeNS(null,"width",m),p.setAttributeNS(null,"height",c),p.setAttributeNS(null,"x",`${pe}`),p.setAttributeNS(null,"y",`${me}`);const b=this.svg,E=this.transformMatrix,C=this.current.fillColor,y=this.current.strokeColor,O=this.svgFactory.create(_e-pe,ke-me);if(this.svg=O,this.transformMatrix=F,2===te){const le=d.Util.makeHexColor(...f);this.current.fillColor=le,this.current.strokeColor=le}return this.executeOpTree(this.convertOpList(w)),this.svg=b,this.transformMatrix=E,this.current.fillColor=C,this.current.strokeColor=y,p.appendChild(O.childNodes[0]),this.defs.appendChild(p),`url(#${ue})`}_makeShadingPattern(h){switch("string"==typeof h&&(h=this.objs.get(h)),h[0]){case"RadialAxial":const f="shading"+R++,w=h[3];let F;switch(h[1]){case"axial":const D=h[4],M=h[5];F=this.svgFactory.createElement("svg:linearGradient"),F.setAttributeNS(null,"id",f),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"x1",D[0]),F.setAttributeNS(null,"y1",D[1]),F.setAttributeNS(null,"x2",M[0]),F.setAttributeNS(null,"y2",M[1]);break;case"radial":const S=h[4],v=h[5],$=h[6],W=h[7];F=this.svgFactory.createElement("svg:radialGradient"),F.setAttributeNS(null,"id",f),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"cx",v[0]),F.setAttributeNS(null,"cy",v[1]),F.setAttributeNS(null,"r",W),F.setAttributeNS(null,"fx",S[0]),F.setAttributeNS(null,"fy",S[1]),F.setAttributeNS(null,"fr",$);break;default:throw new Error(`Unknown RadialAxial type: ${h[1]}`)}for(const D of w){const M=this.svgFactory.createElement("svg:stop");M.setAttributeNS(null,"offset",D[0]),M.setAttributeNS(null,"stop-color",D[1]),F.appendChild(M)}return this.defs.appendChild(F),`url(#${f})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${h[0]}`)}}setDash(h,f){this.current.dashArray=h,this.current.dashPhase=f}constructPath(h,f){const w=this.current;let F=w.x,D=w.y,M=[],S=0;for(const v of h)switch(0|v){case d.OPS.rectangle:F=f[S++],D=f[S++];const te=F+f[S++],ue=D+f[S++];M.push("M",B(F),B(D),"L",B(te),B(D),"L",B(te),B(ue),"L",B(F),B(ue),"Z");break;case d.OPS.moveTo:F=f[S++],D=f[S++],M.push("M",B(F),B(D));break;case d.OPS.lineTo:F=f[S++],D=f[S++],M.push("L",B(F),B(D));break;case d.OPS.curveTo:F=f[S+4],D=f[S+5],M.push("C",B(f[S]),B(f[S+1]),B(f[S+2]),B(f[S+3]),B(F),B(D)),S+=6;break;case d.OPS.curveTo2:M.push("C",B(F),B(D),B(f[S]),B(f[S+1]),B(f[S+2]),B(f[S+3])),F=f[S+2],D=f[S+3],S+=4;break;case d.OPS.curveTo3:F=f[S+2],D=f[S+3],M.push("C",B(f[S]),B(f[S+1]),B(F),B(D),B(F),B(D)),S+=4;break;case d.OPS.closePath:M.push("Z")}M=M.join(" "),w.path&&h.length>0&&h[0]!==d.OPS.rectangle&&h[0]!==d.OPS.moveTo?M=w.path.getAttributeNS(null,"d")+M:(w.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(w.path)),w.path.setAttributeNS(null,"d",M),w.path.setAttributeNS(null,"fill","none"),w.element=w.path,w.setCurrentPoint(F,D)}endPath(){const h=this.current;if(h.path=null,!this.pendingClip)return;if(!h.element)return void(this.pendingClip=null);const f="clippath"+L++,w=this.svgFactory.createElement("svg:clipPath");w.setAttributeNS(null,"id",f),w.setAttributeNS(null,"transform",I(this.transformMatrix));const F=h.element.cloneNode(!0);if(F.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,w.appendChild(F),this.defs.appendChild(w),h.activeClipUrl){h.clipGroup=null;for(const D of this.extraStack)D.clipGroup=null;w.setAttributeNS(null,"clip-path",h.activeClipUrl)}h.activeClipUrl=`url(#${f})`,this.tgrp=null}clip(h){this.pendingClip=h}closePath(){const h=this.current;if(h.path){const f=`${h.path.getAttributeNS(null,"d")}Z`;h.path.setAttributeNS(null,"d",f)}}setLeading(h){this.current.leading=-h}setTextRise(h){this.current.textRise=h}setTextRenderingMode(h){this.current.textRenderingMode=h}setHScale(h){this.current.textHScale=h/100}setRenderingIntent(h){}setFlatness(h){}setGState(h){for(const[f,w]of h)switch(f){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w);break;case"CA":this.setStrokeAlpha(w);break;case"ca":this.setFillAlpha(w);break;default:(0,d.warn)(`Unimplemented graphic state operator ${f}`)}}fill(){const h=this.current;h.element&&(h.element.setAttributeNS(null,"fill",h.fillColor),h.element.setAttributeNS(null,"fill-opacity",h.fillAlpha),this.endPath())}stroke(){const h=this.current;h.element&&(this._setStrokeAttributes(h.element),h.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(h,f=1){const w=this.current;let F=w.dashArray;1!==f&&F.length>0&&(F=F.map(function(D){return f*D})),h.setAttributeNS(null,"stroke",w.strokeColor),h.setAttributeNS(null,"stroke-opacity",w.strokeAlpha),h.setAttributeNS(null,"stroke-miterlimit",B(w.miterLimit)),h.setAttributeNS(null,"stroke-linecap",w.lineCap),h.setAttributeNS(null,"stroke-linejoin",w.lineJoin),h.setAttributeNS(null,"stroke-width",B(f*w.lineWidth)+"px"),h.setAttributeNS(null,"stroke-dasharray",F.map(B).join(" ")),h.setAttributeNS(null,"stroke-dashoffset",B(f*w.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width","1px"),h.setAttributeNS(null,"height","1px"),h.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(h)}paintImageXObject(h){const f=h.startsWith("g_")?this.commonObjs.get(h):this.objs.get(h);f?this.paintInlineImageXObject(f):(0,d.warn)(`Dependent image with object ID ${h} is not ready yet`)}paintInlineImageXObject(h,f){const w=h.width,F=h.height,D=Q(h,this.forceDataSchema,!!f),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",B(w)),M.setAttributeNS(null,"height",B(F)),this.current.element=M,this.clip("nonzero");const S=this.svgFactory.createElement("svg:image");S.setAttributeNS(k,"xlink:href",D),S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y",B(-F)),S.setAttributeNS(null,"width",B(w)+"px"),S.setAttributeNS(null,"height",B(F)+"px"),S.setAttributeNS(null,"transform",`scale(${B(1/w)} ${B(-1/F)})`),f?f.appendChild(S):this._ensureTransformGroup().appendChild(S)}paintImageMaskXObject(h){const f=this.current,w=h.width,F=h.height,D=f.fillColor;f.maskId="mask"+P++;const M=this.svgFactory.createElement("svg:mask");M.setAttributeNS(null,"id",f.maskId);const S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width",B(w)),S.setAttributeNS(null,"height",B(F)),S.setAttributeNS(null,"fill",D),S.setAttributeNS(null,"mask",`url(#${f.maskId})`),this.defs.appendChild(M),this._ensureTransformGroup().appendChild(S),this.paintInlineImageXObject(h,M)}paintFormXObjectBegin(h,f){if(Array.isArray(h)&&6===h.length&&this.transform(h[0],h[1],h[2],h[3],h[4],h[5]),f){const w=f[2]-f[0],F=f[3]-f[1],D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x",f[0]),D.setAttributeNS(null,"y",f[1]),D.setAttributeNS(null,"width",B(w)),D.setAttributeNS(null,"height",B(F)),this.current.element=D,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(h){const f=this.svgFactory.create(h.width,h.height),w=this.svgFactory.createElement("svg:defs");f.appendChild(w),this.defs=w;const F=this.svgFactory.createElement("svg:g");return F.setAttributeNS(null,"transform",I(h.transform)),f.appendChild(F),this.svg=F,f}_ensureClipGroup(){if(!this.current.clipGroup){const h=this.svgFactory.createElement("svg:g");h.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(h),this.current.clipGroup=h}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",I(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFNodeStream=void 0;var d=N(1),q=N(26);const G=__webpack_require__(172),oe=__webpack_require__(1),j=__webpack_require__(779),H=__webpack_require__(558),k=/^file:\/\/\/[a-zA-Z]:\//;g.PDFNodeStream=class ee{constructor(R){this.source=R,this.url=function X(P){const R=H.parse(P);return"file:"===R.protocol||R.host?R:/^[a-z]:[/\\]/i.test(P)?H.parse(`file:///${P}`):(R.host||(R.protocol="file:"),R)}(R.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&R.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new I(this):new T(this),this._fullRequestReader}getRangeReader(R,h){if(h<=this._progressiveDataLength)return null;const f=this.isFsUrl?new L(this,R,h):new B(this,R,h);return this._rangeRequestReaders.push(f),f}cancelAllRequests(R){this._fullRequestReader&&this._fullRequestReader.cancel(R);for(const h of this._rangeRequestReaders.slice(0))h.cancel(R)}};class se{constructor(R){this._url=R.url,this._done=!1,this._storedError=null,this.onProgress=null;const h=R.source;this._contentLength=h.length,this._loaded=0,this._filename=null,this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._readableStream=null,this._readCapability=(0,d.createPromiseCapability)(),this._headersCapability=(0,d.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var R=this;return _asyncToGenerator(function*(){if(yield R._readCapability.promise,R._done)return{value:void 0,done:!0};if(R._storedError)throw R._storedError;const h=R._readableStream.read();return null===h?(R._readCapability=(0,d.createPromiseCapability)(),R.read()):(R._loaded+=h.length,R.onProgress&&R.onProgress({loaded:R._loaded,total:R._contentLength}),{value:new Uint8Array(h).buffer,done:!1})})()}cancel(R){this._readableStream?this._readableStream.destroy(R):this._error(R)}_error(R){this._storedError=R,this._readCapability.resolve()}_setReadableStream(R){this._readableStream=R,R.on("readable",()=>{this._readCapability.resolve()}),R.on("end",()=>{R.destroy(),this._done=!0,this._readCapability.resolve()}),R.on("error",h=>{this._error(h)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new d.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Q{constructor(R){this._url=R.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,d.createPromiseCapability)(),this._isStreamingSupported=!R.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var R=this;return _asyncToGenerator(function*(){if(yield R._readCapability.promise,R._done)return{value:void 0,done:!0};if(R._storedError)throw R._storedError;const h=R._readableStream.read();return null===h?(R._readCapability=(0,d.createPromiseCapability)(),R.read()):(R._loaded+=h.length,R.onProgress&&R.onProgress({loaded:R._loaded}),{value:new Uint8Array(h).buffer,done:!1})})()}cancel(R){this._readableStream?this._readableStream.destroy(R):this._error(R)}_error(R){this._storedError=R,this._readCapability.resolve()}_setReadableStream(R){this._readableStream=R,R.on("readable",()=>{this._readCapability.resolve()}),R.on("end",()=>{R.destroy(),this._done=!0,this._readCapability.resolve()}),R.on("error",h=>{this._error(h)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ie(P,R){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:R}}class T extends se{constructor(R){super(R);const h=f=>{if(404===f.statusCode){const M=new d.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=M,void this._headersCapability.reject(M)}this._headersCapability.resolve(),this._setReadableStream(f);const w=M=>this._readableStream.headers[M.toLowerCase()],{allowRangeRequests:F,suggestedLength:D}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:R.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=F,this._contentLength=D||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(w)};this._request=null,this._request="http:"===this._url.protocol?oe.request(ie(this._url,R.httpHeaders),h):j.request(ie(this._url,R.httpHeaders),h),this._request.on("error",f=>{this._storedError=f,this._headersCapability.reject(f)}),this._request.end()}}class B extends Q{constructor(R,h,f){super(R),this._httpHeaders={};for(const F in R.httpHeaders){const D=R.httpHeaders[F];typeof D>"u"||(this._httpHeaders[F]=D)}this._httpHeaders.Range=`bytes=${h}-${f-1}`;const w=F=>{if(404!==F.statusCode)this._setReadableStream(F);else{const D=new d.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=D}};this._request=null,this._request="http:"===this._url.protocol?oe.request(ie(this._url,this._httpHeaders),w):j.request(ie(this._url,this._httpHeaders),w),this._request.on("error",F=>{this._storedError=F}),this._request.end()}}class I extends se{constructor(R){super(R);let h=decodeURIComponent(this._url.path);k.test(this._url.href)&&(h=h.replace(/^\//,"")),G.lstat(h,(f,w)=>{if(f)return"ENOENT"===f.code&&(f=new d.MissingPDFException(`Missing PDF "${h}".`)),this._storedError=f,void this._headersCapability.reject(f);this._contentLength=w.size,this._setReadableStream(G.createReadStream(h)),this._headersCapability.resolve()})}}class L extends Q{constructor(R,h,f){super(R);let w=decodeURIComponent(this._url.path);k.test(this._url.href)&&(w=w.replace(/^\//,"")),this._setReadableStream(G.createReadStream(w,{start:h,end:f-1}))}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.createResponseStatusError=function H(X,ee){return 404===X||0===X&&ee.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+ee+'".'):new d.UnexpectedResponseException(`Unexpected server response (${X}) while retrieving PDF "${ee}".`,X)},g.extractFilenameFromHeader=function j(X){const ee=X("Content-Disposition");if(ee){let se=(0,q.getFilenameFromContentDispositionHeader)(ee);if(se.includes("%"))try{se=decodeURIComponent(se)}catch{}if((0,G.isPdfFile)(se))return se}return null},g.validateRangeRequestCapabilities=function oe({getResponseHeader:X,isHttp:ee,rangeChunkSize:se,disableRange:Q}){const ie={allowRangeRequests:!1,suggestedLength:void 0},T=parseInt(X("Content-Length"),10);return!Number.isInteger(T)||(ie.suggestedLength=T,T<=2*se)||Q||!ee||"bytes"!==X("Accept-Ranges")||"identity"!==(X("Content-Encoding")||"identity")||(ie.allowRangeRequests=!0),ie},g.validateResponseStatus=function k(X){return 200===X||206===X};var d=N(1),q=N(27),G=N(5)},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.getFilenameFromContentDispositionHeader=function q(G){let oe=!0,j=H("filename\\*","i").exec(G);if(j){j=j[1];let T=se(j);return T=unescape(T),T=Q(T),T=ie(T),X(T)}if(j=function ee(T){const B=[];let I;const L=H("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(I=L.exec(T));){let[,R,h,f]=I;if(R=parseInt(R,10),R in B){if(0===R)break}else B[R]=[h,f]}const P=[];for(let R=0;R<B.length&&R in B;++R){let[h,f]=B[R];f=se(f),h&&(f=unescape(f),0===R&&(f=Q(f))),P.push(f)}return P.join("")}(G),j)return X(ie(j));if(j=H("filename","i").exec(G),j){j=j[1];let T=se(j);return T=ie(T),X(T)}function H(T,B){return new RegExp("(?:^|;)\\s*"+T+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',B)}function k(T,B){if(T){if(!/^[\x00-\xFF]+$/.test(B))return B;try{const I=new TextDecoder(T,{fatal:!0}),L=(0,d.stringToBytes)(B);B=I.decode(L),oe=!1}catch{}}return B}function X(T){return oe&&/[\x80-\xff]/.test(T)&&(T=k("utf-8",T),oe&&(T=k("iso-8859-1",T))),T}function se(T){if(T.startsWith('"')){const B=T.slice(1).split('\\"');for(let I=0;I<B.length;++I){const L=B[I].indexOf('"');-1!==L&&(B[I]=B[I].slice(0,L),B.length=I+1),B[I]=B[I].replace(/\\(.)/g,"$1")}T=B.join('"')}return T}function Q(T){const B=T.indexOf("'");return-1===B?T:k(T.slice(0,B),T.slice(B+1).replace(/^[^']*'/,""))}function ie(T){return!T.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(T)?T:T.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(B,I,L,P){if("q"===L||"Q"===L)return k(I,P=(P=P.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(R,h){return String.fromCharCode(parseInt(h,16))}));try{P=atob(P)}catch{}return k(I,P)})}return""};var d=N(1)},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFNetworkStream=void 0;var d=N(1),q=N(26);class H{constructor(Q,ie={}){this.url=Q,this.isHttp=/^https?:/i.test(Q),this.httpHeaders=this.isHttp&&ie.httpHeaders||Object.create(null),this.withCredentials=ie.withCredentials||!1,this.getXhr=ie.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Q,ie,T){const B={begin:Q,end:ie};for(const I in T)B[I]=T[I];return this.request(B)}requestFull(Q){return this.request(Q)}request(Q){const ie=this.getXhr(),T=this.currXhrId++,B=this.pendingRequests[T]={xhr:ie};ie.open("GET",this.url),ie.withCredentials=this.withCredentials;for(const I in this.httpHeaders){const L=this.httpHeaders[I];typeof L>"u"||ie.setRequestHeader(I,L)}return this.isHttp&&"begin"in Q&&"end"in Q?(ie.setRequestHeader("Range",`bytes=${Q.begin}-${Q.end-1}`),B.expectedStatus=206):B.expectedStatus=200,ie.responseType="arraybuffer",Q.onError&&(ie.onerror=function(I){Q.onError(ie.status)}),ie.onreadystatechange=this.onStateChange.bind(this,T),ie.onprogress=this.onProgress.bind(this,T),B.onHeadersReceived=Q.onHeadersReceived,B.onDone=Q.onDone,B.onError=Q.onError,B.onProgress=Q.onProgress,ie.send(null),T}onProgress(Q,ie){const T=this.pendingRequests[Q];T&&T.onProgress?.(ie)}onStateChange(Q,ie){const T=this.pendingRequests[Q];if(!T)return;const B=T.xhr;if(B.readyState>=2&&T.onHeadersReceived&&(T.onHeadersReceived(),delete T.onHeadersReceived),4!==B.readyState||!(Q in this.pendingRequests))return;if(delete this.pendingRequests[Q],0===B.status&&this.isHttp)return void T.onError?.(B.status);const I=B.status||200;if((200!==I||206!==T.expectedStatus)&&I!==T.expectedStatus)return void T.onError?.(B.status);const P=function j(se){const Q=se.response;return"string"!=typeof Q?Q:(0,d.stringToBytes)(Q).buffer}(B);if(206===I){const R=B.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(R);T.onDone({begin:parseInt(h[1],10),chunk:P})}else P?T.onDone({begin:0,chunk:P}):T.onError?.(B.status)}getRequestXhr(Q){return this.pendingRequests[Q].xhr}isPendingRequest(Q){return Q in this.pendingRequests}abortRequest(Q){const ie=this.pendingRequests[Q].xhr;delete this.pendingRequests[Q],ie.abort()}}g.PDFNetworkStream=class k{constructor(Q){this._source=Q,this._manager=new H(Q.url,{httpHeaders:Q.httpHeaders,withCredentials:Q.withCredentials}),this._rangeChunkSize=Q.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Q){const ie=this._rangeRequestReaders.indexOf(Q);ie>=0&&this._rangeRequestReaders.splice(ie,1)}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new X(this._manager,this._source),this._fullRequestReader}getRangeReader(Q,ie){const T=new ee(this._manager,Q,ie);return T.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(T),T}cancelAllRequests(Q){this._fullRequestReader?.cancel(Q);for(const ie of this._rangeRequestReaders.slice(0))ie.cancel(Q)}};class X{constructor(Q,ie){this._manager=Q;const T={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ie.url,this._fullRequestId=Q.requestFull(T),this._headersReceivedCapability=(0,d.createPromiseCapability)(),this._disableRange=ie.disableRange||!1,this._contentLength=ie.length,this._rangeChunkSize=ie.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Q=this._fullRequestId,ie=this._manager.getRequestXhr(Q),T=L=>ie.getResponseHeader(L),{allowRangeRequests:B,suggestedLength:I}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});B&&(this._isRangeSupported=!0),this._contentLength=I||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(T),this._isRangeSupported&&this._manager.abortRequest(Q),this._headersReceivedCapability.resolve()}_onDone(Q){if(Q&&(this._requests.length>0?this._requests.shift().resolve({value:Q.chunk,done:!1}):this._cachedChunks.push(Q.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Q){this._storedError=(0,q.createResponseStatusError)(Q,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ie of this._requests)ie.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Q){this.onProgress?.({loaded:Q.loaded,total:Q.lengthComputable?Q.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var Q=this;return _asyncToGenerator(function*(){if(Q._storedError)throw Q._storedError;if(Q._cachedChunks.length>0)return{value:Q._cachedChunks.shift(),done:!1};if(Q._done)return{value:void 0,done:!0};const ie=(0,d.createPromiseCapability)();return Q._requests.push(ie),ie.promise})()}cancel(Q){this._done=!0,this._headersReceivedCapability.reject(Q);for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ee{constructor(Q,ie,T){this._manager=Q;const B={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Q.url,this._requestId=Q.requestRange(ie,T,B),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(Q){const ie=Q.chunk;this._requests.length>0?this._requests.shift().resolve({value:ie,done:!1}):this._queuedChunk=ie,this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Q){this._storedError=(0,q.createResponseStatusError)(Q,this._url);for(const ie of this._requests)ie.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Q){this.isStreamingSupported||this.onProgress?.({loaded:Q.loaded})}get isStreamingSupported(){return!1}read(){var Q=this;return _asyncToGenerator(function*(){if(Q._storedError)throw Q._storedError;if(null!==Q._queuedChunk){const T=Q._queuedChunk;return Q._queuedChunk=null,{value:T,done:!1}}if(Q._done)return{value:void 0,done:!0};const ie=(0,d.createPromiseCapability)();return Q._requests.push(ie),ie.promise})()}cancel(Q){this._done=!0;for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(re,g,N)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFetchStream=void 0;var d=N(1),q=N(26);function G(X,ee,se){return{method:"GET",headers:X,signal:se?.signal,mode:"cors",credentials:ee?"include":"same-origin",redirect:"follow"}}function oe(X){const ee=new Headers;for(const se in X){const Q=X[se];typeof Q>"u"||ee.append(se,Q)}return ee}g.PDFFetchStream=class j{constructor(ee){this.source=ee,this.isHttp=/^https?:/i.test(ee.url),this.httpHeaders=this.isHttp&&ee.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,d.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new H(this),this._fullRequestReader}getRangeReader(ee,se){if(se<=this._progressiveDataLength)return null;const Q=new k(this,ee,se);return this._rangeRequestReaders.push(Q),Q}cancelAllRequests(ee){this._fullRequestReader&&this._fullRequestReader.cancel(ee);for(const se of this._rangeRequestReaders.slice(0))se.cancel(ee)}};class H{constructor(ee){this._stream=ee,this._reader=null,this._loaded=0,this._filename=null;const se=ee.source;this._withCredentials=se.withCredentials||!1,this._contentLength=se.length,this._headersCapability=(0,d.createPromiseCapability)(),this._disableRange=se.disableRange||!1,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!se.disableStream,this._isRangeSupported=!se.disableRange,this._headers=oe(this._stream.httpHeaders);const Q=se.url;fetch(Q,G(this._headers,this._withCredentials,this._abortController)).then(ie=>{if(!(0,q.validateResponseStatus)(ie.status))throw(0,q.createResponseStatusError)(ie.status,Q);this._reader=ie.body.getReader(),this._headersCapability.resolve();const T=L=>ie.headers.get(L),{allowRangeRequests:B,suggestedLength:I}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=B,this._contentLength=I||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(T),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new d.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ee=this;return _asyncToGenerator(function*(){yield ee._headersCapability.promise;const{value:se,done:Q}=yield ee._reader.read();return Q?{value:se,done:Q}:(ee._loaded+=se.byteLength,ee.onProgress&&ee.onProgress({loaded:ee._loaded,total:ee._contentLength}),{value:new Uint8Array(se).buffer,done:!1})})()}cancel(ee){this._reader&&this._reader.cancel(ee),this._abortController&&this._abortController.abort()}}class k{constructor(ee,se,Q){this._stream=ee,this._reader=null,this._loaded=0;const ie=ee.source;this._withCredentials=ie.withCredentials||!1,this._readCapability=(0,d.createPromiseCapability)(),this._isStreamingSupported=!ie.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=oe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${se}-${Q-1}`);const T=ie.url;fetch(T,G(this._headers,this._withCredentials,this._abortController)).then(B=>{if(!(0,q.validateResponseStatus)(B.status))throw(0,q.createResponseStatusError)(B.status,T);this._readCapability.resolve(),this._reader=B.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var ee=this;return _asyncToGenerator(function*(){yield ee._readCapability.promise;const{value:se,done:Q}=yield ee._reader.read();return Q?{value:se,done:Q}:(ee._loaded+=se.byteLength,ee.onProgress&&ee.onProgress({loaded:ee._loaded}),{value:new Uint8Array(se).buffer,done:!1})})()}cancel(ee){this._reader&&this._reader.cancel(ee),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(re){var g=__webpack_module_cache__[re];if(void 0!==g)return g.exports;var N=__webpack_module_cache__[re]={exports:{}};return __webpack_modules__[re](N,N.exports,__w_pdfjs_require__),N.exports}var __webpack_exports__={};return(()=>{var re=__webpack_exports__;Object.defineProperty(re,"__esModule",{value:!0}),Object.defineProperty(re,"AnnotationLayer",{enumerable:!0,get:function(){return q.AnnotationLayer}}),Object.defineProperty(re,"AnnotationMode",{enumerable:!0,get:function(){return g.AnnotationMode}}),Object.defineProperty(re,"CMapCompressionType",{enumerable:!0,get:function(){return g.CMapCompressionType}}),Object.defineProperty(re,"GlobalWorkerOptions",{enumerable:!0,get:function(){return G.GlobalWorkerOptions}}),Object.defineProperty(re,"InvalidPDFException",{enumerable:!0,get:function(){return g.InvalidPDFException}}),Object.defineProperty(re,"LoopbackPort",{enumerable:!0,get:function(){return N.LoopbackPort}}),Object.defineProperty(re,"MissingPDFException",{enumerable:!0,get:function(){return g.MissingPDFException}}),Object.defineProperty(re,"OPS",{enumerable:!0,get:function(){return g.OPS}}),Object.defineProperty(re,"PDFDataRangeTransport",{enumerable:!0,get:function(){return N.PDFDataRangeTransport}}),Object.defineProperty(re,"PDFDateString",{enumerable:!0,get:function(){return d.PDFDateString}}),Object.defineProperty(re,"PDFWorker",{enumerable:!0,get:function(){return N.PDFWorker}}),Object.defineProperty(re,"PasswordResponses",{enumerable:!0,get:function(){return g.PasswordResponses}}),Object.defineProperty(re,"PermissionFlag",{enumerable:!0,get:function(){return g.PermissionFlag}}),Object.defineProperty(re,"PixelsPerInch",{enumerable:!0,get:function(){return d.PixelsPerInch}}),Object.defineProperty(re,"RenderingCancelledException",{enumerable:!0,get:function(){return d.RenderingCancelledException}}),Object.defineProperty(re,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(re,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return g.UNSUPPORTED_FEATURES}}),Object.defineProperty(re,"UnexpectedResponseException",{enumerable:!0,get:function(){return g.UnexpectedResponseException}}),Object.defineProperty(re,"Util",{enumerable:!0,get:function(){return g.Util}}),Object.defineProperty(re,"VerbosityLevel",{enumerable:!0,get:function(){return g.VerbosityLevel}}),Object.defineProperty(re,"XfaLayer",{enumerable:!0,get:function(){return k.XfaLayer}}),Object.defineProperty(re,"build",{enumerable:!0,get:function(){return N.build}}),Object.defineProperty(re,"createPromiseCapability",{enumerable:!0,get:function(){return g.createPromiseCapability}}),Object.defineProperty(re,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return g.createValidAbsoluteUrl}}),Object.defineProperty(re,"getDocument",{enumerable:!0,get:function(){return N.getDocument}}),Object.defineProperty(re,"getFilenameFromUrl",{enumerable:!0,get:function(){return d.getFilenameFromUrl}}),Object.defineProperty(re,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return d.getPdfFilenameFromUrl}}),Object.defineProperty(re,"getXfaPageViewport",{enumerable:!0,get:function(){return d.getXfaPageViewport}}),Object.defineProperty(re,"isPdfFile",{enumerable:!0,get:function(){return d.isPdfFile}}),Object.defineProperty(re,"loadScript",{enumerable:!0,get:function(){return d.loadScript}}),Object.defineProperty(re,"renderTextLayer",{enumerable:!0,get:function(){return j.renderTextLayer}}),Object.defineProperty(re,"shadow",{enumerable:!0,get:function(){return g.shadow}}),Object.defineProperty(re,"version",{enumerable:!0,get:function(){return N.version}});var g=__w_pdfjs_require__(1),N=__w_pdfjs_require__(4),d=__w_pdfjs_require__(5),q=__w_pdfjs_require__(20),G=__w_pdfjs_require__(13),oe=__w_pdfjs_require__(3),j=__w_pdfjs_require__(23),H=__w_pdfjs_require__(24),k=__w_pdfjs_require__(22);if(oe.isNodeJS){const{PDFNodeStream:se}=__w_pdfjs_require__(25);(0,N.setPDFNetworkStreamFactory)(Q=>new se(Q))}else{const{PDFNetworkStream:se}=__w_pdfjs_require__(28),{PDFFetchStream:Q}=__w_pdfjs_require__(29);(0,N.setPDFNetworkStreamFactory)(ie=>(0,d.isValidFetchUrl)(ie.url)?new Q(ie):new se(ie))}})(),__webpack_exports__})(),module.exports=N()},813:function(re,g,N){var se,d=N(661).default,q=N(860).default,G=N(159).default,oe=N(764).default,j=N(467).default,H=N(468).default,k=N(156).default;se=()=>(()=>{"use strict";var X=[,(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.DefaultXfaLayerFactory=T.DefaultTextLayerFactory=T.DefaultStructTreeLayerFactory=T.DefaultAnnotationLayerFactory=void 0;var I=B(2),L=B(4),P=B(5),R=B(7),h=B(8),f=B(9);T.DefaultAnnotationLayerFactory=class w{createAnnotationLayerBuilder(v,$,W=null,te="",ue=!0,pe=L.NullL10n,me=!1,_e=null,ke=null,Te=null,z=null){return new I.AnnotationLayerBuilder({pageDiv:v,pdfPage:$,imageResourcesPath:te,renderForms:ue,linkService:new P.SimpleLinkService,l10n:pe,annotationStorage:W,enableScripting:me,hasJSActionsPromise:_e,fieldObjectsPromise:Te,mouseState:ke,annotationCanvasMap:z})}},T.DefaultStructTreeLayerFactory=class F{createStructTreeLayerBuilder(v){return new R.StructTreeLayerBuilder({pdfPage:v})}},T.DefaultTextLayerFactory=class D{createTextLayerBuilder(v,$,W,te=!1,ue,pe){return new h.TextLayerBuilder({textLayerDiv:v,pageIndex:$,viewport:W,enhanceTextSelection:te,eventBus:ue,highlighter:pe})}},T.DefaultXfaLayerFactory=class M{createXfaLayerBuilder(v,$,W=null,te=null){return new f.XfaLayerBuilder({pageDiv:v,pdfPage:$,annotationStorage:W,linkService:new P.SimpleLinkService,xfaHtml:te})}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.AnnotationLayerBuilder=void 0;var I=B(3),L=B(4);T.AnnotationLayerBuilder=class P{constructor({pageDiv:h,pdfPage:f,linkService:w,downloadManager:F,annotationStorage:D=null,imageResourcesPath:M="",renderForms:S=!0,l10n:v=L.NullL10n,enableScripting:$=!1,hasJSActionsPromise:W=null,fieldObjectsPromise:te=null,mouseState:ue=null,annotationCanvasMap:pe=null}){this.pageDiv=h,this.pdfPage=f,this.linkService=w,this.downloadManager=F,this.imageResourcesPath=M,this.renderForms=S,this.l10n=v,this.annotationStorage=D,this.enableScripting=$,this._hasJSActionsPromise=W,this._fieldObjectsPromise=te,this._mouseState=ue,this._annotationCanvasMap=pe,this.div=null,this._cancelled=!1}render(h,f="display"){var w=this;return k(function*(){const[F,D=!1,M=null]=yield Promise.all([w.pdfPage.getAnnotations({intent:f}),w._hasJSActionsPromise,w._fieldObjectsPromise]);if(w._cancelled||0===F.length)return;const S={viewport:h.clone({dontFlip:!0}),div:w.div,annotations:F,page:w.pdfPage,imageResourcesPath:w.imageResourcesPath,renderForms:w.renderForms,linkService:w.linkService,downloadManager:w.downloadManager,annotationStorage:w.annotationStorage,enableScripting:w.enableScripting,hasJSActions:D,fieldObjects:M,mouseState:w._mouseState,annotationCanvasMap:w._annotationCanvasMap};w.div?I.AnnotationLayer.update(S):(w.div=document.createElement("div"),w.div.className="annotationLayer",w.pageDiv.appendChild(w.div),S.div=w.div,I.AnnotationLayer.render(S),w.l10n.translate(w.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},ie=>{let T;T=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:N(36),ie.exports=T},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.NullL10n=void 0,T.fixupLangCode=function P(f){return L[f?.toLowerCase()]||f},T.getL10nFallback=I;const B={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function I(f,w){switch(f){case"find_match_count":f=`find_match_count[${1===w.total?"one":"other"}]`;break;case"find_match_count_limit":f=`find_match_count_limit[${1===w.limit?"one":"other"}]`}return B[f]||""}const L={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};T.NullL10n={getLanguage:()=>k(function*(){return"en-us"})(),getDirection:()=>k(function*(){return"ltr"})(),get:(f,w=null,F=I(f,w))=>k(function*(){return function R(f,w){return w?f.replace(/\{\{\s*(\w+)\s*\}\}/g,(F,D)=>D in w?w[D]:"{{"+D+"}}"):f}(F,w)})(),translate:f=>k(function*(){})()}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.SimpleLinkService=T.PDFLinkService=T.LinkTarget=void 0;var I=B(6);const P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function R(S,{url:v,target:$,rel:W,enabled:te=!0}={}){if(!v||"string"!=typeof v)throw new Error('A valid "url" parameter must provided.');const ue=(0,I.removeNullCharacters)(v);te?S.href=S.title=ue:(S.href="",S.title=`Disabled: ${ue}`,S.onclick=()=>!1);let pe="";switch($){case P.NONE:break;case P.SELF:pe="_self";break;case P.BLANK:pe="_blank";break;case P.PARENT:pe="_parent";break;case P.TOP:pe="_top"}S.target=pe,S.rel="string"==typeof W?W:"noopener noreferrer nofollow"}T.LinkTarget=P;var h=new WeakMap,f=new WeakSet;class w{constructor({eventBus:v,externalLinkTarget:$=null,externalLinkRel:W=null,ignoreDestinationZoom:te=!1}={}){q(this,f),G(this,h,{writable:!0,value:new Map}),this.eventBus=v,this.externalLinkTarget=$,this.externalLinkRel=W,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=te,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(v,$=null){this.baseUrl=$,this.pdfDocument=v,H(this,h).clear()}setViewer(v){this.pdfViewer=v}setHistory(v){this.pdfHistory=v}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(v){this.pdfViewer.currentPageNumber=v}get rotation(){return this.pdfViewer.pagesRotation}set rotation(v){this.pdfViewer.pagesRotation=v}goToDestination(v){var $=this;return k(function*(){if(!$.pdfDocument)return;let W,te;"string"==typeof v?(W=v,te=yield $.pdfDocument.getDestination(v)):(W=null,te=yield v),Array.isArray(te)?j($,f,F).call($,v,W,te):console.error(`PDFLinkService.goToDestination: "${te}" is not a valid destination array, for dest="${v}".`)})()}goToPage(v){if(!this.pdfDocument)return;const $="string"==typeof v&&this.pdfViewer.pageLabelToPageNumber(v)||0|v;Number.isInteger($)&&$>0&&$<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage($)),this.pdfViewer.scrollPageIntoView({pageNumber:$})):console.error(`PDFLinkService.goToPage: "${v}" is not a valid page.`)}addLinkAttributes(v,$,W=!1){R(v,{url:$,target:W?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(v){if("string"==typeof v){if(v.length>0)return this.getAnchorUrl("#"+escape(v))}else if(Array.isArray(v)){const $=JSON.stringify(v);if($.length>0)return this.getAnchorUrl("#"+escape($))}return this.getAnchorUrl("")}getAnchorUrl(v){return(this.baseUrl||"")+v}setHash(v){if(!this.pdfDocument)return;let $,W;if(v.includes("=")){const te=(0,I.parseQueryString)(v);if(te.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:te.get("search").replace(/"/g,""),phraseSearch:"true"===te.get("phrase")}),te.has("page")&&($=0|te.get("page")||1),te.has("zoom")){const ue=te.get("zoom").split(","),pe=ue[0],me=parseFloat(pe);pe.includes("Fit")?"Fit"===pe||"FitB"===pe?W=[null,{name:pe}]:"FitH"===pe||"FitBH"===pe||"FitV"===pe||"FitBV"===pe?W=[null,{name:pe},ue.length>1?0|ue[1]:null]:"FitR"===pe?5!==ue.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):W=[null,{name:pe},0|ue[1],0|ue[2],0|ue[3],0|ue[4]]:console.error(`PDFLinkService.setHash: "${pe}" is not a valid zoom value.`):W=[null,{name:"XYZ"},ue.length>1?0|ue[1]:null,ue.length>2?0|ue[2]:null,me?me/100:pe]}W?this.pdfViewer.scrollPageIntoView({pageNumber:$||this.page,destArray:W,allowNegativeOffset:!0}):$&&(this.page=$),te.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:te.get("pagemode")}),te.has("nameddest")&&this.goToDestination(te.get("nameddest"))}else{W=unescape(v);try{W=JSON.parse(W),Array.isArray(W)||(W=W.toString())}catch{}if("string"==typeof W||oe(w,w,D).call(w,W))return void this.goToDestination(W);console.error(`PDFLinkService.setHash: "${unescape(v)}" is not a valid destination.`)}}executeNamedAction(v){switch(v){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:v})}cachePageRef(v,$){if(!$)return;const W=0===$.gen?`${$.num}R`:`${$.num}R${$.gen}`;H(this,h).set(W,v)}_cachedPageNumber(v){if(!v)return null;const $=0===v.gen?`${v.num}R`:`${v.num}R${v.gen}`;return H(this,h).get($)||null}isPageVisible(v){return this.pdfViewer.isPageVisible(v)}isPageCached(v){return this.pdfViewer.isPageCached(v)}}function F(S,v=null,$){const W=$[0];let te;if("object"==typeof W&&null!==W){if(te=this._cachedPageNumber(W),!te)return void this.pdfDocument.getPageIndex(W).then(ue=>{this.cachePageRef(ue+1,W),j(this,f,F).call(this,S,v,$)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page reference, for dest="${S}".`)})}else{if(!Number.isInteger(W))return void console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid destination reference, for dest="${S}".`);te=W+1}!te||te<1||te>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${te}" is not a valid page number, for dest="${S}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:v,explicitDest:$,pageNumber:te})),this.pdfViewer.scrollPageIntoView({pageNumber:te,destArray:$,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function D(S){if(!Array.isArray(S))return!1;const v=S.length;if(v<2)return!1;const $=S[0];if(!("object"==typeof $&&Number.isInteger($.num)&&Number.isInteger($.gen)||Number.isInteger($)&&$>=0))return!1;const W=S[1];if("object"!=typeof W||"string"!=typeof W.name)return!1;let te=!0;switch(W.name){case"XYZ":if(5!==v)return!1;break;case"Fit":case"FitB":return 2===v;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==v)return!1;break;case"FitR":if(6!==v)return!1;te=!1;break;default:return!1}for(let ue=2;ue<v;ue++){const pe=S[ue];if(!("number"==typeof pe||te&&null===pe))return!1}return!0}T.PDFLinkService=w,T.SimpleLinkService=class M{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(v){}get rotation(){return 0}set rotation(v){}goToDestination(v){return k(function*(){})()}goToPage(v){}addLinkAttributes(v,$,W=!1){R(v,{url:$,enabled:this.externalLinkEnabled})}getDestinationHash(v){return"#"}getAnchorUrl(v){return"#"}setHash(v){}executeNamedAction(v){}cachePageRef(v,$){}isPageVisible(v){return!0}isPageCached(v){return!0}}},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.animationStarted=T.VERTICAL_PADDING=T.UNKNOWN_SCALE=T.TextLayerMode=T.SpreadMode=T.SidebarView=T.ScrollMode=T.SCROLLBAR_PADDING=T.RenderingStates=T.RendererType=T.ProgressBar=T.PresentationModeState=T.OutputScale=T.MIN_SCALE=T.MAX_SCALE=T.MAX_AUTO_SCALE=T.DEFAULT_SCALE_VALUE=T.DEFAULT_SCALE_DELTA=T.DEFAULT_SCALE=T.AutoPrintRegExp=void 0,T.apiPageLayoutToViewerModes=function Ze(De){let Fe=W.VERTICAL,Ue=te.NONE;switch(De){case"SinglePage":Fe=W.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Fe=W.PAGE;case"TwoColumnLeft":Ue=te.ODD;break;case"TwoPageRight":Fe=W.PAGE;case"TwoColumnRight":Ue=te.EVEN}return{scrollMode:Fe,spreadMode:Ue}},T.apiPageModeToSidebarView=function je(De){switch(De){case"UseNone":return S.NONE;case"UseThumbs":return S.THUMBS;case"UseOutlines":return S.OUTLINE;case"UseAttachments":return S.ATTACHMENTS;case"UseOC":return S.LAYERS}return S.NONE},T.approximateFraction=function p(De){if(Math.floor(De)===De)return[De,1];const Fe=1/De;if(Fe>8)return[1,8];if(Math.floor(Fe)===Fe)return[1,Fe];const ve=De>1?Fe:De;let ae,U=0,fe=1,Me=1,Be=1;for(;;){const K=U+Me,ne=fe+Be;if(ne>8)break;ve<=K/ne?(Me=K,Be=ne):(U=K,fe=ne)}return ae=ve-U/fe<Me/Be-ve?ve===De?[U,fe]:[fe,U]:ve===De?[Me,Be]:[Be,Me],ae},T.backtrackBeforeAllVisibleElements=C,T.binarySearchFirstItem=c,T.getActiveOrFocusedElement=function et(){let De=document,Fe=De.activeElement||De.querySelector(":focus");for(;Fe?.shadowRoot;)De=Fe.shadowRoot,Fe=De.activeElement||De.querySelector(":focus");return Fe},T.getPageSizeInches=function E({view:De,userUnit:Fe,rotate:Ue}){const[ve,U,fe,Me]=De,Be=Ue%180!=0,ae=(fe-ve)/72*Fe,K=(Me-U)/72*Fe;return{width:Be?K:ae,height:Be?ae:K}},T.getVisibleElements=function y({scrollEl:De,views:Fe,sortByVisibility:Ue=!1,horizontal:ve=!1,rtl:U=!1}){const fe=De.scrollTop,Me=fe+De.clientHeight,Be=De.scrollLeft,ae=Be+De.clientWidth,we=[],$e=new Set,ot=Fe.length;let Ce=c(Fe,ve?function ne(Ne){const tt=Ne.div,ze=tt.offsetLeft+tt.clientLeft;return U?ze<ae:ze+tt.clientWidth>Be}:function K(Ne){const tt=Ne.div;return tt.offsetTop+tt.clientTop+tt.clientHeight>fe});Ce>0&&Ce<ot&&!ve&&(Ce=C(Ce,Fe,fe));let Ie=ve?ae:-1;for(let Ne=Ce;Ne<ot;Ne++){const tt=Fe[Ne],ze=tt.div,rt=ze.offsetLeft+ze.clientLeft,mt=ze.offsetTop+ze.clientTop,dt=ze.clientWidth,Lt=ze.clientHeight,Un=rt+dt,Xt=mt+Lt;if(-1===Ie)Xt>=Me&&(Ie=Xt);else if((ve?rt:mt)>Ie)break;if(Xt<=fe||mt>=Me||Un<=Be||rt>=ae)continue;const Dn=Math.max(0,fe-mt)+Math.max(0,Xt-Me),Sn=(dt-(Math.max(0,Be-rt)+Math.max(0,Un-ae)))/dt;we.push({id:tt.id,x:rt,y:mt,view:tt,percent:(Lt-Dn)/Lt*Sn*100|0,widthPercent:100*Sn|0}),$e.add(tt.id)}const qe=we[0],Ke=we[we.length-1];return Ue&&we.sort(function(Ne,tt){const ze=Ne.percent-tt.percent;return Math.abs(ze)>.001?-ze:Ne.id-tt.id}),{first:qe,last:Ke,views:we,ids:$e}},T.isPortraitOrientation=function ye(De){return De.width<=De.height},T.isValidRotation=function he(De){return Number.isInteger(De)&&De%90==0},T.isValidScrollMode=function de(De){return Number.isInteger(De)&&Object.values(W).includes(De)&&De!==W.UNKNOWN},T.isValidSpreadMode=function be(De){return Number.isInteger(De)&&Object.values(te).includes(De)&&De!==te.UNKNOWN},T.noContextMenuHandler=function O(De){De.preventDefault()},T.normalizeWheelEventDelta=function J(De){let Fe=le(De);return 0===De.deltaMode?Fe/=900:1===De.deltaMode&&(Fe/=30),Fe},T.normalizeWheelEventDirection=le,T.parseQueryString=function ke(De){const Fe=new Map;for(const[Ue,ve]of new URLSearchParams(De))Fe.set(Ue.toLowerCase(),ve);return Fe},T.removeNullCharacters=function m(De,Fe=!1){return"string"!=typeof De?(console.error("The argument must be a string."),De):(Fe&&(De=De.replace(z," ")),De.replace(Te,""))},T.roundToDivide=function b(De,Fe){const Ue=De%Fe;return 0===Ue?De:Math.round(De-Ue+Fe)},T.scrollIntoView=function me(De,Fe,Ue=!1){let ve=De.offsetParent;if(!ve)return void console.error("offsetParent is not set -- cannot scroll");let U=De.offsetTop+De.clientTop,fe=De.offsetLeft+De.clientLeft;for(;ve.clientHeight===ve.scrollHeight&&ve.clientWidth===ve.scrollWidth||Ue&&(ve.classList.contains("markedContent")||"hidden"===getComputedStyle(ve).overflow);)if(U+=ve.offsetTop,fe+=ve.offsetLeft,ve=ve.offsetParent,!ve)return;Fe&&(void 0!==Fe.top&&(U+=Fe.top),void 0!==Fe.left&&(fe+=Fe.left,ve.scrollLeft=fe)),ve.scrollTop=U},T.watchScroll=function _e(De,Fe){const Ue=function(fe){U||(U=window.requestAnimationFrame(function(){U=null;const Be=De.scrollLeft,ae=ve.lastX;Be!==ae&&(ve.right=Be>ae),ve.lastX=Be;const K=De.scrollTop,ne=ve.lastY;K!==ne&&(ve.down=K>ne),ve.lastY=K,Fe(ve)}))},ve={right:!0,down:!0,lastX:De.scrollLeft,lastY:De.scrollTop,_eventHandler:Ue};let U=null;return De.addEventListener("scroll",Ue,!0),ve},T.DEFAULT_SCALE_VALUE="auto",T.DEFAULT_SCALE=1,T.DEFAULT_SCALE_DELTA=1.1,T.MIN_SCALE=.1,T.MAX_SCALE=10,T.UNKNOWN_SCALE=0,T.MAX_AUTO_SCALE=1.25,T.SCROLLBAR_PADDING=40,T.VERTICAL_PADDING=5,T.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},T.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const S={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};T.SidebarView=S,T.RendererType={CANVAS:"canvas",SVG:"svg"},T.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const W={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};T.ScrollMode=W;const te={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};T.SpreadMode=te,T.AutoPrintRegExp=/\bprint\s*\(/,T.OutputScale=class pe{constructor(){const Fe=window.devicePixelRatio||1;this.sx=Fe,this.sy=Fe}get scaled(){return 1!==this.sx||1!==this.sy}};const Te=/\x00/g,z=/[\x01-\x1F]/g;function c(De,Fe,Ue=0){let ve=Ue,U=De.length-1;if(U<0||!Fe(De[U]))return De.length;if(Fe(De[ve]))return ve;for(;ve<U;){const fe=ve+U>>1;Fe(De[fe])?U=fe:ve=fe+1}return ve}function C(De,Fe,Ue){if(De<2)return De;let ve=Fe[De].div,U=ve.offsetTop+ve.clientTop;U>=Ue&&(ve=Fe[De-1].div,U=ve.offsetTop+ve.clientTop);for(let fe=De-2;fe>=0&&(ve=Fe[fe].div,!(ve.offsetTop+ve.clientTop+ve.clientHeight<=U));--fe)De=fe;return De}function le(De){let Fe=Math.hypot(De.deltaX,De.deltaY);const Ue=Math.atan2(De.deltaY,De.deltaX);return-.25*Math.PI<Ue&&Ue<.75*Math.PI&&(Fe=-Fe),Fe}const Re=new Promise(function(De){window.requestAnimationFrame(De)});T.animationStarted=Re;var We=new WeakSet;function xe(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}T.ProgressBar=class He{constructor(Fe){if(q(this,We),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(Fe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(Fe){this._indeterminate=isNaN(Fe),this._percent=function Ve(De,Fe,Ue){return Math.min(Math.max(De,Fe),Ue)}(Fe,0,100),j(this,We,xe).call(this)}setWidth(Fe){if(!Fe)return;const ve=Fe.parentNode.offsetWidth-Fe.offsetWidth;ve>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${ve}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.StructTreeLayerBuilder=void 0;const B={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},I=/^H(\d+)$/;T.StructTreeLayerBuilder=class L{constructor({pdfPage:R}){this.pdfPage=R}render(R){return this._walk(R)}_setAttributes(R,h){void 0!==R.alt&&h.setAttribute("aria-label",R.alt),void 0!==R.id&&h.setAttribute("aria-owns",R.id),void 0!==R.lang&&h.setAttribute("lang",R.lang)}_walk(R){if(!R)return null;const h=document.createElement("span");if("role"in R){const{role:f}=R,w=f.match(I);w?(h.setAttribute("role","heading"),h.setAttribute("aria-level",w[1])):B[f]&&h.setAttribute("role",B[f])}if(this._setAttributes(R,h),R.children)if(1===R.children.length&&"id"in R.children[0])this._setAttributes(R.children[0],h);else for(const f of R.children)h.appendChild(this._walk(f));return h}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TextLayerBuilder=void 0;var I=B(3);T.TextLayerBuilder=class P{constructor({textLayerDiv:h,eventBus:f,pageIndex:w,viewport:F,highlighter:D=null,enhanceTextSelection:M=!1}){this.textLayerDiv=h,this.eventBus=f,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=w+1,this.viewport=F,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=D,this.enhanceTextSelection=M,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const h=document.createElement("div");h.className="endOfContent",this.textLayerDiv.appendChild(h)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(h=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const f=document.createDocumentFragment();this.textLayerRenderTask=(0,I.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:f,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:h,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(f),this._finishRendering(),this.highlighter?.enable()},function(w){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(h){this.cancel(),this.textContentStream=h}setTextContent(h){this.cancel(),this.textContent=h}_bindMouse(){const h=this.textLayerDiv;let f=null;h.addEventListener("mousedown",w=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(f&&(clearTimeout(f),f=null));const F=h.querySelector(".endOfContent");if(!F)return;let D=w.target!==h;if(D=D&&"none"!==window.getComputedStyle(F).getPropertyValue("-moz-user-select"),D){const M=h.getBoundingClientRect(),S=Math.max(0,(w.pageY-M.top)/M.height);F.style.top=(100*S).toFixed(2)+"%"}F.classList.add("active")}),h.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(f=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),f=null},300));const w=h.querySelector(".endOfContent");w&&(w.style.top="",w.classList.remove("active"))})}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.XfaLayerBuilder=void 0;var I=B(3);T.XfaLayerBuilder=class L{constructor({pageDiv:R,pdfPage:h,annotationStorage:f=null,linkService:w,xfaHtml:F=null}){this.pageDiv=R,this.pdfPage=h,this.annotationStorage=f,this.linkService=w,this.xfaHtml=F,this.div=null,this._cancelled=!1}render(R,h="display"){if("print"===h){const f={viewport:R.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:h},w=document.createElement("div");this.pageDiv.appendChild(w),f.div=w;const F=I.XfaLayer.render(f);return Promise.resolve(F)}return this.pdfPage.getXfa().then(f=>{if(this._cancelled||!f)return{textDivs:[]};const w={viewport:R.clone({dontFlip:!0}),div:this.div,xfaHtml:f,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:h};return this.div?I.XfaLayer.update(w):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),w.div=this.div,I.XfaLayer.render(w))}).catch(f=>{console.error(f)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFViewer=T.PDFSinglePageViewer=void 0;var I=B(6),L=B(11);T.PDFViewer=class P extends L.BaseViewer{},T.PDFSinglePageViewer=class R extends L.BaseViewer{_resetView(){super._resetView(),this._scrollMode=I.ScrollMode.PAGE,this._spreadMode=I.SpreadMode.NONE}set scrollMode(f){}_updateScrollMode(){}set spreadMode(f){}_updateSpreadMode(){}}},(ie,T,B)=>{let I;Object.defineProperty(T,"__esModule",{value:!0}),T.PagesCountLimit=T.PDFPageViewBuffer=T.BaseViewer=void 0;var L=B(3),P=B(6),R=B(2),h=B(4),f=B(12),w=B(14),F=B(5),D=B(7),M=B(15),S=B(8),v=B(9);const W="enablePermissions",te={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};T.PagesCountLimit=te;var ue=new WeakMap,pe=new WeakMap,me=new WeakSet;I=Symbol.iterator;class _e{constructor(U){q(this,me),G(this,ue,{writable:!0,value:new Set}),G(this,pe,{writable:!0,value:0}),d(this,pe,U)}push(U){const fe=H(this,ue);fe.has(U)&&fe.delete(U),fe.add(U),fe.size>H(this,pe)&&j(this,me,ke).call(this)}resize(U,fe=null){d(this,pe,U);const Me=H(this,ue);if(fe){const Be=Me.size;let ae=1;for(const K of Me)if(fe.has(K.id)&&(Me.delete(K),Me.add(K)),++ae>Be)break}for(;Me.size>H(this,pe);)j(this,me,ke).call(this)}has(U){return H(this,ue).has(U)}[I](){return H(this,ue).keys()}}function ke(){const ve=H(this,ue).keys().next().value;ve?.destroy(),H(this,ue).delete(ve)}T.PDFPageViewBuffer=_e;var Te=new WeakMap,z=new WeakMap,m=new WeakMap,c=new WeakMap,p=new WeakMap,b=new WeakMap,E=new WeakMap,C=new WeakSet,y=new WeakSet,O=new WeakSet,le=new WeakSet,J=new WeakSet,he=new WeakSet,de=new WeakSet,be=new WeakSet,ye=new WeakSet;class Re{constructor(U){if(q(this,ye),q(this,be),q(this,de),q(this,he),q(this,J),q(this,le),q(this,O),q(this,y),q(this,C),G(this,Te,{writable:!0,value:null}),G(this,z,{writable:!0,value:L.AnnotationMode.ENABLE_FORMS}),G(this,m,{writable:!0,value:null}),G(this,c,{writable:!0,value:!1}),G(this,p,{writable:!0,value:0}),G(this,b,{writable:!0,value:null}),G(this,E,{writable:!0,value:null}),this.constructor===Re)throw new Error("Cannot initialize BaseViewer.");const fe="2.14.305";if(L.version!==fe)throw new Error(`The API version "${L.version}" does not match the Viewer version "${fe}".`);if(this.container=U.container,this.viewer=U.viewer||U.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=U.eventBus,this.linkService=U.linkService||new F.SimpleLinkService,this.downloadManager=U.downloadManager||null,this.findController=U.findController||null,this._scriptingManager=U.scriptingManager||null,this.removePageBorders=U.removePageBorders||!1,this.textLayerMode=U.textLayerMode??P.TextLayerMode.ENABLE,d(this,z,U.annotationMode??L.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=U.imageResourcesPath||"",this.enablePrintAutoRotate=U.enablePrintAutoRotate||!1,this.renderer=U.renderer||P.RendererType.CANVAS,this.useOnlyCssZoom=U.useOnlyCssZoom||!1,this.maxCanvasPixels=U.maxCanvasPixels,this.l10n=U.l10n||h.NullL10n,d(this,c,U.enablePermissions||!1),this.pageColors=U.pageColors||null,U.pageColors&&(!CSS.supports("color",U.pageColors.background)||!CSS.supports("color",U.pageColors.foreground))&&((U.pageColors.background||U.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!U.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new w.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=U.renderingQueue,this._doc=document.documentElement,this.scroll=(0,P.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=P.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(U){return this._pages[U]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(U){return U?.pdfPage})}get renderForms(){return H(this,z)===L.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(U){if(!Number.isInteger(U))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(U,!0)||console.error(`currentPageNumber: "${U}" is not a valid page.`))}_setCurrentPageNumber(U,fe=!1){if(this._currentPageNumber===U)return fe&&j(this,he,Ze).call(this),!0;if(!(0<U&&U<=this.pagesCount))return!1;const Me=this._currentPageNumber;return this._currentPageNumber=U,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:U,pageLabel:this._pageLabels?.[U-1]??null,previous:Me}),fe&&j(this,he,Ze).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(U){if(!this.pdfDocument)return;let fe=0|U;if(this._pageLabels){const Me=this._pageLabels.indexOf(U);Me>=0&&(fe=Me+1)}this._setCurrentPageNumber(fe,!0)||console.error(`currentPageLabel: "${U}" is not a valid page.`)}get currentScale(){return this._currentScale!==P.UNKNOWN_SCALE?this._currentScale:P.DEFAULT_SCALE}set currentScale(U){if(isNaN(U))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(U,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(U){this.pdfDocument&&this._setScale(U,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(U){if(!(0,P.isValidRotation)(U))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((U%=360)<0&&(U+=360),this._pagesRotation===U))return;this._pagesRotation=U;const fe=this._currentPageNumber,Me={rotation:U};for(const Be of this._pages)Be.update(Me);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:U,pageNumber:fe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(U){var fe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=U,!U)return;const Me=U.isPureXfa,Be=U.numPages,ae=U.getPage(1),K=U.getOptionalContentConfig(),ne=H(this,c)?U.getPermissions():Promise.resolve();if(Be>te.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const we=this._scrollMode=P.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:we})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Be})},()=>{}),this._onBeforeDraw=we=>{const $e=this._pages[we.pageNumber-1];$e&&H(this,Te).push($e)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=we=>{we.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:we.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,H(this,E)&&(document.removeEventListener("visibilitychange",H(this,E)),d(this,E,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ae,ne]).then(([we,$e])=>{if(U!==this.pdfDocument)return;this._firstPageCapability.resolve(we),this._optionalContentConfigPromise=K,j(this,C,Ve).call(this,$e);const ot=this._scrollMode===P.ScrollMode.PAGE?null:this.viewer,Ce=this.currentScale,Ie=we.getViewport({scale:Ce*L.PixelsPerInch.PDF_TO_CSS_UNITS}),qe=this.textLayerMode===P.TextLayerMode.DISABLE||Me?null:this,Ke=H(this,z)!==L.AnnotationMode.DISABLE?this:null,Ne=Me?this:null;for(let ze=1;ze<=Be;++ze){const rt=new f.PDFPageView({container:ot,eventBus:this.eventBus,id:ze,scale:Ce,defaultViewport:Ie.clone(),optionalContentConfigPromise:K,renderingQueue:this.renderingQueue,textLayerFactory:qe,textLayerMode:this.textLayerMode,annotationLayerFactory:Ke,annotationMode:H(this,z),xfaLayerFactory:Ne,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(rt)}const tt=this._pages[0];tt&&(tt.setPdfPage(we),this.linkService.cachePageRef(1,we.ref)),this._scrollMode===P.ScrollMode.PAGE?j(this,O,He).call(this):this._spreadMode!==P.SpreadMode.NONE&&this._updateSpreadMode(),j(this,y,We).call(this).then(k(function*(){if(fe.findController&&fe.findController.setDocument(U),fe._scriptingManager&&fe._scriptingManager.setDocument(U),U.loadingParams.disableAutoFetch||Be>te.FORCE_LAZY_PAGE_INIT)return void fe._pagesCapability.resolve();let ze=Be-1;if(ze<=0)fe._pagesCapability.resolve();else for(let rt=2;rt<=Be;++rt){const mt=U.getPage(rt).then(dt=>{const Lt=fe._pages[rt-1];Lt.pdfPage||Lt.setPdfPage(dt),fe.linkService.cachePageRef(rt,dt.ref),0==--ze&&fe._pagesCapability.resolve()},dt=>{console.error(`Unable to get page ${rt} to initialize viewer`,dt),0==--ze&&fe._pagesCapability.resolve()});rt%te.PAUSE_EAGER_PAGE_INIT==0&&(yield mt)}})),this.eventBus.dispatch("pagesinit",{source:this}),U.getMetadata().then(({info:ze})=>{U===this.pdfDocument&&ze.Language&&(this.viewer.lang=ze.Language)}),this.defaultRenderingQueue&&this.update()}).catch(we=>{console.error("Unable to initialize viewer",we),this._pagesCapability.reject(we)})}setPageLabels(U){if(this.pdfDocument){U?Array.isArray(U)&&this.pdfDocument.numPages===U.length?this._pageLabels=U:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let fe=0,Me=this._pages.length;fe<Me;fe++)this._pages[fe].setPageLabel(this._pageLabels?.[fe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=P.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,d(this,Te,new _e(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,L.createPromiseCapability)(),this._onePageRenderedCapability=(0,L.createPromiseCapability)(),this._pagesCapability=(0,L.createPromiseCapability)(),this._scrollMode=P.ScrollMode.VERTICAL,this._previousScrollMode=P.ScrollMode.UNKNOWN,this._spreadMode=P.SpreadMode.NONE,d(this,b,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),H(this,E)&&(document.removeEventListener("visibilitychange",H(this,E)),d(this,E,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(W),null!==H(this,m)&&(d(this,z,H(this,m)),d(this,m,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(U,fe,Me=!1,Be=!1){if(this._currentScaleValue=fe.toString(),j(this,J,et).call(this,U))return void(Be&&this.eventBus.dispatch("scalechanging",{source:this,scale:U,presetValue:fe}));this._doc.style.setProperty("--zoom-factor",U);const ae={scale:U};for(const K of this._pages)K.update(ae);if(this._currentScale=U,!Me){let ne,K=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(K=this._location.pageNumber,ne=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:K,destArray:ne,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:U,presetValue:Be?fe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL?2:1}_setScale(U,fe=!1){let Me=parseFloat(U);if(Me>0)this._setScaleUpdatePages(Me,U,fe,!1);else{const Be=this._pages[this._currentPageNumber-1];if(!Be)return;let ae=P.SCROLLBAR_PADDING,K=P.VERTICAL_PADDING;this.isInPresentationMode?ae=K=4:this.removePageBorders?ae=K=0:this._scrollMode===P.ScrollMode.HORIZONTAL&&([ae,K]=[K,ae]);const ne=(this.container.clientWidth-ae)/Be.width*Be.scale/this._pageWidthScaleFactor,we=(this.container.clientHeight-K)/Be.height*Be.scale;switch(U){case"page-actual":Me=1;break;case"page-width":Me=ne;break;case"page-height":Me=we;break;case"page-fit":Me=Math.min(ne,we);break;case"auto":const $e=(0,P.isPortraitOrientation)(Be)?ne:Math.min(we,ne);Me=Math.min(P.MAX_AUTO_SCALE,$e);break;default:return void console.error(`_setScale: "${U}" is an unknown zoom value.`)}this._setScaleUpdatePages(Me,U,fe,!0)}}pageLabelToPageNumber(U){if(!this._pageLabels)return null;const fe=this._pageLabels.indexOf(U);return fe<0?null:fe+1}scrollPageIntoView({pageNumber:U,destArray:fe=null,allowNegativeOffset:Me=!1,ignoreDestinationZoom:Be=!1}){if(!this.pdfDocument)return;const ae=Number.isInteger(U)&&this._pages[U-1];if(!ae)return void console.error(`scrollPageIntoView: "${U}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!fe)return void this._setCurrentPageNumber(U,!0);let ot,Ce,K=0,ne=0,we=0,$e=0;const Ie=ae.rotation%180!=0,qe=(Ie?ae.height:ae.width)/ae.scale/L.PixelsPerInch.PDF_TO_CSS_UNITS,Ke=(Ie?ae.width:ae.height)/ae.scale/L.PixelsPerInch.PDF_TO_CSS_UNITS;let Ne=0;switch(fe[1].name){case"XYZ":K=fe[2],ne=fe[3],Ne=fe[4],K=null!==K?K:0,ne=null!==ne?ne:Ke;break;case"Fit":case"FitB":Ne="page-fit";break;case"FitH":case"FitBH":ne=fe[2],Ne="page-width",null===ne&&this._location?(K=this._location.left,ne=this._location.top):("number"!=typeof ne||ne<0)&&(ne=Ke);break;case"FitV":case"FitBV":K=fe[2],we=qe,$e=Ke,Ne="page-height";break;case"FitR":K=fe[2],ne=fe[3],we=fe[4]-K,$e=fe[5]-ne,ot=(this.container.clientWidth-(this.removePageBorders?0:P.SCROLLBAR_PADDING))/we/L.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=(this.container.clientHeight-(this.removePageBorders?0:P.VERTICAL_PADDING))/$e/L.PixelsPerInch.PDF_TO_CSS_UNITS,Ne=Math.min(Math.abs(ot),Math.abs(Ce));break;default:return void console.error(`scrollPageIntoView: "${fe[1].name}" is not a valid destination type.`)}if(Be||(Ne&&Ne!==this._currentScale?this.currentScaleValue=Ne:this._currentScale===P.UNKNOWN_SCALE&&(this.currentScaleValue=P.DEFAULT_SCALE_VALUE)),"page-fit"===Ne&&!fe[4])return void j(this,le,xe).call(this,ae);const tt=[ae.viewport.convertToViewportPoint(K,ne),ae.viewport.convertToViewportPoint(K+we,ne+$e)];let ze=Math.min(tt[0][0],tt[1][0]),rt=Math.min(tt[0][1],tt[1][1]);Me||(ze=Math.max(ze,0),rt=Math.max(rt,0)),j(this,le,xe).call(this,ae,{left:ze,top:rt})}_updateLocation(U){const fe=this._currentScale,Me=this._currentScaleValue,Be=parseFloat(Me)===fe?Math.round(1e4*fe)/100:Me,ae=U.id,ne=this.container,we=this._pages[ae-1].getPagePoint(ne.scrollLeft-U.x,ne.scrollTop-U.y),$e=Math.round(we[0]),ot=Math.round(we[1]);let Ce=`#page=${ae}`;this.isInPresentationMode||(Ce+=`&zoom=${Be},${$e},${ot}`),this._location={pageNumber:ae,scale:Be,top:ot,left:$e,rotation:this._pagesRotation,pdfOpenParams:Ce}}update(){const U=this._getVisiblePages(),fe=U.views,Me=fe.length;if(0===Me)return;const Be=Math.max(10,2*Me+1);H(this,Te).resize(Be,U.ids),this.renderingQueue.renderHighestPriority(U);const ae=this._spreadMode===P.SpreadMode.NONE&&(this._scrollMode===P.ScrollMode.PAGE||this._scrollMode===P.ScrollMode.VERTICAL),K=this._currentPageNumber;let ne=!1;for(const we of fe){if(we.percent<100)break;if(we.id===K&&ae){ne=!0;break}}this._setCurrentPageNumber(ne?K:fe[0].id),this._updateLocation(U.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(U){return this.container.contains(U)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===P.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===P.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const U=this._scrollMode===P.ScrollMode.PAGE?H(this,b).pages:this._pages,fe=this._scrollMode===P.ScrollMode.HORIZONTAL;return(0,P.getVisibleElements)({scrollEl:this.container,views:U,sortByVisibility:!0,horizontal:fe,rtl:fe&&this._isContainerRtl})}isPageVisible(U){return!!this.pdfDocument&&(Number.isInteger(U)&&U>0&&U<=this.pagesCount?this._getVisiblePages().ids.has(U):(console.error(`isPageVisible: "${U}" is not a valid page.`),!1))}isPageCached(U){if(!this.pdfDocument)return!1;if(!(Number.isInteger(U)&&U>0&&U<=this.pagesCount))return console.error(`isPageCached: "${U}" is not a valid page.`),!1;const fe=this._pages[U-1];return H(this,Te).has(fe)}cleanup(){for(const U of this._pages)U.renderingState!==P.RenderingStates.FINISHED&&U.reset()}_cancelRendering(){for(const U of this._pages)U.cancelRendering()}forceRendering(U){const fe=U||this._getVisiblePages(),Me=j(this,be,Fe).call(this,fe),ae=this.renderingQueue.getHighestPriority(fe,this._pages,Me,this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL);return j(this,ye,Ue).call(this,fe.ids),!!ae&&(j(this,de,je).call(this,ae).then(()=>{this.renderingQueue.renderView(ae)}),!0)}createTextLayerBuilder(U,fe,Me,Be=!1,ae,K){return new S.TextLayerBuilder({textLayerDiv:U,eventBus:ae,pageIndex:fe,viewport:Me,enhanceTextSelection:!this.isInPresentationMode&&Be,highlighter:K})}createTextHighlighter(U,fe){return new M.TextHighlighter({eventBus:fe,pageIndex:U,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(U,fe,Me=null,Be="",ae=!0,K=h.NullL10n,ne=null,we=null,$e=null,ot=null,Ce=null){return new R.AnnotationLayerBuilder({pageDiv:U,pdfPage:fe,annotationStorage:Me||this.pdfDocument?.annotationStorage,imageResourcesPath:Be,renderForms:ae,linkService:this.linkService,downloadManager:this.downloadManager,l10n:K,enableScripting:ne??this.enableScripting,hasJSActionsPromise:we||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:ot||this.pdfDocument?.getFieldObjects(),mouseState:$e||this._scriptingManager?.mouseState,annotationCanvasMap:Ce})}createXfaLayerBuilder(U,fe,Me=null){return new v.XfaLayerBuilder({pageDiv:U,pdfPage:fe,annotationStorage:Me||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(U){return new D.StructTreeLayerBuilder({pdfPage:U})}get hasEqualPageSizes(){const U=this._pages[0];for(let fe=1,Me=this._pages.length;fe<Me;++fe){const Be=this._pages[fe];if(Be.width!==U.width||Be.height!==U.height)return!1}return!0}getPagesOverview(){return this._pages.map(U=>{const fe=U.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,P.isPortraitOrientation)(fe)?{width:fe.width,height:fe.height,rotation:fe.rotation}:{width:fe.height,height:fe.width,rotation:(fe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(U){if(!(U instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${U}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=U;const fe={optionalContentConfigPromise:U};for(const Me of this._pages)Me.update(fe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:U})}get scrollMode(){return this._scrollMode}set scrollMode(U){if(this._scrollMode!==U){if(!(0,P.isValidScrollMode)(U))throw new Error(`Invalid scroll mode: ${U}`);this.pagesCount>te.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=U,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:U}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(U=null){const fe=this._scrollMode,Me=this.viewer;Me.classList.toggle("scrollHorizontal",fe===P.ScrollMode.HORIZONTAL),Me.classList.toggle("scrollWrapped",fe===P.ScrollMode.WRAPPED),this.pdfDocument&&U&&(fe===P.ScrollMode.PAGE?j(this,O,He).call(this):this._previousScrollMode===P.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(U,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(U){if(this._spreadMode!==U){if(!(0,P.isValidSpreadMode)(U))throw new Error(`Invalid spread mode: ${U}`);this._spreadMode=U,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:U}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(U=null){if(!this.pdfDocument)return;const fe=this.viewer,Me=this._pages;if(this._scrollMode===P.ScrollMode.PAGE)j(this,O,He).call(this);else if(fe.textContent="",this._spreadMode===P.SpreadMode.NONE)for(const Be of this._pages)fe.appendChild(Be.div);else{const Be=this._spreadMode-1;let ae=null;for(let K=0,ne=Me.length;K<ne;++K)null===ae?(ae=document.createElement("div"),ae.className="spread",fe.appendChild(ae)):K%2===Be&&(ae=ae.cloneNode(!1),fe.appendChild(ae)),ae.appendChild(Me[K].div)}U&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(U,!0),this.update())}_getPageAdvance(U,fe=!1){switch(this._scrollMode){case P.ScrollMode.WRAPPED:{const{views:Me}=this._getVisiblePages(),Be=new Map;for(const{id:ae,y:K,percent:ne,widthPercent:we}of Me){if(0===ne||we<100)continue;let $e=Be.get(K);$e||Be.set(K,$e||=[]),$e.push(ae)}for(const ae of Be.values()){const K=ae.indexOf(U);if(-1===K)continue;const ne=ae.length;if(1===ne)break;if(fe)for(let we=K-1,$e=0;we>=$e;we--){const Ce=ae[we+1]-1;if(ae[we]<Ce)return U-Ce}else for(let we=K+1,$e=ne;we<$e;we++){const Ce=ae[we-1]+1;if(ae[we]>Ce)return Ce-U}if(fe){const we=ae[0];if(we<U)return U-we+1}else{const we=ae[ne-1];if(we>U)return we-U+1}break}break}case P.ScrollMode.HORIZONTAL:break;case P.ScrollMode.PAGE:case P.ScrollMode.VERTICAL:{if(this._spreadMode===P.SpreadMode.NONE)break;const Me=this._spreadMode-1;if(fe&&U%2!==Me)break;if(!fe&&U%2===Me)break;const{views:Be}=this._getVisiblePages(),ae=fe?U-1:U+1;for(const{id:K,percent:ne,widthPercent:we}of Be)if(K===ae){if(ne>0&&100===we)return 2;break}break}}return 1}nextPage(){const U=this._currentPageNumber,fe=this.pagesCount;if(U>=fe)return!1;const Me=this._getPageAdvance(U,!1)||1;return this.currentPageNumber=Math.min(U+Me,fe),!0}previousPage(){const U=this._currentPageNumber;if(U<=1)return!1;const fe=this._getPageAdvance(U,!0)||1;return this.currentPageNumber=Math.max(U-fe,1),!0}increaseScale(U=1){let fe=this._currentScale;do{fe=(fe*P.DEFAULT_SCALE_DELTA).toFixed(2),fe=Math.ceil(10*fe)/10,fe=Math.min(P.MAX_SCALE,fe)}while(--U>0&&fe<P.MAX_SCALE);this.currentScaleValue=fe}decreaseScale(U=1){let fe=this._currentScale;do{fe=(fe/P.DEFAULT_SCALE_DELTA).toFixed(2),fe=Math.floor(10*fe)/10,fe=Math.max(P.MIN_SCALE,fe)}while(--U>0&&fe>P.MIN_SCALE);this.currentScaleValue=fe}updateContainerHeightCss(){const U=this.container.clientHeight;U!==H(this,p)&&(d(this,p,U),this._doc.style.setProperty("--viewer-container-height",`${U}px`))}}function Ve(ve){ve&&(ve.includes(L.PermissionFlag.COPY)||this.viewer.classList.add(W),!ve.includes(L.PermissionFlag.MODIFY_ANNOTATIONS)&&!ve.includes(L.PermissionFlag.FILL_INTERACTIVE_FORMS)&&H(this,z)===L.AnnotationMode.ENABLE_FORMS&&(d(this,m,H(this,z)),d(this,z,L.AnnotationMode.ENABLE)))}function We(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ve=new Promise(U=>{d(this,E,()=>{"hidden"===document.visibilityState&&(U(),document.removeEventListener("visibilitychange",H(this,E)),d(this,E,null))}),document.addEventListener("visibilitychange",H(this,E))});return Promise.race([this._onePageRenderedCapability.promise,ve])}function He(){if(this._scrollMode!==P.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ve=this._currentPageNumber,U=H(this,b),fe=this.viewer;if(fe.textContent="",U.pages.length=0,this._spreadMode!==P.SpreadMode.NONE||this.isInPresentationMode){const Me=new Set,Be=this._spreadMode-1;-1===Be?Me.add(ve-1):ve%2!==Be?(Me.add(ve-1),Me.add(ve)):(Me.add(ve-2),Me.add(ve-1));const ae=document.createElement("div");if(ae.className="spread",this.isInPresentationMode){const K=document.createElement("div");K.className="dummyPage",ae.appendChild(K)}for(const K of Me){const ne=this._pages[K];ne&&(ae.appendChild(ne.div),U.pages.push(ne))}fe.appendChild(ae)}else{const Me=this._pages[ve-1];fe.appendChild(Me.div),U.pages.push(Me)}U.scrollDown=ve>=U.previousPageNumber,U.previousPageNumber=ve}function xe(ve,U=null){const{div:fe,id:Me}=ve;if(this._scrollMode===P.ScrollMode.PAGE&&(this._setCurrentPageNumber(Me),j(this,O,He).call(this),this.update()),!U&&!this.isInPresentationMode){const Be=fe.offsetLeft+fe.clientLeft,ae=Be+fe.clientWidth,{scrollLeft:K,clientWidth:ne}=this.container;(this._scrollMode===P.ScrollMode.HORIZONTAL||Be<K||ae>K+ne)&&(U={left:0,top:0})}(0,P.scrollIntoView)(fe,U)}function et(ve){return ve===this._currentScale||Math.abs(ve-this._currentScale)<1e-15}function Ze(){const ve=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),j(this,le,xe).call(this,ve)}function je(ve){return De.apply(this,arguments)}function De(){return(De=k(function*(ve){if(ve.pdfPage)return ve.pdfPage;try{const U=yield this.pdfDocument.getPage(ve.id);return ve.pdfPage||ve.setPdfPage(U),this.linkService._cachedPageNumber?.(U.ref)||this.linkService.cachePageRef(ve.id,U.ref),U}catch(U){return console.error("Unable to get page for page view",U),null}})).apply(this,arguments)}function Fe(ve){if(1===ve.first?.id)return!0;if(ve.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case P.ScrollMode.PAGE:return H(this,b).scrollDown;case P.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ue(ve){for(const U of ve)this._pages[U-1]?.toggleLoadingIconSpinner(!0);for(const U of H(this,Te))ve.has(U.id)||U.toggleLoadingIconSpinner(!1)}T.BaseViewer=Re},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFPageView=void 0;var I=B(3),L=B(6),P=B(13),R=B(4);const h=P.compatibilityParams.maxCanvasPixels||16777216;var f=new WeakMap;T.PDFPageView=class w{constructor(D){G(this,f,{writable:!0,value:I.AnnotationMode.ENABLE_FORMS});const M=D.container,S=D.defaultViewport;this.id=D.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=D.scale||L.DEFAULT_SCALE,this.viewport=S,this.pdfPageRotate=S.rotation,this._optionalContentConfigPromise=D.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=D.textLayerMode??L.TextLayerMode.ENABLE,d(this,f,D.annotationMode??I.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=D.imageResourcesPath||"",this.useOnlyCssZoom=D.useOnlyCssZoom||!1,this.maxCanvasPixels=D.maxCanvasPixels||h,this.pageColors=D.pageColors||null,this.eventBus=D.eventBus,this.renderingQueue=D.renderingQueue,this.textLayerFactory=D.textLayerFactory,this.annotationLayerFactory=D.annotationLayerFactory,this.xfaLayerFactory=D.xfaLayerFactory,this.textHighlighter=D.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=D.structTreeLayerFactory,this.renderer=D.renderer||L.RendererType.CANVAS,this.l10n=D.l10n||R.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=L.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const v=document.createElement("div");v.className="page",v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px",v.setAttribute("data-page-number",this.id),v.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then($=>{v.setAttribute("aria-label",$)}),this.div=v,M?.appendChild(v)}setPdfPage(D){this.pdfPage=D,this.pdfPageRotate=D.rotate,this.viewport=D.getViewport({scale:this.scale*I.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var D=this;return k(function*(){let M=null;try{yield D.annotationLayer.render(D.viewport,"display")}catch(S){M=S}finally{D.eventBus.dispatch("annotationlayerrendered",{source:D,pageNumber:D.id,error:M})}})()}_renderXfaLayer(){var D=this;return k(function*(){let M=null;try{const S=yield D.xfaLayer.render(D.viewport,"display");D.textHighlighter&&D._buildXfaTextContentItems(S.textDivs)}catch(S){M=S}finally{D.eventBus.dispatch("xfalayerrendered",{source:D,pageNumber:D.id,error:M})}})()}_buildXfaTextContentItems(D){var M=this;return k(function*(){const S=yield M.pdfPage.getTextContent(),v=[];for(const $ of S.items)v.push($.str);M.textHighlighter.setTextMapping(D,v),M.textHighlighter.enable()})()}_resetZoomLayer(D=!1){if(!this.zoomLayer)return;const M=this.zoomLayer.firstChild;this.paintedViewportMap.delete(M),M.width=0,M.height=0,D&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:D=!1,keepAnnotationLayer:M=!1,keepXfaLayer:S=!1}={}){this.cancelRendering({keepAnnotationLayer:M,keepXfaLayer:S}),this.renderingState=L.RenderingStates.INITIAL;const v=this.div;v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px";const $=v.childNodes,W=D&&this.zoomLayer||null,te=M&&this.annotationLayer?.div||null,ue=S&&this.xfaLayer?.div||null;for(let pe=$.length-1;pe>=0;pe--){const me=$[pe];switch(me){case W:case te:case ue:continue}me.remove()}v.removeAttribute("data-loaded"),te&&this.annotationLayer.hide(),ue&&this.xfaLayer.hide(),W||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(pe=>{this.loadingIconDiv?.setAttribute("aria-label",pe)}),v.appendChild(this.loadingIconDiv)}update({scale:D=0,rotation:M=null,optionalContentConfigPromise:S=null}){if(this.scale=D||this.scale,"number"==typeof M&&(this.rotation=M),S instanceof Promise&&(this._optionalContentConfigPromise=S),this.viewport=this.viewport.clone({scale:this.scale*I.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:W}=document.documentElement;W.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let $=!1;if(this.canvas&&this.maxCanvasPixels>0){const W=this.outputScale;(Math.floor(this.viewport.width)*W.sx|0)*(Math.floor(this.viewport.height)*W.sy|0)>this.maxCanvasPixels&&($=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&$)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:D=!1,keepXfaLayer:M=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!D||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!M||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:D,redrawAnnotationLayer:M=!1,redrawXfaLayer:S=!1}){const v=this.viewport.width,$=this.viewport.height,W=this.div;D.style.width=D.parentNode.style.width=W.style.width=Math.floor(v)+"px",D.style.height=D.parentNode.style.height=W.style.height=Math.floor($)+"px";const te=this.viewport.rotation-this.paintedViewportMap.get(D).rotation,ue=Math.abs(te);let pe=1,me=1;if((90===ue||270===ue)&&(pe=$/v,me=v/$),D.style.transform=`rotate(${te}deg) scale(${pe}, ${me})`,this.textLayer){const _e=this.textLayer.viewport,Te=Math.abs(this.viewport.rotation-_e.rotation);let z=v/_e.width;(90===Te||270===Te)&&(z=v/_e.height);const m=this.textLayer.textLayerDiv;let c,p;switch(Te){case 0:c=p=0;break;case 90:c=0,p="-"+m.style.height;break;case 180:c="-"+m.style.width,p="-"+m.style.height;break;case 270:c="-"+m.style.width,p=0;break;default:console.error("Bad rotation value.")}m.style.transform=`rotate(${Te}deg) scale(${z}) translate(${c}, ${p})`,m.style.transformOrigin="0% 0%"}M&&this.annotationLayer&&this._renderAnnotationLayer(),S&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(D,M){return this.viewport.convertToPdfPoint(D,M)}toggleLoadingIconSpinner(D=!1){this.loadingIconDiv?.classList.toggle("notVisible",!D)}draw(){var D=this;this.renderingState!==L.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:M,pdfPage:S}=this;if(!S)return this.renderingState=L.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=L.RenderingStates.RUNNING;const v=document.createElement("div");v.style.width=M.style.width,v.style.height=M.style.height,v.classList.add("canvasWrapper"),this.annotationLayer?.div?M.insertBefore(v,this.annotationLayer.div):M.appendChild(v);let $=null;if(this.textLayerMode!==L.TextLayerMode.DISABLE&&this.textLayerFactory){const me=document.createElement("div");me.className="textLayer",me.style.width=v.style.width,me.style.height=v.style.height,this.annotationLayer?.div?M.insertBefore(me,this.annotationLayer.div):M.appendChild(me),$=this.textLayerFactory.createTextLayerBuilder(me,this.id-1,this.viewport,this.textLayerMode===L.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=$,H(this,f)!==I.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(M,S,null,this.imageResourcesPath,H(this,f)===I.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&M.appendChild(this.xfaLayer.div);let W=null;this.renderingQueue&&(W=me=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=L.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=L.RenderingStates.RUNNING,me()});me()});const te=function(){var me=k(function*(_e=null){if(ue===D.paintTask&&(D.paintTask=null),_e instanceof I.RenderingCancelledException)D._renderError=null;else if(D._renderError=_e,D.renderingState=L.RenderingStates.FINISHED,D.loadingIconDiv&&(D.loadingIconDiv.remove(),delete D.loadingIconDiv),D._resetZoomLayer(!0),D.eventBus.dispatch("pagerendered",{source:D,pageNumber:D.id,cssTransform:!1,timestamp:performance.now(),error:D._renderError}),_e)throw _e});return function(){return me.apply(this,arguments)}}(),ue=this.renderer===L.RendererType.SVG?this.paintOnSvg(v):this.paintOnCanvas(v);ue.onRenderContinue=W,this.paintTask=ue;const pe=ue.promise.then(()=>te(null).then(()=>{if($){const me=S.streamTextContent({includeMarkedContent:!0});$.setTextContentStream(me),$.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(me){return te(me)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(M,S,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=me=>{me.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(_e=>{if(!_e||!this.canvas)return;const ke=this.structTreeLayer.render(_e);ke.classList.add("structTree"),this.canvas.appendChild(ke)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(S)),M.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),pe}paintOnCanvas(D){const M=(0,I.createPromiseCapability)(),S={promise:M.promise,onRenderContinue(m){m()},cancel(){z.cancel()}},v=this.viewport,$=document.createElement("canvas");$.hidden=!0;let W=!0;const te=function(){W&&($.hidden=!1,W=!1)};D.appendChild($),this.canvas=$;const ue=$.getContext("2d",{alpha:!1}),pe=this.outputScale=new L.OutputScale;if(this.useOnlyCssZoom){const m=v.clone({scale:I.PixelsPerInch.PDF_TO_CSS_UNITS});pe.sx*=m.width/v.width,pe.sy*=m.height/v.height}if(this.maxCanvasPixels>0){const c=Math.sqrt(this.maxCanvasPixels/(v.width*v.height));pe.sx>c||pe.sy>c?(pe.sx=c,pe.sy=c,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const me=(0,L.approximateFraction)(pe.sx),_e=(0,L.approximateFraction)(pe.sy);$.width=(0,L.roundToDivide)(v.width*pe.sx,me[0]),$.height=(0,L.roundToDivide)(v.height*pe.sy,_e[0]),$.style.width=(0,L.roundToDivide)(v.width,me[1])+"px",$.style.height=(0,L.roundToDivide)(v.height,_e[1])+"px",this.paintedViewportMap.set($,v);const Te={canvasContext:ue,transform:pe.scaled?[pe.sx,0,0,pe.sy,0,0]:null,viewport:this.viewport,annotationMode:H(this,f),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},z=this.pdfPage.render(Te);return z.onContinue=function(m){te(),S.onRenderContinue?S.onRenderContinue(m):m()},z.promise.then(function(){te(),M.resolve()},function(m){te(),M.reject(m)}),S}paintOnSvg(D){let M=!1;const S=()=>{if(M)throw new I.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},v=this.pdfPage,$=this.viewport.clone({scale:I.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:v.getOperatorList({annotationMode:H(this,f)}).then(te=>(S(),new I.SVGGraphics(v.commonObjs,v.objs).getSVG(te,$).then(pe=>{S(),this.svg=pe,this.paintedViewportMap.set(pe,$),pe.style.width=D.style.width,pe.style.height=D.style.height,this.renderingState=L.RenderingStates.FINISHED,D.appendChild(pe)}))),onRenderContinue(te){te()},cancel(){M=!0}}}setPageLabel(D){this.pageLabel="string"==typeof D?D:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.compatibilityParams=T.OptionKind=T.AppOptions=void 0;const B=Object.create(null);T.compatibilityParams=B;{const h=navigator.userAgent||"",f=navigator.platform||"",w=navigator.maxTouchPoints||1,F=/Android/.test(h);(/\b(iPad|iPhone|iPod)(?=;)/.test(h)||"MacIntel"===f&&w>1||F)&&(B.maxCanvasPixels=5242880)}const I={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};T.OptionKind=I;const L={annotationMode:{value:2,kind:I.VIEWER+I.PREFERENCE},cursorToolOnLoad:{value:0,kind:I.VIEWER+I.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:I.VIEWER},defaultZoomValue:{value:"",kind:I.VIEWER+I.PREFERENCE},disableHistory:{value:!1,kind:I.VIEWER},disablePageLabels:{value:!1,kind:I.VIEWER+I.PREFERENCE},enablePermissions:{value:!1,kind:I.VIEWER+I.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:I.VIEWER+I.PREFERENCE},enableScripting:{value:!0,kind:I.VIEWER+I.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:I.VIEWER},externalLinkTarget:{value:0,kind:I.VIEWER+I.PREFERENCE},historyUpdateUrl:{value:!1,kind:I.VIEWER+I.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:I.VIEWER+I.PREFERENCE},imageResourcesPath:{value:"./images/",kind:I.VIEWER},maxCanvasPixels:{value:16777216,compatibility:B.maxCanvasPixels,kind:I.VIEWER},pageColorsBackground:{value:"Canvas",kind:I.VIEWER+I.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:I.VIEWER+I.PREFERENCE},pdfBugEnabled:{value:!1,kind:I.VIEWER+I.PREFERENCE},printResolution:{value:150,kind:I.VIEWER},renderer:{value:"canvas",kind:I.VIEWER},sidebarViewOnLoad:{value:-1,kind:I.VIEWER+I.PREFERENCE},scrollModeOnLoad:{value:-1,kind:I.VIEWER+I.PREFERENCE},spreadModeOnLoad:{value:-1,kind:I.VIEWER+I.PREFERENCE},textLayerMode:{value:1,kind:I.VIEWER+I.PREFERENCE},useOnlyCssZoom:{value:!1,kind:I.VIEWER+I.PREFERENCE},viewerCssTheme:{value:0,kind:I.VIEWER+I.PREFERENCE},viewOnLoad:{value:0,kind:I.VIEWER+I.PREFERENCE},cMapPacked:{value:!0,kind:I.API},cMapUrl:{value:"../web/cmaps/",kind:I.API},disableAutoFetch:{value:!1,kind:I.API+I.PREFERENCE},disableFontFace:{value:!1,kind:I.API+I.PREFERENCE},disableRange:{value:!1,kind:I.API+I.PREFERENCE},disableStream:{value:!1,kind:I.API+I.PREFERENCE},docBaseUrl:{value:"",kind:I.API},enableXfa:{value:!0,kind:I.API+I.PREFERENCE},fontExtraProperties:{value:!1,kind:I.API},isEvalSupported:{value:!0,kind:I.API},maxImageSize:{value:-1,kind:I.API},pdfBug:{value:!1,kind:I.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:I.API},verbosity:{value:1,kind:I.API},workerPort:{value:null,kind:I.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:I.WORKER}};L.disablePreferences={value:!1,kind:I.VIEWER},L.locale={value:navigator.language||"en-US",kind:I.VIEWER},L.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:I.VIEWER},L.renderer.kind+=I.PREFERENCE;const P=Object.create(null);T.AppOptions=class R{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(f){const w=P[f];if(void 0!==w)return w;const F=L[f];return void 0!==F?F.compatibility??F.value:void 0}static getAll(f=null){const w=Object.create(null);for(const F in L){const D=L[F];if(f){if(!(f&D.kind))continue;if(f===I.PREFERENCE){const S=D.value,v=typeof S;if("boolean"===v||"string"===v||"number"===v&&Number.isInteger(S)){w[F]=S;continue}throw new Error(`Invalid type for preference: ${F}`)}}const M=P[F];w[F]=void 0!==M?M:D.compatibility??D.value}return w}static set(f,w){P[f]=w}static setAll(f){for(const w in f)P[w]=f[w]}static remove(f){delete P[f]}static _hasUserOptions(){return Object.keys(P).length>0}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFRenderingQueue=void 0;var I=B(3),L=B(6);T.PDFRenderingQueue=class R{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(f){this.pdfViewer=f}setThumbnailViewer(f){this.pdfThumbnailViewer=f}isHighestPriority(f){return this.highestPriorityPage===f.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(f){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(f)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(f,w,F,D=!1){const M=f.views,S=M.length;if(0===S)return null;for(let ue=0;ue<S;ue++){const pe=M[ue].view;if(!this.isViewFinished(pe))return pe}const v=f.first.id,$=f.last.id;if($-v+1>S){const ue=f.ids;for(let pe=1,me=$-v;pe<me;pe++){const _e=F?v+pe:$-pe;if(ue.has(_e))continue;const ke=w[_e-1];if(!this.isViewFinished(ke))return ke}}let W=F?$:v-2,te=w[W];return te&&!this.isViewFinished(te)||D&&(W+=F?1:-1,te=w[W],te&&!this.isViewFinished(te))?te:null}isViewFinished(f){return f.renderingState===L.RenderingStates.FINISHED}renderView(f){switch(f.renderingState){case L.RenderingStates.FINISHED:return!1;case L.RenderingStates.PAUSED:this.highestPriorityPage=f.renderingId,f.resume();break;case L.RenderingStates.RUNNING:this.highestPriorityPage=f.renderingId;break;case L.RenderingStates.INITIAL:this.highestPriorityPage=f.renderingId,f.draw().finally(()=>{this.renderHighestPriority()}).catch(w=>{w instanceof I.RenderingCancelledException||console.error(`renderView: "${w}"`)})}return!0}}},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TextHighlighter=void 0,T.TextHighlighter=class B{constructor({findController:L,eventBus:P,pageIndex:R}){this.findController=L,this.matches=[],this.eventBus=P,this.pageIdx=R,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(L,P){this.textDivs=L,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=L=>{(L.pageIndex===this.pageIdx||-1===L.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(L,P){if(!L)return[];const{textContentItemsStr:R}=this;let h=0,f=0;const w=R.length-1,F=[];for(let D=0,M=L.length;D<M;D++){let S=L[D];for(;h!==w&&S>=f+R[h].length;)f+=R[h].length,h++;h===R.length&&console.error("Could not find a matching mapping");const v={begin:{divIdx:h,offset:S-f}};for(S+=P[D];h!==w&&S>f+R[h].length;)f+=R[h].length,h++;v.end={divIdx:h,offset:S-f},F.push(v)}return F}_renderMatches(L){if(0===L.length)return;const{findController:P,pageIdx:R}=this,{textContentItemsStr:h,textDivs:f}=this,w=R===P.selected.pageIdx,F=P.selected.matchIdx;let M=null;function v(ue,pe){const me=ue.divIdx;return f[me].textContent="",$(me,0,ue.offset,pe)}function $(ue,pe,me,_e){let ke=f[ue];if(ke.nodeType===Node.TEXT_NODE){const m=document.createElement("span");ke.parentNode.insertBefore(m,ke),m.appendChild(ke),f[ue]=m,ke=m}const Te=h[ue].substring(pe,me),z=document.createTextNode(Te);if(_e){const m=document.createElement("span");return m.className=`${_e} appended`,m.appendChild(z),ke.appendChild(m),_e.includes("selected")?m.offsetLeft:0}return ke.appendChild(z),0}let W=F,te=W+1;if(P.state.highlightAll)W=0,te=L.length;else if(!w)return;for(let ue=W;ue<te;ue++){const pe=L[ue],me=pe.begin,_e=pe.end,ke=w&&ue===F,Te=ke?" selected":"";let z=0;if(M&&me.divIdx===M.divIdx?$(M.divIdx,M.offset,me.offset):(null!==M&&$(M.divIdx,M.offset,undefined),v(me)),me.divIdx===_e.divIdx)z=$(me.divIdx,me.offset,_e.offset,"highlight"+Te);else{z=$(me.divIdx,me.offset,undefined,"highlight begin"+Te);for(let m=me.divIdx+1,c=_e.divIdx;m<c;m++)f[m].className="highlight middle"+Te;v(_e,"highlight end"+Te)}M=_e,ke&&P.scrollMatchIntoView({element:f[me.divIdx],selectedLeft:z,pageIndex:R,matchIndex:F})}M&&$(M.divIdx,M.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:L,matches:P,pageIdx:R}=this,{textContentItemsStr:h,textDivs:f}=this;let w=-1;for(let M=0,S=P.length;M<S;M++){const v=P[M];for(let W=Math.max(w,v.begin.divIdx),te=v.end.divIdx;W<=te;W++){const ue=f[W];ue.textContent=h[W],ue.className=""}w=v.end.divIdx+1}L?.highlightMatches&&(this.matches=this._convertMatches(L.pageMatches[R]||null,L.pageMatchesLength[R]||null),this._renderMatches(this.matches))}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.DownloadManager=void 0;var I=B(3);function L(R,h){const f=document.createElement("a");if(!f.click)throw new Error('DownloadManager: "a.click()" is not supported.');f.href=R,f.target="_parent","download"in f&&(f.download=h),(document.body||document.documentElement).appendChild(f),f.click(),f.remove()}T.DownloadManager=class P{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(h,f){(0,I.createValidAbsoluteUrl)(h,"http://example.com")?L(h+"#pdfjs.action=download",f):console.error(`downloadUrl - not a valid URL: ${h}`)}downloadData(h,f,w){L(URL.createObjectURL(new Blob([h],{type:w})),f)}openOrDownloadData(h,f,w){const F=(0,I.isPdfFile)(w),D=F?"application/pdf":"";if(F){let S,M=this._openBlobUrls.get(h);M||(M=URL.createObjectURL(new Blob([f],{type:D})),this._openBlobUrls.set(h,M)),S="?file="+encodeURIComponent(M+"#"+w);try{return window.open(S),!0}catch(v){console.error(`openOrDownloadData: ${v}`),URL.revokeObjectURL(M),this._openBlobUrls.delete(h)}}return this.downloadData(f,w,D),!1}download(h,f,w,F="download"){L(URL.createObjectURL(h),w)}}},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.WaitOnType=T.EventBus=T.AutomationEventBus=void 0,T.waitOnEventOrTimeout=function I({target:R,name:h,delay:f=0}){return new Promise(function(w,F){if("object"!=typeof R||!h||"string"!=typeof h||!(Number.isInteger(f)&&f>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function D($){R instanceof L?R._off(h,M):R.removeEventListener(h,M),v&&clearTimeout(v),w($)}const M=D.bind(null,B.EVENT);R instanceof L?R._on(h,M):R.addEventListener(h,M);const S=D.bind(null,B.TIMEOUT),v=setTimeout(S,f)})};const B={EVENT:"event",TIMEOUT:"timeout"};T.WaitOnType=B;class L{constructor(){this._listeners=Object.create(null)}on(h,f,w=null){this._on(h,f,{external:!0,once:w?.once})}off(h,f,w=null){this._off(h,f,{external:!0,once:w?.once})}dispatch(h,f){const w=this._listeners[h];if(!w||0===w.length)return;let F;for(const{listener:D,external:M,once:S}of w.slice(0))S&&this._off(h,D),M?(F||=[]).push(D):D(f);if(F){for(const D of F)D(f);F=null}}_on(h,f,w=null){(this._listeners[h]||=[]).push({listener:f,external:!0===w?.external,once:!0===w?.once})}_off(h,f,w=null){const F=this._listeners[h];if(F)for(let D=0,M=F.length;D<M;D++)if(F[D].listener===f)return void F.splice(D,1)}}T.EventBus=L,T.AutomationEventBus=class P extends L{dispatch(h,f){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.GenericL10n=void 0,B(19);var I=B(4);const L=document.webL10n;T.GenericL10n=class P{constructor(h){this._lang=h,this._ready=new Promise((f,w)=>{L.setLanguage((0,I.fixupLangCode)(h),()=>{f(L)})})}getLanguage(){var h=this;return k(function*(){return(yield h._ready).getLanguage()})()}getDirection(){var h=this;return k(function*(){return(yield h._ready).getDirection()})()}get(h,f=null,w=(0,I.getL10nFallback)(h,f)){var F=this;return k(function*(){return(yield F._ready).get(h,f,w)})()}translate(h){var f=this;return k(function*(){return(yield f._ready).translate(h)})()}}},()=>{document.webL10n=function(ie,T,B){var I={},L="",P="textContent",R="",h={},f="loading";function v(m,c,p){c=c||function(C){},p=p||function(){};var b=new XMLHttpRequest;b.open("GET",m,!0),b.overrideMimeType&&b.overrideMimeType("text/plain; charset=utf-8"),b.onreadystatechange=function(){4==b.readyState&&(200==b.status||0===b.status?c(b.responseText):p())},b.onerror=p,b.ontimeout=p;try{b.send(null)}catch{p()}}function W(m,c){m&&(m=m.toLowerCase()),c=c||function(){},function te(){I={},L="",R=""}(),R=m;var p=function F(){return T.querySelectorAll('link[type="application/l10n"]')}(),b=p.length;if(0!==b){var O,le=0;O=function(){++le>=b&&(c(),f="complete")};for(var he=0;he<b;he++)new J(p[he]).load(m,O)}else{var E=function D(){var m=T.querySelector('script[type="application/l10n"]');return m?JSON.parse(m.innerHTML):null}();if(E&&E.locales&&E.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(I=E.locales[m])){var C=E.default_locale.toLowerCase();for(var y in E.locales){if((y=y.toLowerCase())===m){I=E.locales[m];break}y===C&&(I=E.locales[C])}}c()}else console.log("no resource to load, early way out");f="complete"}function J(be){var ye=be.href;this.load=function(Re,Ve){!function $(m,c,p,b){var E=m.replace(/[^\/]*$/,"")||"./";function C(O){return O.lastIndexOf("\\")<0?O:O.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}v(m,function(O){L+=O,function y(O,le){var J={},he=/^\s*|\s*$/,de=/^\s*#|^\s*$/,be=/^\s*\[(.*)\]\s*$/,ye=/^\s*@import\s+url\((.*)\)\s*$/i,Re=/^([^=\s]*)\s*=\s*(.+)$/;function Ve(He,xe,et){var Ze=He.replace(he,"").split(/[\r\n]+/),je="*",De=c.split("-",1)[0],Fe=!1,Ue="";!function ve(){for(;;){if(!Ze.length)return void et();var U=Ze.shift();if(!de.test(U)){if(xe){if(Ue=be.exec(U)){je=Ue[1].toLowerCase(),Fe="*"!==je&&je!==c&&je!==De;continue}if(Fe)continue;if(Ue=ye.exec(U))return void We(E+Ue[1],ve)}var fe=U.match(Re);fe&&3==fe.length&&(J[fe[1]]=C(fe[2]))}}}()}function We(He,xe){v(He,function(et){Ve(et,!1,xe)},function(){console.warn(He+" not found."),xe()})}Ve(O,!0,function(){le(J)})}(O,function(le){for(var J in le){var he,de,be=J.lastIndexOf(".");be>0?(he=J.substring(0,be),de=J.substring(be+1)):(he=J,de=P),I[he]||(I[he]={}),I[he][de]=le[J]}p&&p()})},b)}(ye,Re,Ve,function(){console.warn(ye+" not found."),console.warn('"'+Re+'" resource not found'),R="",Ve()})}}}function pe(m,c,p){var b=I[m];if(!b){if(console.warn("#"+m+" is undefined."),!p)return null;b=p}var E={};for(var C in b){var y=b[C];y=_e(y=me(y,c,m,C),c,m),E[C]=y}return E}function me(m,c,p,b){var C=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(m);if(!C||!C.length)return m;var le,y=C[1],O=C[2];return c&&O in c?le=c[O]:O in I&&(le=I[O]),y in h&&(m=(0,h[y])(m,le,p,b)),m}function _e(m,c,p){return m.replace(/\{\{\s*(.+?)\s*\}\}/g,function(E,C){return c&&C in c?c[C]:C in I?I[C]:(console.log("argument {{"+C+"}} for #"+p+" is undefined."),E)})}function ke(m){var c=function S(m){if(!m)return{};var c=m.getAttribute("data-l10n-id"),p=m.getAttribute("data-l10n-args"),b={};if(p)try{b=JSON.parse(p)}catch{console.warn("could not parse arguments for #"+c)}return{id:c,args:b}}(m);if(c.id){var p=pe(c.id,c.args);if(!p)return void console.warn("#"+c.id+" is undefined.");if(p[P]){if(0===function Te(m){if(m.children)return m.children.length;if(typeof m.childElementCount<"u")return m.childElementCount;for(var c=0,p=0;p<m.childNodes.length;p++)c+=1===m.nodeType?1:0;return c}(m))m[P]=p[P];else{for(var b=m.childNodes,E=!1,C=0,y=b.length;C<y;C++)3===b[C].nodeType&&/\S/.test(b[C].nodeValue)&&(E?b[C].nodeValue="":(b[C].nodeValue=p[P],E=!0));if(!E){var O=T.createTextNode(p[P]);m.insertBefore(O,m.firstChild)}}delete p[P]}for(var le in p)m[le]=p[le]}}return h.plural=function(m,c,p,b){var E=parseFloat(c);if(isNaN(E)||b!=P)return m;h._pluralRules||(h._pluralRules=function ue(m){function p(y,O){return-1!==O.indexOf(y)}function b(y,O,le){return O<=y&&y<=le}var E={0:function(y){return"other"},1:function(y){return b(y%100,3,10)?"few":0===y?"zero":b(y%100,11,99)?"many":2==y?"two":1==y?"one":"other"},2:function(y){return 0!==y&&y%10==0?"many":2==y?"two":1==y?"one":"other"},3:function(y){return 1==y?"one":"other"},4:function(y){return b(y,0,1)?"one":"other"},5:function(y){return b(y,0,2)&&2!=y?"one":"other"},6:function(y){return 0===y?"zero":y%10==1&&y%100!=11?"one":"other"},7:function(y){return 2==y?"two":1==y?"one":"other"},8:function(y){return b(y,3,6)?"few":b(y,7,10)?"many":2==y?"two":1==y?"one":"other"},9:function(y){return 0===y||1!=y&&b(y%100,1,19)?"few":1==y?"one":"other"},10:function(y){return b(y%10,2,9)&&!b(y%100,11,19)?"few":y%10!=1||b(y%100,11,19)?"other":"one"},11:function(y){return b(y%10,2,4)&&!b(y%100,12,14)?"few":y%10==0||b(y%10,5,9)||b(y%100,11,14)?"many":y%10==1&&y%100!=11?"one":"other"},12:function(y){return b(y,2,4)?"few":1==y?"one":"other"},13:function(y){return b(y%10,2,4)&&!b(y%100,12,14)?"few":1!=y&&b(y%10,0,1)||b(y%10,5,9)||b(y%100,12,14)?"many":1==y?"one":"other"},14:function(y){return b(y%100,3,4)?"few":y%100==2?"two":y%100==1?"one":"other"},15:function(y){return 0===y||b(y%100,2,10)?"few":b(y%100,11,19)?"many":1==y?"one":"other"},16:function(y){return y%10==1&&11!=y?"one":"other"},17:function(y){return 3==y?"few":0===y?"zero":6==y?"many":2==y?"two":1==y?"one":"other"},18:function(y){return 0===y?"zero":b(y,0,2)&&0!==y&&2!=y?"one":"other"},19:function(y){return b(y,2,10)?"few":b(y,0,1)?"one":"other"},20:function(y){return!b(y%10,3,4)&&y%10!=9||b(y%100,10,19)||b(y%100,70,79)||b(y%100,90,99)?y%1e6==0&&0!==y?"many":y%10!=2||p(y%100,[12,72,92])?y%10!=1||p(y%100,[11,71,91])?"other":"one":"two":"few"},21:function(y){return 0===y?"zero":1==y?"one":"other"},22:function(y){return b(y,0,1)||b(y,11,99)?"one":"other"},23:function(y){return b(y%10,1,2)||y%20==0?"one":"other"},24:function(y){return b(y,3,10)||b(y,13,19)?"few":p(y,[2,12])?"two":p(y,[1,11])?"one":"other"}},C={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[m.replace(/-.*$/,"")];return C in E?E[C]:(console.warn("plural form unknown for ["+m+"]"),function(){return"other"})}(R));var C="["+h._pluralRules(E)+"]";return 0===E&&p+"[zero]"in I?m=I[p+"[zero]"][b]:1==E&&p+"[one]"in I?m=I[p+"[one]"][b]:2==E&&p+"[two]"in I?m=I[p+"[two]"][b]:p+C in I?m=I[p+C][b]:p+"[other]"in I&&(m=I[p+"[other]"][b]),m},{get:function(m,c,p){var C,b=m.lastIndexOf("."),E=P;b>0&&(E=m.substring(b+1),m=m.substring(0,b)),p&&((C={})[E]=p);var y=pe(m,c,C);return y&&E in y?y[E]:"{{"+m+"}}"},getData:function(){return I},getText:function(){return L},getLanguage:function(){return R},setLanguage:function(m,c){W(m,function(){c&&c()})},getDirection:function(){var c=R.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(c)>=0?"rtl":"ltr"},translate:function z(m){for(var c=function M(m){return m?m.querySelectorAll("*[data-l10n-id]"):[]}(m=m||T.documentElement),p=c.length,b=0;b<p;b++)ke(c[b]);ke(m)},getReadyState:function(){return f},ready:function(m){m&&("complete"==f||"interactive"==f?ie.setTimeout(function(){m()}):T.addEventListener&&T.addEventListener("localized",function c(){T.removeEventListener("localized",c),m()}))}}}(window,document)},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFFindController=T.FindState=void 0;var I=B(6),L=B(3),P=B(21);const R={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};T.FindState=R;const F={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},D=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),M=[...D.values()].map(Ce=>String.fromCharCode(Ce)).join(""),S=/\p{M}+/gu,v=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,$=/([^\p{M}])\p{M}*$/u,W=/^\p{M}*([^\p{M}])/u;let te=null;function ue(Ce){if(!te){const Lt=Object.keys(F).join("");te=new RegExp(`([${Lt}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Ie=[];let qe;for(;null!==(qe=S.exec(Ce));)Ie.push([qe[0].length,qe.index]);let Ke=Ce.normalize("NFD");const Ne=[[0,0]];let tt=0,ze=0,rt=0,mt=0,dt=!1;return Ke=Ke.replace(te,(Lt,Un,Xt,Dn,Qt,nn)=>{if(nn-=rt,Un){const Sn=F[Lt],rn=Sn.length;for(let ei=1;ei<rn;ei++)Ne.push([nn-ze+ei,ze-ei]);return ze-=rn-1,Sn}if(Xt){const Sn=Xt.endsWith("\n"),rn=Sn?Xt.length-2:Xt.length;dt=!0;let ei=rn;nn+mt===Ie[tt]?.[1]&&(ei-=Ie[tt][0],++tt);for(let ti=1;ti<ei+1;ti++)Ne.push([nn-1-ze+ti,ze-ti]);return ze-=ei,rt+=ei,Sn?(Ne.push([(nn+=rn-1)-ze+1,1+ze]),ze+=1,rt+=1,mt+=1,Xt.slice(0,rn)):Xt}return Dn?(Ne.push([nn-ze+1,1+ze]),ze+=1,rt+=1,mt+=1,Dn.charAt(0)):(Ne.push([nn-ze+1,ze-1]),ze-=1,rt+=1,mt+=1," ")}),Ne.push([Ke.length,ze]),[Ke,Ne,dt]}function pe(Ce,Ie,qe){if(!Ce)return[Ie,qe];const Ke=Ie,Ne=Ie+qe;let tt=(0,I.binarySearchFirstItem)(Ce,rt=>rt[0]>=Ke);Ce[tt][0]>Ke&&--tt;let ze=(0,I.binarySearchFirstItem)(Ce,rt=>rt[0]>=Ne,tt);return Ce[ze][0]>Ne&&--ze,[Ke+Ce[tt][1],qe+Ce[ze][1]-Ce[tt][1]]}var me=new WeakSet,_e=new WeakSet,ke=new WeakMap,Te=new WeakSet,z=new WeakSet,m=new WeakSet,c=new WeakSet,p=new WeakSet,b=new WeakSet,E=new WeakSet,C=new WeakSet,y=new WeakSet,O=new WeakSet,le=new WeakSet,J=new WeakSet,he=new WeakSet,de=new WeakSet,be=new WeakSet,ye=new WeakSet,Re=new WeakSet;function We(Ce){if(!Ce)return;const Ie=this._pdfDocument,{type:qe}=Ce;(null===this._state||j(this,Te,et).call(this,Ce))&&(this._dirtyMatch=!0),this._state=Ce,"highlightallchange"!==qe&&j(this,Re,ot).call(this,R.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ie&&this._pdfDocument!==Ie)return;j(this,b,Ue).call(this);const Ke=!this._highlightMatches,Ne=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),qe?this._dirtyMatch?j(this,y,fe).call(this):"again"===qe?(j(this,y,fe).call(this),Ke&&this._state.highlightAll&&j(this,C,U).call(this)):"highlightallchange"===qe?(Ne?j(this,y,fe).call(this):this._highlightMatches=!0,j(this,C,U).call(this)):j(this,y,fe).call(this):this._findTimeout=setTimeout(()=>{j(this,y,fe).call(this),this._findTimeout=null},250)})}function He(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,L.createPromiseCapability)()}function xe(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=ue(this._state.query)),this._normalizedQuery}function et(Ce){if(Ce.query!==this._state.query)return!0;switch(Ce.type){case"again":const Ie=this._selected.pageIdx+1,qe=this._linkService;return Ie>=1&&Ie<=qe.pagesCount&&Ie!==qe.page&&!qe.isPageVisible(Ie);case"highlightallchange":return!1}return!0}function Ze(Ce,Ie,qe){let Ke=Ce.slice(0,Ie).match($);if(Ke){const Ne=Ce.charCodeAt(Ie),tt=Ke[1].charCodeAt(0);if((0,P.getCharacterType)(Ne)===(0,P.getCharacterType)(tt))return!1}if(Ke=Ce.slice(Ie+qe).match(W),Ke){const Ne=Ce.charCodeAt(Ie+qe-1),tt=Ke[1].charCodeAt(0);if((0,P.getCharacterType)(Ne)===(0,P.getCharacterType)(tt))return!1}return!0}function je(Ce,Ie,qe,Ke){const Ne=[],tt=[],ze=this._pageDiffs[qe];let rt;for(;null!==(rt=Ce.exec(Ke));){if(Ie&&!j(this,z,Ze).call(this,Ke,rt.index,rt[0].length))continue;const[mt,dt]=pe(ze,rt.index,rt[0].length);dt&&(Ne.push(mt),tt.push(dt))}this._pageMatches[qe]=Ne,this._pageMatchesLength[qe]=tt}function De(Ce,Ie){const{matchDiacritics:qe}=this._state;let Ke=!1;return(Ce=Ce.replace(v,(tt,ze,rt,mt,dt,Lt)=>ze?`[ ]*\\${ze}[ ]*`:rt?`[ ]*${rt}[ ]*`:mt?"[ ]+":qe?dt||Lt:dt?D.has(dt.charCodeAt(0))?dt:"":Ie?(Ke=!0,`${Lt}\\p{M}*`):Lt)).endsWith("[ ]*")&&(Ce=Ce.slice(0,Ce.length-"[ ]*".length)),qe&&Ie&&(Ke=!0,Ce=`${Ce}(?=[${M}]|[^\\p{M}]|$)`),[Ke,Ce]}function Fe(Ce){let Ie=H(this,ke);if(0===Ie.length)return;const{caseSensitive:qe,entireWord:Ke,phraseSearch:Ne}=this._state,tt=this._pageContents[Ce],ze=this._hasDiacritics[Ce];let rt=!1;if(Ne)[rt,Ie]=j(this,c,De).call(this,Ie,ze);else{const Lt=Ie.match(/\S+/g);Lt&&(Ie=Lt.sort().reverse().map(Un=>{const[Xt,Dn]=j(this,c,De).call(this,Un,ze);return rt||=Xt,`(${Dn})`}).join("|"))}Ie=new RegExp(Ie,`g${rt?"u":""}${qe?"":"i"}`),j(this,m,je).call(this,Ie,Ke,Ce,tt),this._state.highlightAll&&j(this,E,ve).call(this,Ce),this._resumePageIdx===Ce&&(this._resumePageIdx=null,j(this,le,Be).call(this));const dt=this._pageMatches[Ce].length;dt>0&&(this._matchesCountTotal+=dt,j(this,ye,$e).call(this))}function Ue(){if(this._extractTextPromises.length>0)return;let Ce=Promise.resolve();for(let Ie=0,qe=this._linkService.pagesCount;Ie<qe;Ie++){const Ke=(0,L.createPromiseCapability)();this._extractTextPromises[Ie]=Ke.promise,Ce=Ce.then(()=>this._pdfDocument.getPage(Ie+1).then(Ne=>Ne.getTextContent()).then(Ne=>{const tt=[];for(const ze of Ne.items)tt.push(ze.str),ze.hasEOL&&tt.push("\n");[this._pageContents[Ie],this._pageDiffs[Ie],this._hasDiacritics[Ie]]=ue(tt.join("")),Ke.resolve()},Ne=>{console.error(`Unable to get text content for page ${Ie+1}`,Ne),this._pageContents[Ie]="",this._pageDiffs[Ie]=null,this._hasDiacritics[Ie]=!1,Ke.resolve()}))}}function ve(Ce){this._scrollMatches&&this._selected.pageIdx===Ce&&(this._linkService.page=Ce+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Ce})}function U(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function fe(){const Ce=this._state.findPrevious,Ie=this._linkService.page-1,qe=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ie,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,j(this,C,U).call(this);for(let Ne=0;Ne<qe;Ne++)this._pendingFindMatches.has(Ne)||(this._pendingFindMatches.add(Ne),this._extractTextPromises[Ne].then(()=>{this._pendingFindMatches.delete(Ne),j(this,p,Fe).call(this,Ne)}))}if(""===H(this,ke))return void j(this,Re,ot).call(this,R.FOUND);if(this._resumePageIdx)return;const Ke=this._offset;if(this._pagesToSearch=qe,null!==Ke.matchIdx){if(!Ce&&Ke.matchIdx+1<this._pageMatches[Ke.pageIdx].length||Ce&&Ke.matchIdx>0)return Ke.matchIdx=Ce?Ke.matchIdx-1:Ke.matchIdx+1,void j(this,he,K).call(this,!0);j(this,J,ae).call(this,Ce)}j(this,le,Be).call(this)}function Me(Ce){const Ie=this._offset,qe=Ce.length,Ke=this._state.findPrevious;return qe?(Ie.matchIdx=Ke?qe-1:0,j(this,he,K).call(this,!0),!0):(j(this,J,ae).call(this,Ke),!!(Ie.wrapped&&(Ie.matchIdx=null,this._pagesToSearch<0))&&(j(this,he,K).call(this,!1),!0))}function Be(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Ce=null;do{const Ie=this._offset.pageIdx;if(Ce=this._pageMatches[Ie],!Ce){this._resumePageIdx=Ie;break}}while(!j(this,O,Me).call(this,Ce))}function ae(Ce){const Ie=this._offset,qe=this._linkService.pagesCount;Ie.pageIdx=Ce?Ie.pageIdx-1:Ie.pageIdx+1,Ie.matchIdx=null,this._pagesToSearch--,(Ie.pageIdx>=qe||Ie.pageIdx<0)&&(Ie.pageIdx=Ce?qe-1:0,Ie.wrapped=!0)}function K(Ce=!1){let Ie=R.NOT_FOUND;const qe=this._offset.wrapped;if(this._offset.wrapped=!1,Ce){const Ke=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ie=qe?R.WRAPPED:R.FOUND,-1!==Ke&&Ke!==this._selected.pageIdx&&j(this,E,ve).call(this,Ke)}j(this,Re,ot).call(this,Ie,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,j(this,E,ve).call(this,this._selected.pageIdx))}function ne(Ce){const Ie=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ie&&this._pdfDocument!==Ie||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),j(this,Re,ot).call(this,R.FOUND),this._highlightMatches=!1,j(this,C,U).call(this))})}function we(){const{pageIdx:Ce,matchIdx:Ie}=this._selected;let qe=0,Ke=this._matchesCountTotal;if(-1!==Ie){for(let Ne=0;Ne<Ce;Ne++)qe+=this._pageMatches[Ne]?.length||0;qe+=Ie+1}return(qe<1||qe>Ke)&&(qe=Ke=0),{current:qe,total:Ke}}function $e(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:j(this,be,we).call(this)})}function ot(Ce,Ie=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Ce,previous:Ie,matchesCount:j(this,be,we).call(this),rawQuery:this._state?.query??null})}T.PDFFindController=class Ve{constructor({linkService:Ie,eventBus:qe}){q(this,Re),q(this,ye),q(this,be),q(this,de),q(this,he),q(this,J),q(this,le),q(this,O),q(this,y),q(this,C),q(this,E),q(this,b),q(this,p),q(this,c),q(this,m),q(this,z),q(this,Te),G(this,ke,{get:xe,set:void 0}),q(this,_e),q(this,me),this._linkService=Ie,this._eventBus=qe,j(this,_e,He).call(this),qe._on("find",j(this,me,We).bind(this)),qe._on("findbarclose",j(this,de,ne).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Ie){this._pdfDocument&&j(this,_e,He).call(this),Ie&&(this._pdfDocument=Ie,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Ie=null,selectedLeft:qe=0,pageIndex:Ke=-1,matchIndex:Ne=-1}){this._scrollMatches&&Ie&&-1!==Ne&&Ne===this._selected.matchIdx&&-1!==Ke&&Ke===this._selected.pageIdx&&(this._scrollMatches=!1,(0,I.scrollIntoView)(Ie,{top:-50,left:qe+-400},!0))}}},(ie,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.CharacterType=void 0,T.getCharacterType=function S(v){return function I(v){return v<11904}(v)?function L(v){return 0==(65408&v)}(v)?function h(v){return 32===v||9===v||13===v||10===v}(v)?B.SPACE:function P(v){return v>=97&&v<=122||v>=65&&v<=90}(v)||function R(v){return v>=48&&v<=57}(v)||95===v?B.ALPHA_LETTER:B.PUNCT:function M(v){return 3584==(65408&v)}(v)?B.THAI_LETTER:160===v?B.SPACE:B.ALPHA_LETTER:function f(v){return v>=13312&&v<=40959||v>=63744&&v<=64255}(v)?B.HAN_LETTER:function w(v){return v>=12448&&v<=12543}(v)?B.KATAKANA_LETTER:function F(v){return v>=12352&&v<=12447}(v)?B.HIRAGANA_LETTER:function D(v){return v>=65376&&v<=65439}(v)?B.HALFWIDTH_KATAKANA_LETTER:B.ALPHA_LETTER};const B={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};T.CharacterType=B},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFHistory=void 0,T.isDestArraysEqual=D,T.isDestHashesEqual=F;var I=B(6),L=B(17);function f(){return document.location.hash}function F(M,S){return"string"==typeof M&&"string"==typeof S&&(M===S||(0,I.parseQueryString)(M).get("nameddest")===S)}function D(M,S){function v($,W){if(typeof $!=typeof W||Array.isArray($)||Array.isArray(W))return!1;if(null!==$&&"object"==typeof $&&null!==W){if(Object.keys($).length!==Object.keys(W).length)return!1;for(const te in $)if(!v($[te],W[te]))return!1;return!0}return $===W||Number.isNaN($)&&Number.isNaN(W)}if(!Array.isArray(M)||!Array.isArray(S)||M.length!==S.length)return!1;for(let $=0,W=M.length;$<W;$++)if(!v(M[$],S[$]))return!1;return!0}T.PDFHistory=class w{constructor({linkService:S,eventBus:v}){this.linkService=S,this.eventBus=v,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",$=>{this._isPagesLoaded=!!$.pagesCount},{once:!0})})}initialize({fingerprint:S,resetHistory:v=!1,updateUrl:$=!1}){if(!S||"string"!=typeof S)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==S;this._fingerprint=S,this._updateUrl=!0===$,this._initialized=!0,this._bindEvents();const te=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=f(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(te,!0)||v){const{hash:pe,page:me,rotation:_e}=this._parseCurrentHash(!0);return!pe||W||v?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:pe,page:me,rotation:_e},!0)}const ue=te.destination;this._updateInternalState(ue,te.uid,!0),void 0!==ue.rotation&&(this._initialRotation=ue.rotation),ue.dest?(this._initialBookmark=JSON.stringify(ue.dest),this._destination.page=null):ue.hash?this._initialBookmark=ue.hash:ue.page&&(this._initialBookmark=`page=${ue.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:S=null,explicitDest:v,pageNumber:$}){if(!this._initialized)return;if(S&&"string"!=typeof S)return void console.error(`PDFHistory.push: "${S}" is not a valid namedDest parameter.`);if(!Array.isArray(v))return void console.error(`PDFHistory.push: "${v}" is not a valid explicitDest parameter.`);if(!this._isValidPage($)&&(null!==$||this._destination))return void console.error(`PDFHistory.push: "${$}" is not a valid pageNumber parameter.`);const W=S||JSON.stringify(v);if(!W)return;let te=!1;if(this._destination&&(F(this._destination.hash,W)||D(this._destination.dest,v))){if(this._destination.page)return;te=!0}this._popStateInProgress&&!te||(this._pushOrReplaceState({dest:v,hash:W,page:$,rotation:this.linkService.rotation},te),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(S){if(this._initialized){if(!this._isValidPage(S))return void console.error(`PDFHistory.pushPage: "${S}" is not a valid page number.`);this._destination?.page!==S&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${S}`,page:S,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const S=window.history.state;this._isValidState(S)&&S.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const S=window.history.state;this._isValidState(S)&&S.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(S,v=!1){const $=v||!this._destination,W={fingerprint:this._fingerprint,uid:$?this._uid:this._uid+1,destination:S};let te;if(this._updateInternalState(S,W.uid),this._updateUrl&&S?.hash){const ue=document.location.href.split("#")[0];ue.startsWith("file://")||(te=`${ue}#${S.hash}`)}$?window.history.replaceState(W,"",te):window.history.pushState(W,"",te)}_tryPushCurrentPosition(S=!1){if(!this._position)return;let v=this._position;if(S&&(v=Object.assign(Object.create(null),this._position),v.temporary=!0),!this._destination)return void this._pushOrReplaceState(v);if(this._destination.temporary)return void this._pushOrReplaceState(v,!0);if(this._destination.hash===v.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let $=!1;if(this._destination.page>=v.first&&this._destination.page<=v.page){if(void 0!==this._destination.dest||!this._destination.first)return;$=!0}this._pushOrReplaceState(v,$)}_isValidPage(S){return Number.isInteger(S)&&S>0&&S<=this.linkService.pagesCount}_isValidState(S,v=!1){if(!S)return!1;if(S.fingerprint!==this._fingerprint){if(!v)return!1;{if("string"!=typeof S.fingerprint||S.fingerprint.length!==this._fingerprint.length)return!1;const[$]=performance.getEntriesByType("navigation");if("reload"!==$?.type)return!1}}return!(!Number.isInteger(S.uid)||S.uid<0||null===S.destination||"object"!=typeof S.destination)}_updateInternalState(S,v,$=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),$&&S?.temporary&&delete S.temporary,this._destination=S,this._uid=v,this._maxUid=Math.max(this._maxUid,v),this._numPositionUpdates=0}_parseCurrentHash(S=!1){const v=unescape(f()).substring(1),$=(0,I.parseQueryString)(v),W=$.get("nameddest")||"";let te=0|$.get("page");return(!this._isValidPage(te)||S&&W.length>0)&&(te=null),{hash:v,page:te,rotation:this.linkService.rotation}}_updateViewarea({location:S}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:S.pdfOpenParams.substring(1),page:this.linkService.page,first:S.pageNumber,rotation:S.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:S}){const v=f(),$=this._currentHash!==v;if(this._currentHash=v,!S){this._uid++;const{hash:te,page:ue,rotation:pe}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:te,page:ue,rotation:pe},!0)}if(!this._isValidState(S))return;this._popStateInProgress=!0,$&&(this._blockHashChange++,(0,L.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=S.destination;this._updateInternalState(W,S.uid,!0),(0,I.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFScriptingManager=void 0;var I=B(6),L=B(3);T.PDFScriptingManager=class P{constructor({eventBus:h,sandboxBundleSrc:f=null,scriptingFactory:w=null,docPropertiesLookup:F=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=h,this._sandboxBundleSrc=f,this._scriptingFactory=w,this._docPropertiesLookup=F,this._scriptingFactory||window.addEventListener("updatefromsandbox",D=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:D.detail})})}setViewer(h){this._pdfViewer=h}setDocument(h){var f=this;return k(function*(){if(f._pdfDocument&&(yield f._destroyScripting()),f._pdfDocument=h,!h)return;const[w,F,D]=yield Promise.all([h.getFieldObjects(),h.getCalculationOrderIds(),h.getJSActions()]);if(w||D){if(h===f._pdfDocument){try{f._scripting=f._createScripting()}catch(M){return console.error(`PDFScriptingManager.setDocument: "${M?.message}".`),void(yield f._destroyScripting())}f._internalEvents.set("updatefromsandbox",M=>{M?.source===window&&f._updateFromSandbox(M.detail)}),f._internalEvents.set("dispatcheventinsandbox",M=>{f._scripting?.dispatchEventInSandbox(M.detail)}),f._internalEvents.set("pagechanging",({pageNumber:M,previous:S})=>{M!==S&&(f._dispatchPageClose(S),f._dispatchPageOpen(M))}),f._internalEvents.set("pagerendered",({pageNumber:M})=>{f._pageOpenPending.has(M)&&M===f._pdfViewer.currentPageNumber&&f._dispatchPageOpen(M)}),f._internalEvents.set("pagesdestroy",function(){var M=k(function*(S){yield f._dispatchPageClose(f._pdfViewer.currentPageNumber),yield f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),f._closeCapability?.resolve()});return function(S){return M.apply(this,arguments)}}()),f._domEvents.set("mousedown",M=>{f._mouseState.isDown=!0}),f._domEvents.set("mouseup",M=>{f._mouseState.isDown=!1});for(const[M,S]of f._internalEvents)f._eventBus._on(M,S);for(const[M,S]of f._domEvents)window.addEventListener(M,S,!0);try{const M=yield f._getDocProperties();if(h!==f._pdfDocument)return;yield f._scripting.createSandbox({objects:w,calculationOrder:F,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...M,actions:D}}),f._eventBus.dispatch("sandboxcreated",{source:f})}catch(M){return console.error(`PDFScriptingManager.setDocument: "${M?.message}".`),void(yield f._destroyScripting())}yield f._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield f._dispatchPageOpen(f._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{h===f._pdfDocument&&(f._ready=!0)})}}else yield f._destroyScripting()})()}dispatchWillSave(h){var f=this;return k(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(h){var f=this;return k(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(h){var f=this;return k(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(h){var f=this;return k(function*(){return f._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,L.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,L.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,L.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,L.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(h){var f=this;return k(function*(){const w=f._pdfViewer.isInPresentationMode||f._pdfViewer.isChangingPresentationMode,{id:F,siblings:D,command:M,value:S}=h;if(!F){switch(M){case"clear":console.clear();break;case"error":console.error(S);break;case"layout":if(w)return;const $=(0,I.apiPageLayoutToViewerModes)(S);f._pdfViewer.spreadMode=$.spreadMode;break;case"page-num":f._pdfViewer.currentPageNumber=S+1;break;case"print":yield f._pdfViewer.pagesPromise,f._eventBus.dispatch("print",{source:f});break;case"println":console.log(S);break;case"zoom":if(w)return;f._pdfViewer.currentScaleValue=S;break;case"SaveAs":f._eventBus.dispatch("save",{source:f});break;case"FirstPage":f._pdfViewer.currentPageNumber=1;break;case"LastPage":f._pdfViewer.currentPageNumber=f._pdfViewer.pagesCount;break;case"NextPage":f._pdfViewer.nextPage();break;case"PrevPage":f._pdfViewer.previousPage();break;case"ZoomViewIn":if(w)return;f._pdfViewer.increaseScale();break;case"ZoomViewOut":if(w)return;f._pdfViewer.decreaseScale()}return}if(w&&h.focus)return;delete h.id,delete h.siblings;const v=D?[F,...D]:[F];for(const $ of v){const W=document.getElementById($);W?W.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:h})):f._pdfDocument?.annotationStorage.setValue($,h)}})()}_dispatchPageOpen(h,f=!1){var w=this;return k(function*(){const F=w._pdfDocument,D=w._visitedPages;if(f&&(w._closeCapability=(0,L.createPromiseCapability)()),!w._closeCapability)return;const M=w._pdfViewer.getPageView(h-1);if(M?.renderingState!==I.RenderingStates.FINISHED)return void w._pageOpenPending.add(h);w._pageOpenPending.delete(h);const S=k(function*(){const v=yield D.has(h)?null:M.pdfPage?.getJSActions();F===w._pdfDocument&&(yield w._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:h,actions:v}))})();D.set(h,S)})()}_dispatchPageClose(h){var f=this;return k(function*(){const w=f._pdfDocument,F=f._visitedPages;if(!f._closeCapability||f._pageOpenPending.has(h))return;const D=F.get(h);D&&(F.set(h,null),yield D,w===f._pdfDocument&&(yield f._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:h})))})()}_getDocProperties(){var h=this;return k(function*(){if(h._docPropertiesLookup)return h._docPropertiesLookup(h._pdfDocument);const{docPropertiesLookup:f}=B(24);return f(h._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,L.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:h}=B(24);return new h(this._sandboxBundleSrc)}_destroyScripting(){var h=this;return k(function*(){if(!h._scripting)return h._pdfDocument=null,void h._destroyCapability?.resolve();h._closeCapability&&(yield Promise.race([h._closeCapability.promise,new Promise(f=>{setTimeout(f,1e3)})]).catch(f=>{}),h._closeCapability=null),h._pdfDocument=null;try{yield h._scripting.destroySandbox()}catch{}for(const[f,w]of h._internalEvents)h._eventBus._off(f,w);h._internalEvents.clear();for(const[f,w]of h._domEvents)window.removeEventListener(f,w,!0);h._domEvents.clear(),h._pageOpenPending.clear(),h._visitedPages.clear(),h._scripting=null,delete h._mouseState.isDown,h._ready=!1,h._destroyCapability?.resolve()})()}}},(ie,T,B)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.GenericScripting=void 0,T.docPropertiesLookup=function L(h){return P.apply(this,arguments)};var I=B(3);function P(){return(P=k(function*(h){const w="".split("#")[0];let{info:F,metadata:D,contentDispositionFilename:M,contentLength:S}=yield h.getMetadata();if(!S){const{length:v}=yield h.getDownloadInfo();S=v}return{...F,baseURL:w,filesize:S,filename:M||(0,I.getPdfFilenameFromUrl)(""),metadata:D?.getRaw(),authors:D?.get("dc:creator"),numPages:h.numPages,URL:""}})).apply(this,arguments)}T.GenericScripting=class R{constructor(f){this._ready=(0,I.loadScript)(f,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(f){var w=this;return k(function*(){(yield w._ready).create(f)})()}dispatchEventInSandbox(f){var w=this;return k(function*(){const F=yield w._ready;setTimeout(()=>F.dispatchEvent(f),0)})()}destroySandbox(){var f=this;return k(function*(){(yield f._ready).nukeSandbox()})()}}}],ee={};function se(ie){var T=ee[ie];if(void 0!==T)return T.exports;var B=ee[ie]={exports:{}};return X[ie](B,B.exports,se),B.exports}var Q={};return(()=>{var ie=Q;Object.defineProperty(ie,"__esModule",{value:!0}),Object.defineProperty(ie,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return P.AnnotationLayerBuilder}}),Object.defineProperty(ie,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return T.DefaultAnnotationLayerFactory}}),Object.defineProperty(ie,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return T.DefaultStructTreeLayerFactory}}),Object.defineProperty(ie,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return T.DefaultTextLayerFactory}}),Object.defineProperty(ie,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return T.DefaultXfaLayerFactory}}),Object.defineProperty(ie,"DownloadManager",{enumerable:!0,get:function(){return R.DownloadManager}}),Object.defineProperty(ie,"EventBus",{enumerable:!0,get:function(){return h.EventBus}}),Object.defineProperty(ie,"GenericL10n",{enumerable:!0,get:function(){return f.GenericL10n}}),Object.defineProperty(ie,"LinkTarget",{enumerable:!0,get:function(){return B.LinkTarget}}),Object.defineProperty(ie,"NullL10n",{enumerable:!0,get:function(){return w.NullL10n}}),Object.defineProperty(ie,"PDFFindController",{enumerable:!0,get:function(){return F.PDFFindController}}),Object.defineProperty(ie,"PDFHistory",{enumerable:!0,get:function(){return D.PDFHistory}}),Object.defineProperty(ie,"PDFLinkService",{enumerable:!0,get:function(){return B.PDFLinkService}}),Object.defineProperty(ie,"PDFPageView",{enumerable:!0,get:function(){return M.PDFPageView}}),Object.defineProperty(ie,"PDFScriptingManager",{enumerable:!0,get:function(){return S.PDFScriptingManager}}),Object.defineProperty(ie,"PDFSinglePageViewer",{enumerable:!0,get:function(){return L.PDFSinglePageViewer}}),Object.defineProperty(ie,"PDFViewer",{enumerable:!0,get:function(){return L.PDFViewer}}),Object.defineProperty(ie,"ProgressBar",{enumerable:!0,get:function(){return I.ProgressBar}}),Object.defineProperty(ie,"SimpleLinkService",{enumerable:!0,get:function(){return B.SimpleLinkService}}),Object.defineProperty(ie,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return v.StructTreeLayerBuilder}}),Object.defineProperty(ie,"TextLayerBuilder",{enumerable:!0,get:function(){return $.TextLayerBuilder}}),Object.defineProperty(ie,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(ie,"parseQueryString",{enumerable:!0,get:function(){return I.parseQueryString}});var T=se(1),B=se(5),I=se(6),L=se(10),P=se(2),R=se(16),h=se(17),f=se(18),w=se(4),F=se(20),D=se(22),M=se(12),S=se(23),v=se(7),$=se(8),W=se(9)})(),Q})(),re.exports=se()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:re=>{function g(d,q,G,oe,j,H,k){try{var X=d[H](k),ee=X.value}catch(se){return void G(se)}X.done?q(ee):Promise.resolve(ee).then(oe,j)}re.exports=function N(d){return function(){var q=this,G=arguments;return new Promise(function(oe,j){var H=d.apply(q,G);function k(ee){g(H,oe,j,k,X,"next",ee)}function X(ee){g(H,oe,j,k,X,"throw",ee)}k(void 0)})}},re.exports.__esModule=!0,re.exports.default=re.exports},521:re=>{re.exports=function g(N,d){if(d.has(N))throw new TypeError("Cannot initialize the same private elements twice on an object")},re.exports.__esModule=!0,re.exports.default=re.exports},912:re=>{re.exports=function g(N,d){return d.get?d.get.call(N):d.value},re.exports.__esModule=!0,re.exports.default=re.exports},448:re=>{re.exports=function g(N,d,q){if(d.set)d.set.call(N,q);else{if(!d.writable)throw new TypeError("attempted to set read only private field");d.value=q}},re.exports.__esModule=!0,re.exports.default=re.exports},625:re=>{re.exports=function g(N,d){if(N!==d)throw new TypeError("Private static access of wrong provenance")},re.exports.__esModule=!0,re.exports.default=re.exports},506:re=>{re.exports=function g(N,d){if(void 0===N)throw new TypeError("attempted to "+d+" private static field before its declaration")},re.exports.__esModule=!0,re.exports.default=re.exports},69:re=>{re.exports=function g(N,d,q){if(!d.has(N))throw new TypeError("attempted to "+q+" private field on non-instance");return d.get(N)},re.exports.__esModule=!0,re.exports.default=re.exports},468:(re,g,N)=>{var d=N(912),q=N(69);re.exports=function G(oe,j){var H=q(oe,j,"get");return d(oe,H)},re.exports.__esModule=!0,re.exports.default=re.exports},159:(re,g,N)=>{var d=N(521);re.exports=function q(G,oe,j){d(G,oe),oe.set(G,j)},re.exports.__esModule=!0,re.exports.default=re.exports},661:(re,g,N)=>{var d=N(448),q=N(69);re.exports=function G(oe,j,H){var k=q(oe,j,"set");return d(oe,k,H),H},re.exports.__esModule=!0,re.exports.default=re.exports},467:re=>{re.exports=function g(N,d,q){if(!d.has(N))throw new TypeError("attempted to get private field on non-instance");return q},re.exports.__esModule=!0,re.exports.default=re.exports},860:(re,g,N)=>{var d=N(521);re.exports=function q(G,oe){d(G,oe),oe.add(G)},re.exports.__esModule=!0,re.exports.default=re.exports},280:(re,g,N)=>{var d=N(912),q=N(625),G=N(506);re.exports=function oe(j,H,k){return q(j,H),G(k,"get"),d(j,k)},re.exports.__esModule=!0,re.exports.default=re.exports},306:(re,g,N)=>{var d=N(448),q=N(625),G=N(506);re.exports=function oe(j,H,k,X){return q(j,H),G(k,"set"),d(j,k,X),X},re.exports.__esModule=!0,re.exports.default=re.exports},764:(re,g,N)=>{var d=N(625);re.exports=function q(G,oe,j){return d(G,oe),j},re.exports.__esModule=!0,re.exports.default=re.exports},416:(re,g,N)=>{var d=N(62);re.exports=function q(G,oe,j){return(oe=d(oe))in G?Object.defineProperty(G,oe,{value:j,enumerable:!0,configurable:!0,writable:!0}):G[oe]=j,G},re.exports.__esModule=!0,re.exports.default=re.exports},946:(re,g,N)=>{var d=N(698).default;re.exports=function q(G,oe){if("object"!==d(G)||null===G)return G;var j=G[Symbol.toPrimitive];if(void 0!==j){var H=j.call(G,oe||"default");if("object"!==d(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===oe?String:Number)(G)},re.exports.__esModule=!0,re.exports.default=re.exports},62:(re,g,N)=>{var d=N(698).default,q=N(946);re.exports=function G(oe){var j=q(oe,"string");return"symbol"===d(j)?j:String(j)},re.exports.__esModule=!0,re.exports.default=re.exports},698:re=>{function g(N){return re.exports=g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},re.exports.__esModule=!0,re.exports.default=re.exports,g(N)}re.exports=g,re.exports.__esModule=!0,re.exports.default=re.exports}},re=>{re(re.s=644)}]);